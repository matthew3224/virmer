function onIframeLoad(t,e){t.loadedIframeCheck&&1==t.loadedIframeCheck?(console.log("frame loaded-"),setTimeout(function(){e()},1e3)):t.onload=function(){console.log("frame loaded--"),e()}}function checkPercentage(t){return(t=Number(t))<0&&(t=0),1<t&&(t=1),Number(t.toFixed(2))}function checkHue(t){return isNaN(t)&&(t=0),Math.round(parseFloat(t))}function getHslFromHex(t){if(-1<t.indexOf("hsl("))return getHslFromHslString(t);var e=chroma(t).hsl();return isNaN(e[0])&&(e[0]=0),e[0]=Math.round(e[0]),e[1]=Number(Math.round(100*e[1])/100),e[2]=Number(Math.round(100*e[2])/100),e}function getHslFromHslString(t){var e=t.replace("hsl(","").replace(")","").split(",");return e[0]=Number(e[0].trim()),e[1]=parseFloat((Number(e[1].trim().replace("%",""))/100).toFixed(2)),e[2]=parseFloat((Number(e[2].trim().replace("%",""))/100).toFixed(2)),e}function getHexFromHsl(t){return chroma.hsl(t[0],t[1],t[2]).hex()}function convertStringToHsl(t){return t=Number(t.replace("%","")),Number((t/100).toFixed(2))}function selectSidebarSection(t){$(".js-app-content__group").trigger("selectSection",[t])}function triggerSectionSelection(t){window.frames[0].selectIframeSection(t)}function triggerTabSelection(t){window.frames[0].selectIframeTab(t)}function closeActivePopups(){var t=$(".js-app-menu--color");0<t.length&&t.trigger("close-color-selection"),window.dispatchEvent(new Event("iframeClicked"))}function revealComponent(){var t=$(".js-app-canvas");t.find("iframe").addClass("app-canvas__iframe--content-is-loaded").end().find(".js-app-canvas__loader").remove(),t.hasClass("js-app-canvas--component")&&(console.log('%cHi there! ðŸ‘‹ This page is for demo purposes only. We have minified HTML, CSS and JavaScript and shortened class names. Make sure to access the component code using the "View code" button.',"font-size:14px"),console.log("%cAny doubts, get in touch at help@codyhouse.co","font-size:12px"))}function getRGBfromHSL(t){return chroma.hsl(t).rgb()}function toggleColorLink(t,e){$(".js-app-sidebar-editor--colors").trigger("updateColorLink",[t,e])}function saveBgColorsForComponents(t){return window.saveColorsForGloabals(t)}(function(){var T,r,a,B,l,n,u,g,c,d,p,h,rt,q,f,i,t,o,e,st,m,s,I,b,y,v,S,nt,C,w,_,k,L,x,j,O,$,F,P,N,V,R,A,E,M,J,G,at,D,U,lt,H,W,z,ct,Y,X,K,Q,Z,tt,et,ot,it,dt,pt,ht,ut,ft,gt,mt,bt,yt,vt,St,Ct,wt,_t,kt,Lt,xt=[].slice;Ct=function(){var o,t,e,i,r;for(o={},i=0,t=(r="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;i<t;i++)e=r[i],o["[object "+e+"]"]=e.toLowerCase();return function(t){var e;return e=Object.prototype.toString.call(t),o[e]||"object"}}(),G=function(t,e,o){return null==e&&(e=0),null==o&&(o=1),t<e&&(t=e),o<t&&(t=o),t},wt=function(t){return 3<=t.length?Array.prototype.slice.call(t):t[0]},m=function(t){var e,o;for(t._clipped=!1,t._unclipped=t.slice(0),e=o=0;o<3;e=++o)e<3?((t[e]<0||255<t[e])&&(t._clipped=!0),t[e]<0&&(t[e]=0),255<t[e]&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),1<t[e]&&(t[e]=1));return t._clipped||delete t._unclipped,t},B=Math.PI,mt=Math.round,I=Math.cos,nt=Math.floor,ct=Math.pow,at=Math.log,yt=Math.sin,vt=Math.sqrt,q=Math.atan2,lt=Math.max,rt=Math.abs,u=2*B,l=B/3,r=B/180,n=180/B,(st=function(){return arguments[0]instanceof T?arguments[0]:function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,arguments,function(){})}).default=st,h=[],"undefined"!=typeof module&&null!==module&&null!=module.exports&&(module.exports=st),"function"==typeof define&&define.amd?define([],function(){return st}):("undefined"!=typeof exports&&null!==exports?exports:this).chroma=st,st.version="1.4.0",p={},d=!(c=[]),T=function(){function t(){var t,e,o,i,r,s,n,a,l;for(s=this,e=[],a=0,i=arguments.length;a<i;a++)null!=(t=arguments[a])&&e.push(t);if(1<e.length&&(n=e[e.length-1]),null!=p[n])s._rgb=m(p[n](wt(e.slice(0,-1))));else{for(d||(c=c.sort(function(t,e){return e.p-t.p}),d=!0),l=0,r=c.length;l<r&&!(n=(o=c[l]).test.apply(o,e));l++);n&&(s._rgb=m(p[n].apply(p,e)))}null==s._rgb&&console.warn("unknown format: "+e),null==s._rgb&&(s._rgb=[0,0,0]),3===s._rgb.length&&s._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),st._input=p,st.brewer=o={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],o)e.push(o[t.toLowerCase()]=o[t])}(),st.colors=_t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},R=function(){var t,e,o,i,r,s,n;return i=(e=wt(arguments))[0],t=e[1],o=e[2],s=(i+16)/116,r=isNaN(t)?s:s+t/500,n=isNaN(o)?s:s-o/200,s=a.Yn*A(s),r=a.Xn*A(r),n=a.Zn*A(n),[Lt(3.2404542*r-1.5371385*s-.4985314*n),Lt(-.969266*r+1.8760108*s+.041556*n),o=Lt(.0556434*r-.2040259*s+1.0572252*n),3<e.length?e[3]:1]},Lt=function(t){return 255*(t<=.00304?12.92*t:1.055*ct(t,1/2.4)-.055)},A=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ot=function(){var t,e,o,i,r,s,n;return o=(i=wt(arguments))[0],e=i[1],t=i[2],s=(r=ut(o,e,t))[0],[116*(n=r[1])-16,500*(s-n),200*(n-r[2])]},ft=function(t){return(t/=255)<=.04045?t/12.92:ct((t+.055)/1.055,2.4)},kt=function(t){return t>a.t3?ct(t,1/3):t/a.t2+a.t0},ut=function(){var t,e,o,i;return o=(i=wt(arguments))[0],e=i[1],t=i[2],o=ft(o),e=ft(e),t=ft(t),[kt((.4124564*o+.3575761*e+.1804375*t)/a.Xn),kt((.2126729*o+.7151522*e+.072175*t)/a.Yn),kt((.0193339*o+.119192*e+.9503041*t)/a.Zn)]},st.lab=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["lab"]),function(){})},p.lab=R,T.prototype.lab=function(){return ot(this._rgb)},f=function(i){var t,e,o,r,s,n,a,l,c,d,p;return 2===(i=function(){var t,e,o;for(o=[],e=0,t=i.length;e<t;e++)r=i[e],o.push(st(r));return o}()).length?(c=function(){var t,e,o;for(o=[],e=0,t=i.length;e<t;e++)r=i[e],o.push(r.lab());return o}(),s=c[0],n=c[1],t=function(o){var i,t;return t=function(){var t,e;for(e=[],i=t=0;t<=2;i=++t)e.push(s[i]+o*(n[i]-s[i]));return e}(),st.lab.apply(st,t)}):3===i.length?(d=function(){var t,e,o;for(o=[],e=0,t=i.length;e<t;e++)r=i[e],o.push(r.lab());return o}(),s=d[0],n=d[1],a=d[2],t=function(o){var i,t;return t=function(){var t,e;for(e=[],i=t=0;t<=2;i=++t)e.push((1-o)*(1-o)*s[i]+2*(1-o)*o*n[i]+o*o*a[i]);return e}(),st.lab.apply(st,t)}):4===i.length?(p=function(){var t,e,o;for(o=[],e=0,t=i.length;e<t;e++)r=i[e],o.push(r.lab());return o}(),s=p[0],n=p[1],a=p[2],l=p[3],t=function(o){var i,t;return t=function(){var t,e;for(e=[],i=t=0;t<=2;i=++t)e.push((1-o)*(1-o)*(1-o)*s[i]+3*(1-o)*(1-o)*o*n[i]+3*(1-o)*o*o*a[i]+o*o*o*l[i]);return e}(),st.lab.apply(st,t)}):5===i.length&&(e=f(i.slice(0,3)),o=f(i.slice(2,5)),t=function(t){return t<.5?e(2*t):o(2*(t-.5))}),t},st.bezier=function(t){var e;return(e=f(t)).scale=function(){return st.scale(e)},e},st.cubehelix=function(n,a,l,c,d){var p,h,e;return null==n&&(n=300),null==a&&(a=-1.5),null==l&&(l=1),null==c&&(c=1),null==d&&(d=[0,1]),p=0,"array"===Ct(d)?h=d[1]-d[0]:(h=0,d=[d,d]),(e=function(t){var e,o,i,r,s;return e=u*((n+120)/360+a*t),r=ct(d[0]+h*t,c),o=(0!==p?l[0]+t*p:l)*r*(1-r)/2,i=I(e),s=yt(e),st(m([255*(r+o*(-.14861*i+1.78277*s)),255*(r+o*(-.29227*i-.90649*s)),255*(r+o*(1.97294*i)),1]))}).start=function(t){return null==t?n:(n=t,e)},e.rotations=function(t){return null==t?a:(a=t,e)},e.gamma=function(t){return null==t?c:(c=t,e)},e.hue=function(t){return null==t?l:("array"===Ct(l=t)?0==(p=l[1]-l[0])&&(l=l[1]):p=0,e)},e.lightness=function(t){return null==t?d:(h="array"===Ct(t)?(d=t)[1]-t[0]:(d=[t,t],0),e)},e.scale=function(){return st.scale(e)},e.hue(l),e},st.random=function(){var t,e;for(t="#",e=0;e<6;++e)t+="0123456789abcdef".charAt(nt(16*Math.random()));return new T(t)},h=[],j=function(t,e,o,i){var r,s,n,a;for(null==o&&(o=.5),null==i&&(i="rgb"),"object"!==Ct(t)&&(t=st(t)),"object"!==Ct(e)&&(e=st(e)),n=0,s=h.length;n<s;n++)if(i===(r=h[n])[0]){a=r[1](t,e,o,i);break}if(null==a)throw"color mode "+i+" is not supported";return a.alpha(t.alpha()+o*(e.alpha()-t.alpha()))},st.interpolate=j,T.prototype.interpolate=function(t,e,o){return j(this,t,e,o)},st.mix=j,T.prototype.mix=T.prototype.interpolate,p.rgb=function(){var t,e,o,i;for(t in o=[],e=wt(arguments))i=e[t],o.push(i);return o},st.rgb=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["rgb"]),function(){})},T.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},T.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},c.push({p:3,test:function(t){var e;return e=wt(arguments),"array"===Ct(e)&&3===e.length?"rgb":4===e.length&&"number"===Ct(e[3])&&0<=e[3]&&e[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,F=function(t,e,o,i){var r,s;return r=t._rgb,s=e._rgb,new T(vt(ct(r[0],2)*(1-o)+ct(s[0],2)*o),vt(ct(r[1],2)*(1-o)+ct(s[1],2)*o),vt(ct(r[2],2)*(1-o)+ct(s[2],2)*o),i)},g=function(t){var e,o,i,r,s;for(e=1/t.length,s=[0,0,0,0],i=0,o=t.length;i<o;i++)r=t[i]._rgb,s[0]+=ct(r[0],2)*e,s[1]+=ct(r[1],2)*e,s[2]+=ct(r[2],2)*e,s[3]+=r[3]*e;return s[0]=vt(s[0]),s[1]=vt(s[1]),s[2]=vt(s[2]),1<s[3]&&(s[3]=1),new T(m(s))},h.push(["lrgb",F]),st.average=function(t,e){var o,i,r,s,n,a,l,c,d,p,h,u,f;if(null==e&&(e="rgb"),d=t.length,l=(t=t.map(function(t){return st(t)})).splice(0,1)[0],"lrgb"===e)return g(t);for(c in s=[],a=n=0,u=l.get(e))u[c]=u[c]||0,s.push(isNaN(u[c])?0:1),"h"!==e.charAt(c)||isNaN(u[c])||(o=u[c]/180*B,n+=I(o),a+=yt(o));for(i=l.alpha(),h=0,p=t.length;h<p;h++)for(c in f=(r=t[h]).get(e),i+=r.alpha(),u)isNaN(f[c])||(s[c]+=1,"h"===e.charAt(c)?(o=f[c]/180*B,n+=I(o),a+=yt(o)):u[c]+=f[c]);for(c in u)if("h"===e.charAt(c)){for(o=q(a/s[c],n/s[c])/B*180;o<0;)o+=360;for(;360<=o;)o-=360;u[c]=o}else u[c]=u[c]/s[c];return st(u,e).alpha(i/d)},w=function(t){var e,o;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(o=parseInt(t,16))>>16,o>>8&255,255&o,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(o=parseInt(t,16))>>24&255,o>>16&255,o>>8&255,mt((255&o)/255*100)/100];if(null!=p.css&&(e=p.css(t)))return e;throw"unknown color: "+t},Q=function(t,e){var o,i,r,s,n,a;return null==e&&(e="auto"),n=t[0],r=t[1],i=t[2],o=t[3],"auto"===e&&(e=o<1?"rgba":"rgb"),n=Math.round(n),r=Math.round(r),i=Math.round(i),a=(a="000000"+(n<<16|r<<8|i).toString(16)).substr(a.length-6),s=(s="0"+mt(255*o).toString(16)).substr(s.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return a+s;case"argb":return s+a;default:return a}}()},p.hex=function(t){return w(t)},st.hex=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["hex"]),function(){})},T.prototype.hex=function(t){return null==t&&(t="auto"),Q(this._rgb,t)},c.push({p:4,test:function(t){if(1===arguments.length&&"string"===Ct(t))return"hex"}}),L=function(){var t,e,o,i,r,s,n,a,l,c,d,p,h,u;if(r=(t=wt(arguments))[0],d=t[1],n=t[2],0===d)l=i=e=255*n;else{for(o=[0,0,0],p=2*n-(h=n<.5?n*(1+d):n+d-n*d),(u=[0,0,0])[0]=(r/=360)+1/3,u[1]=r,u[2]=r-1/3,s=a=0;a<=2;s=++a)u[s]<0&&(u[s]+=1),1<u[s]&&(u[s]-=1),6*u[s]<1?o[s]=p+6*(h-p)*u[s]:2*u[s]<1?o[s]=h:3*u[s]<2?o[s]=p+(h-p)*(2/3-u[s])*6:o[s]=p;l=(c=[mt(255*o[0]),mt(255*o[1]),mt(255*o[2])])[0],i=c[1],e=c[2]}return 3<t.length?[l,i,e,t[3]]:[l,i,e]},tt=function(t,e,o){var i,r,s,n,a;return void 0!==t&&3<=t.length&&(t=(n=t)[0],e=n[1],o=n[2]),t/=255,e/=255,o/=255,s=Math.min(t,e,o),r=((lt=Math.max(t,e,o))+s)/2,lt===s?(a=0,i=Number.NaN):a=r<.5?(lt-s)/(lt+s):(lt-s)/(2-lt-s),t===lt?i=(e-o)/(lt-s):e===lt?i=2+(o-t)/(lt-s):o===lt&&(i=4+(t-e)/(lt-s)),(i*=60)<0&&(i+=360),[i,a,r]},st.hsl=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["hsl"]),function(){})},p.hsl=L,T.prototype.hsl=function(){return tt(this._rgb)},x=function(){var t,e,o,i,r,s,n,a,l,c,d,p,h,u,f,g,m,b;if(r=(t=wt(arguments))[0],g=t[1],b=t[2],b*=255,0===g)l=i=e=b;else switch(360===r&&(r=0),360<r&&(r-=360),r<0&&(r+=360),r/=60,s=nt(r),o=r-s,n=b*(1-g),a=b*(1-g*o),m=b*(1-g*(1-o)),s){case 0:l=(c=[b,m,n])[0],i=c[1],e=c[2];break;case 1:l=(d=[a,b,n])[0],i=d[1],e=d[2];break;case 2:l=(p=[n,b,m])[0],i=p[1],e=p[2];break;case 3:l=(h=[n,a,b])[0],i=h[1],e=h[2];break;case 4:l=(u=[m,n,b])[0],i=u[1],e=u[2];break;case 5:l=(f=[b,n,a])[0],i=f[1],e=f[2]}return[l,i,e,3<t.length?t[3]:1]},et=function(){var t,e,o,i,r,s,n,a,l;return s=(n=wt(arguments))[0],o=n[1],t=n[2],r=Math.min(s,o,t),e=(lt=Math.max(s,o,t))-r,l=lt/255,0===lt?(i=Number.NaN,a=0):(a=e/lt,s===lt&&(i=(o-t)/e),o===lt&&(i=2+(t-s)/e),t===lt&&(i=4+(s-o)/e),(i*=60)<0&&(i+=360)),[i,a,l]},st.hsv=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["hsv"]),function(){})},p.hsv=x,T.prototype.hsv=function(){return et(this._rgb)},W=function(t){return"number"===Ct(t)&&0<=t&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},pt=function(){var t;return((t=wt(arguments))[0]<<16)+(t[1]<<8)+t[2]},st.num=function(t){return new T(t,"num")},T.prototype.num=function(t){return null==t&&(t="rgb"),pt(this._rgb,t)},p.num=W,c.push({p:1,test:function(t){if(1===arguments.length&&"number"===Ct(t)&&0<=t&&t<=16777215)return"num"}}),C=function(){var t,e,o,i,r,s,n,a,l,c,d,p,h,u,f,g,m,b,y,v;if(a=(o=wt(arguments))[0],r=o[1],e=o[2],n=n/100*255,t=255*(r/=100),0===r)p=n=i=e;else switch(360===a&&(a=0),360<a&&(a-=360),a<0&&(a+=360),a/=60,l=nt(a),s=a-l,c=e*(1-r),d=c+t*(1-s),y=c+t*s,v=c+t,l){case 0:p=(h=[v,y,c])[0],n=h[1],i=h[2];break;case 1:p=(u=[d,v,c])[0],n=u[1],i=u[2];break;case 2:p=(f=[c,v,y])[0],n=f[1],i=f[2];break;case 3:p=(g=[c,d,v])[0],n=g[1],i=g[2];break;case 4:p=(m=[y,c,v])[0],n=m[1],i=m[2];break;case 5:p=(b=[v,c,d])[0],n=b[1],i=b[2]}return[p,n,i,3<o.length?o[3]:1]},K=function(){var t,e,o,i,r,s,n,a,l;return a=(l=wt(arguments))[0],r=l[1],e=l[2],n=Math.min(a,r,e),o=100*(i=(lt=Math.max(a,r,e))-n)/255,t=n/(255-i)*100,0===i?s=Number.NaN:(a===lt&&(s=(r-e)/i),r===lt&&(s=2+(e-a)/i),e===lt&&(s=4+(a-r)/i),(s*=60)<0&&(s+=360)),[s,o,t]},st.hcg=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["hcg"]),function(){})},p.hcg=C,T.prototype.hcg=function(){return K(this._rgb)},b=function(t){var e,o,i,r,s,n,a,l;if(t=t.toLowerCase(),null!=st.colors&&st.colors[t])return w(st.colors[t]);if(s=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=s.slice(1,4),r=n=0;n<=2;r=++n)a[r]=+a[r];a[3]=1}else if(s=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=s.slice(1,5),r=l=0;l<=3;r=++l)a[r]=+a[r];else if(s=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=s.slice(1,4),r=e=0;e<=2;r=++e)a[r]=mt(2.55*a[r]);a[3]=1}else if(s=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=s.slice(1,5),r=o=0;o<=2;r=++o)a[r]=mt(2.55*a[r]);a[3]=+a[3]}else(s=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((i=s.slice(1,4))[1]*=.01,i[2]*=.01,(a=L(i))[3]=1):(s=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((i=s.slice(1,4))[1]*=.01,i[2]*=.01,(a=L(i))[3]=+s[4]);return a},X=function(t){var e;return"rgb"==(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(mt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(mt).join(",")+","+t[3]+")":void 0},gt=function(t){return mt(100*t)/100},k=function(t,e){var o;return o=e<1?"hsla":"hsl",t[0]=gt(t[0]||0),t[1]=gt(100*t[1])+"%",t[2]=gt(100*t[2])+"%","hsla"===o&&(t[3]=e),o+"("+t.join(",")+")"},p.css=function(t){return b(t)},st.css=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["css"]),function(){})},T.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?X(this._rgb):"hsl"===t.slice(0,3)?k(this.hsl(),this.alpha()):void 0},p.named=function(t){return w(_t[t])},c.push({p:5,test:function(t){if(1===arguments.length&&null!=_t[t])return"named"}}),T.prototype.name=function(t){var e,o;for(o in arguments.length&&(_t[t]&&(this._rgb=w(_t[t])),this._rgb[3]=1),e=this.hex("rgb"),_t)if(e===_t[o])return o;return e},E=function(){var t,e,o,i;return o=(i=wt(arguments))[0],t=i[1],e=i[2],[o,I(e*=r)*t,yt(e)*t]},M=function(){var t,e,o,i,r,s,n,a,l;return n=(o=wt(arguments))[0],r=o[1],s=o[2],t=(a=E(n,r,s))[0],e=a[1],i=a[2],[(l=R(t,e,i))[0],l[1],i=l[2],3<o.length?o[3]:1]},V=function(){var t,e,o,i,r,s;return r=(s=wt(arguments))[0],t=s[1],e=s[2],o=vt(t*t+e*e),i=(q(e,t)*n+360)%360,0===mt(1e4*o)&&(i=Number.NaN),[r,o,i]},it=function(){var t,e,o,i,r,s,n;return r=(s=wt(arguments))[0],o=s[1],e=s[2],i=(n=ot(r,o,e))[0],t=n[1],e=n[2],V(i,t,e)},st.lch=function(){var t;return t=wt(arguments),new T(t,"lch")},st.hcl=function(){var t;return t=wt(arguments),new T(t,"hcl")},p.lch=M,p.hcl=function(){var t,e,o,i;return e=(i=wt(arguments))[0],t=i[1],o=i[2],M([o,t,e])},T.prototype.lch=function(){return it(this._rgb)},T.prototype.hcl=function(){return it(this._rgb).reverse()},Y=function(t){var e,o,i,r,s,n;return null==t&&(t="rgb"),s=(n=wt(arguments))[0],i=n[1],e=n[2],i/=255,e/=255,[(1-(s/=255)-(r=1-Math.max(s,Math.max(i,e))))*(o=r<1?1/(1-r):0),(1-i-r)*o,(1-e-r)*o,r]},s=function(){var t,e,o,i,r,s;return o=(e=wt(arguments))[0],r=e[1],s=e[2],i=e[3],t=4<e.length?e[4]:1,1===i?[0,0,0,t]:[1<=o?0:255*(1-o)*(1-i),1<=r?0:255*(1-r)*(1-i),1<=s?0:255*(1-s)*(1-i),t]},p.cmyk=function(){return s(wt(arguments))},st.cmyk=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["cmyk"]),function(){})},T.prototype.cmyk=function(){return Y(this._rgb)},p.gl=function(){var t,o,e,i,r;for(i=function(){var t,e;for(o in e=[],t=wt(arguments))r=t[o],e.push(r);return e}.apply(this,arguments),t=e=0;e<=2;t=++e)i[t]*=255;return i},st.gl=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["gl"]),function(){})},T.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},dt=function(t,e,o){var i;return t=(i=wt(arguments))[0],e=i[1],o=i[2],.2126*(t=D(t))+.7152*(e=D(e))+.0722*D(o)},D=function(t){return(t/=255)<=.03928?t/12.92:ct((t+.055)/1.055,2.4)},N=function(t,e,o,i){var r,s;return r=t._rgb,s=e._rgb,new T(r[0]+o*(s[0]-r[0]),r[1]+o*(s[1]-r[1]),r[2]+o*(s[2]-r[2]),i)},h.push(["rgb",N]),T.prototype.luminance=function(r,s){var t,n,e,a;return null==s&&(s="rgb"),arguments.length?(this._rgb,e=0===r?[0,0,0,this._rgb[3]]:1===r?[255,255,255,this[3]]:(t=dt(this._rgb),n=20,a=function(t,e){var o,i;return o=(i=t.interpolate(e,.5,s)).luminance(),Math.abs(r-o)<1e-7||!n--?i:r<o?a(t,i):a(i,e)},r<t?a(st("black"),this).rgba():a(this,st("white")).rgba()),st(e).alpha(this.alpha())):dt(this._rgb)},St=function(t){var e,o,i,r;return e=(r=t/100)<66?(i=255,o=-155.25485562709179-.44596950469579133*(o=r-2)+104.49216199393888*at(o),r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*at(e)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*at(i),o=325.4494125711974+.07943456536662342*(o=r-50)-28.0852963507957*at(o),255),[i,o,e]},ht=function(){var t,e,o,i,r,s,n;for(i=(r=wt(arguments))[0],r[1],t=r[2],o=1e3,e=4e4;.4<e-o;)(s=St(n=.5*(e+o)))[2]/s[0]>=t/i?e=n:o=n;return mt(n)},st.temperature=st.kelvin=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["temperature"]),function(){})},p.temperature=p.kelvin=p.K=St,T.prototype.temperature=function(){return ht(this._rgb)},T.prototype.kelvin=T.prototype.temperature,st.contrast=function(t,e){var o,i,r,s;return"string"!==(r=Ct(t))&&"number"!==r||(t=new T(t)),"string"!==(s=Ct(e))&&"number"!==s||(e=new T(e)),o=t.luminance(),(i=e.luminance())<o?(o+.05)/(i+.05):(i+.05)/(o+.05)},st.distance=function(t,e,o){var i,r,s,n,a,l,c;for(r in null==o&&(o="lab"),"string"!==(a=Ct(t))&&"number"!==a||(t=new T(t)),"string"!==(l=Ct(e))&&"number"!==l||(e=new T(e)),s=t.get(o),n=e.get(o),c=0,s)c+=(i=(s[r]||0)-(n[r]||0))*i;return Math.sqrt(c)},st.deltaE=function(t,e,o,i){var r,s,n,a,l,c,d,p,h,u,f,g,m,b,y,v,S,C,w,_,k,L,x,j;for(null==o&&(o=1),null==i&&(i=1),"string"!==(y=Ct(t))&&"number"!==y||(t=new T(t)),"string"!==(v=Ct(e))&&"number"!==v||(e=new T(e)),r=(S=t.lab())[0],n=S[1],l=S[2],s=(C=e.lab())[0],a=C[1],c=C[2],d=vt(n*n+l*l),p=vt(a*a+c*c),_=r<16?.511:.040975*r/(1+.01765*r),w=.0638*d/(1+.0131*d)+.638,b=d<1e-6?0:180*q(l,n)/B;b<0;)b+=360;for(;360<=b;)b-=360;return k=164<=b&&b<=345?.56+rt(.2*I(B*(b+168)/180)):.36+rt(.4*I(B*(b+35)/180)),m=vt((h=d*d*d*d)/(h+1900)),vt((L=(r-s)/(o*_))*L+(x=(g=d-p)/(i*w))*x+((u=n-a)*u+(f=l-c)*f-g*g)/((j=w*(m*k+1-m))*j))},T.prototype.get=function(t){var e,o,i,r,s;return i=(r=t.split("."))[0],e=r[1],s=this[i](),e?-1<(o=i.indexOf(e))?s[o]:console.warn("unknown channel "+e+" in mode "+i):s},T.prototype.set=function(t,e){var o,i,r,s,n;if(r=(s=t.split("."))[0],o=s[1])if(n=this[r](),-1<(i=r.indexOf(o)))if("string"===Ct(e))switch(e.charAt(0)){case"+":case"-":n[i]+=+e;break;case"*":n[i]*=+e.substr(1);break;case"/":n[i]/=+e.substr(1);break;default:n[i]=+e}else n[i]=e;else console.warn("unknown channel "+o+" in mode "+r);else n=e;return st(n,r).alpha(this.alpha())},T.prototype.clipped=function(){return this._rgb._clipped||!1},T.prototype.alpha=function(t){return arguments.length?st.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},T.prototype.darken=function(t){var e;return null==t&&(t=1),(e=this.lab())[0]-=a.Kn*t,st.lab(e).alpha(this.alpha())},T.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},T.prototype.darker=T.prototype.darken,T.prototype.brighter=T.prototype.brighten,T.prototype.saturate=function(t){var e;return null==t&&(t=1),(e=this.lch())[1]+=t*a.Kn,e[1]<0&&(e[1]=0),st.lch(e).alpha(this.alpha())},T.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},T.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),st(e[0]*t,e[1]*t,e[2]*t,t)},H=function(t,e){return t*e/255},y=function(t,e){return e<t?e:t},J=function(t,e){return e<t?t:e},bt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},z=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},e=function(t,e){return 255*(1-(1-e/255)/(t/255))},v=function(t,e){return 255===t?255:255<(t=e/255*255/(1-t/255))?255:t},(i=function(t,e,o){if(!i[o])throw"unknown blend mode "+o;return i[o](t,e)}).normal=(t=function(r){return function(t,e){var o,i;return o=st(e).rgb(),i=st(t).rgb(),st(r(o,i),"rgb")}})((S=function(s){return function(t,e){var o,i,r;for(r=[],o=i=0;i<=3;o=++i)r[o]=s(t[o],e[o]);return r}})(function(t,e){return t})),i.multiply=t(S(H)),i.screen=t(S(bt)),i.overlay=t(S(z)),i.darken=t(S(y)),i.lighten=t(S(J)),i.dodge=t(S(v)),i.burn=t(S(e)),st.blend=i,st.analyze=function(t){var e,o,i,r;for(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},o=0,e=t.length;o<e;o++)null==(r=t[o])||isNaN(r)||(i.values.push(r),i.sum+=r,r<i.min&&(i.min=r),r>i.max&&(i.max=r),i.count+=1);return i.domain=[i.min,i.max],i.limits=function(t,e){return st.limits(i,t,e)},i},st.scale=function(d,t){var p,c,h,e,u,f,g,m,b,y,o,v,S,i,C,w,_,k,a,r,L;return b="rgb",y=st("#ccc"),u=[i=0,1],S=[],p=!(v=[0,0]),o=!(h=[]),m=0,c={},C=!(e=!(g=1)),f=1,r=function(t){var e,o,i,r,s,n;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Ct(t)&&null!=st.brewer&&(t=st.brewer[t]||st.brewer[t.toLowerCase()]||t),"array"===Ct(t)){for(1===t.length&&(t=[t[0],t[0]]),e=i=0,r=(t=t.slice(0)).length-1;0<=r?i<=r:r<=i;e=0<=r?++i:--i)o=t[e],"string"===Ct(o)&&(t[e]=st(o));for(e=n=S.length=0,s=t.length-1;0<=s?n<=s:s<=n;e=0<=s?++n:--n)S.push(e/(t.length-1))}return a(),h=t},_=function(t){var e,o;if(null==p)return 0;for(o=p.length-1,e=0;e<o&&t>=p[e];)e++;return e-1},L=function(t){return t},k=function(t,e){var o,i,r,s,n,a,l;if(null==e&&(e=!1),isNaN(t))return y;if(l=e?t:p&&2<p.length?_(t)/(p.length-2):g!==m?(t-m)/(g-m):1,e||(l=L(l)),1!==f&&(l=ct(l,f)),l=v[0]+l*(1-v[0]-v[1]),l=Math.min(1,Math.max(0,l)),r=Math.floor(1e4*l),C&&c[r])o=c[r];else{if("array"===Ct(h))for(i=s=0,a=S.length-1;0<=a?s<=a:a<=s;i=0<=a?++s:--s){if(l<=(n=S[i])){o=h[i];break}if(n<=l&&i===S.length-1){o=h[i];break}if(n<l&&l<S[i+1]){l=(l-n)/(S[i+1]-n),o=st.interpolate(h[i],h[i+1],l,b);break}}else"function"===Ct(h)&&(o=h(l));C&&(c[r]=o)}return o},a=function(){return c={}},r(d),(w=function(t){var e;return e=st(k(t)),o&&e[o]?e[o]():e}).classes=function(t){var e;return null!=t?("array"===Ct(t)?u=[(p=t)[0],t[t.length-1]]:(e=st.analyze(u),p=0===t?[e.min,e.max]:st.limits(e,"e",t)),w):p},w.domain=function(t){var e,o,i,r,s,n,a;if(!arguments.length)return u;if(m=t[0],g=t[t.length-1],S=[],i=h.length,t.length===i&&m!==g)for(s=0,r=t.length;s<r;s++)o=t[s],S.push((o-m)/(g-m));else for(e=a=0,n=i-1;0<=n?a<=n:n<=a;e=0<=n?++a:--a)S.push(e/(i-1));return u=[m,g],w},w.mode=function(t){return arguments.length?(b=t,a(),w):b},w.range=function(t,e){return r(t),w},w.out=function(t){return o=t,w},w.spread=function(t){return arguments.length?(i=t,w):i},w.correctLightness=function(t){return null==t&&(t=!0),e=t,a(),L=e?function(t){var e,o,i,r,s,n,a,l;for(e=k(0,!0).lab()[0],n=(o=k(1,!0).lab()[0])<e,i=k(t,!0).lab()[0]-(r=e+(o-e)*t),a=0,l=1,s=20;.01<Math.abs(i)&&0<s--;)n&&(i*=-1),t+=i<0?.5*(l-(a=t)):.5*(a-(l=t)),i=k(t,!0).lab()[0]-r;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Ct(t)&&(t=[t,t]),v=t,w):v},w.colors=function(e,o){var i,r,t,s,n,a,l,c;if(arguments.length<2&&(o="hex"),n=[],0===arguments.length)n=h.slice(0);else if(1===e)n=[w(.5)];else if(1<e)r=u[0],i=u[1]-r,n=function(){a=[];for(var t=0;0<=e?t<e:e<t;0<=e?t++:t--)a.push(t);return a}.apply(this).map(function(t){return w(r+t/(e-1)*i)});else{if(d=[],l=[],p&&2<p.length)for(t=c=1,s=p.length;1<=s?c<s:s<c;t=1<=s?++c:--c)l.push(.5*(p[t-1]+p[t]));else l=u;n=l.map(function(t){return w(t)})}return st[o]&&(n=n.map(function(t){return t[o]()})),n},w.cache=function(t){return null!=t?(C=t,w):C},w.gamma=function(t){return null!=t?(f=t,w):f},w},null==st.scales&&(st.scales={}),st.scales.cool=function(){return st.scale([st.hsl(180,1,.9),st.hsl(250,.7,.4)])},st.scales.hot=function(){return st.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},st.analyze=function(t,o,i){var r,e,s,n,a,l;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==i&&(i=function(){return!0}),r=function(t){null==t||isNaN(t)||(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)},l=function(t,e){if(i(t,e))return r(null!=o&&"function"===Ct(o)?o(t):null!=o&&"string"===Ct(o)||"number"===Ct(o)?t[o]:t)},"array"===Ct(t))for(n=0,s=t.length;n<s;n++)l(t[n]);else for(e in t)l(t[e],e);return a.domain=[a.min,a.max],a.limits=function(t,e){return st.limits(a,t,e)},a},st.limits=function(t,e,o){var i,r,s,n,a,l,c,d,p,h,u,f,g,m,b,y,v,S,C,w,_,k,L,x,j,T,B,q,I,O,$,F,P,N,V,R,A,E,M,J,G,D,U,H,W,z,Y,X,K,Q,Z,tt,et,ot,it;if(null==e&&(e="equal"),null==o&&(o=7),"array"===Ct(t)&&(t=st.analyze(t)),j=t.min,lt=t.max,t.sum,ot=t.values.sort(function(t,e){return t-e}),1===o)return[j,lt];if(L=[],"c"===e.substr(0,1)&&(L.push(j),L.push(lt)),"e"===e.substr(0,1)){for(L.push(j),w=$=1,V=o-1;1<=V?$<=V:V<=$;w=1<=V?++$:--$)L.push(j+w/o*(lt-j));L.push(lt)}else if("l"===e.substr(0,1)){if(j<=0)throw"Logarithmic scales are only possible for values > 0";for(T=Math.LOG10E*at(j),x=Math.LOG10E*at(lt),L.push(j),w=it=1,R=o-1;1<=R?it<=R:R<=it;w=1<=R?++it:--it)L.push(ct(10,T+w/o*(x-T)));L.push(lt)}else if("q"===e.substr(0,1)){for(L.push(j),w=i=1,D=o-1;1<=D?i<=D:D<=i;w=1<=D?++i:--i)F=(ot.length-1)*w/o,(P=nt(F))===F?L.push(ot[P]):(N=F-P,L.push(ot[P]*(1-N)+ot[P+1]*N));L.push(lt)}else if("k"===e.substr(0,1)){for(q=ot.length,m=new Array(q),S=new Array(o),Q=!0,I=0,y=null,(y=[]).push(j),w=r=1,U=o-1;1<=U?r<=U:U<=r;w=1<=U?++r:--r)y.push(j+w/o*(lt-j));for(y.push(lt);Q;){for(_=s=0,H=o-1;0<=H?s<=H:H<=s;_=0<=H?++s:--s)S[_]=0;for(w=n=0,W=q-1;0<=W?n<=W:W<=n;w=0<=W?++n:--n){for(et=ot[w],B=Number.MAX_VALUE,_=a=0,z=o-1;0<=z?a<=z:z<=a;_=0<=z?++a:--a)(C=rt(y[_]-et))<B&&(B=C,b=_);S[b]++,m[w]=b}for(O=new Array(o),_=l=0,Y=o-1;0<=Y?l<=Y:Y<=l;_=0<=Y?++l:--l)O[_]=null;for(w=c=0,X=q-1;0<=X?c<=X:X<=c;w=0<=X?++c:--c)null===O[v=m[w]]?O[v]=ot[w]:O[v]+=ot[w];for(_=d=0,K=o-1;0<=K?d<=K:K<=d;_=0<=K?++d:--d)O[_]*=1/S[_];for(Q=!1,_=p=0,A=o-1;0<=A?p<=A:A<=p;_=0<=A?++p:--p)if(O[_]!==y[w]){Q=!0;break}y=O,200<++I&&(Q=!1)}for(k={},_=h=0,E=o-1;0<=E?h<=E:E<=h;_=0<=E?++h:--h)k[_]=[];for(w=u=0,M=q-1;0<=M?u<=M:M<=u;w=0<=M?++u:--u)k[v=m[w]].push(ot[w]);for(Z=[],_=f=0,J=o-1;0<=J?f<=J:J<=f;_=0<=J?++f:--f)Z.push(k[_][0]),Z.push(k[_][k[_].length-1]);for(Z=Z.sort(function(t,e){return t-e}),L.push(Z[0]),w=g=1,G=Z.length-1;g<=G;w=g+=2)tt=Z[w],isNaN(tt)||-1!==L.indexOf(tt)||L.push(tt)}return L},_=function(t,e,o){var i,r,s,n;return t=(i=wt(arguments))[0],e=i[1],o=i[2],isNaN(t)&&(t=0),(t/=360)<1/3?s=1-((r=(1-e)/3)+(n=(1+e*I(u*t)/I(l-u*t))/3)):t<2/3?r=1-((n=(1-e)/3)+(s=(1+e*I(u*(t-=1/3))/I(l-u*t))/3)):n=1-((s=(1-e)/3)+(r=(1+e*I(u*(t-=2/3))/I(l-u*t))/3)),[255*(n=G(o*n*3)),255*(s=G(o*s*3)),255*(r=G(o*r*3)),3<i.length?i[3]:1]},Z=function(){var t,e,o,i,r,s,n;return r=(s=wt(arguments))[0],e=s[1],t=s[2],u=2*Math.PI,r/=255,e/=255,t/=255,0==(n=1-Math.min(r,e,t)/(i=(r+e+t)/3))?o=0:(o=(r-e+(r-t))/2,o/=Math.sqrt((r-e)*(r-e)+(r-t)*(e-t)),o=Math.acos(o),e<t&&(o=u-o),o/=u),[360*o,n,i]},st.hsi=function(){return function(t,e,o){o.prototype=t.prototype;var i=new o,r=t.apply(i,e);return Object(r)===r?r:i}(T,xt.call(arguments).concat(["hsi"]),function(){})},p.hsi=_,T.prototype.hsi=function(){return Z(this._rgb)},O=function(t,e,o,i){var r,s,n,a,l,c,d,p,h,u;return"hsl"===i?(h=t.hsl(),u=e.hsl()):"hsv"===i?(h=t.hsv(),u=e.hsv()):"hcg"===i?(h=t.hcg(),u=e.hcg()):"hsi"===i?(h=t.hsi(),u=e.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",h=t.hcl(),u=e.hcl()),"h"===i.substr(0,1)&&(s=h[0],d=h[1],a=h[2],n=u[0],p=u[1],l=u[2]),isNaN(s)||isNaN(n)?isNaN(s)?isNaN(n)?r=Number.NaN:(r=n,1!==a&&0!==a||"hsv"===i||(c=p)):(r=s,1!==l&&0!==l||"hsv"===i||(c=d)):r=s+o*(s<n&&180<n-s?n-(s+360):n<s&&180<s-n?n+360-s:n-s),null==c&&(c=d+o*(p-d)),st[i](r,c,a+o*(l-a))},P=function(t,e,o,i){var r,s;return r=t.num(),s=e.num(),st.num(r+(s-r)*o,"num")},(h=h.concat(function(){var t,e,o,i;for(i=[],e=0,t=(o=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)U=o[e],i.push([U,O]);return i}())).push(["num",P]),$=function(t,e,o,i){var r,s;return r=t.lab(),s=e.lab(),new T(r[0]+o*(s[0]-r[0]),r[1]+o*(s[1]-r[1]),r[2]+o*(s[2]-r[2]),i)},h.push(["lab",$])}).call(this),function(){if(document.getElementsByClassName("js-app-iframe")[0]&&-1<ROUTE.indexOf("ds_components_app_")){var e=window.frames[0];onIframeLoad(e,function(){e.loadGlobalsStyle(PROJECT)});var t=document.getElementsByClassName("js-color-theme-select");0<t.length&&t[0].addEventListener("change",function(t){e.loadNewColorTheme(PROJECT,t.target.value)})}}(),function(){this.ColorInput=function(t){var e;this.element=t,this.inputColorHex=$(this.element).find(".js-app-color-picker__hex").find("input"),this.inputPreview=$(this.element).find(".js-app-color-picker__color"),this.inputColor=this.inputPreview.find("input"),this.inputColorSupported="color"===(e=$('<input type="color" value="!" />')[0]).type&&"!"!==e.value,this.appColorSidebar=$(this.element).parents(".js-app-sidebar--globals"),this.hexValue=this.inputColorHex.val(),this.initColorInput()},ColorInput.prototype.initColorInput=function(){var i=this;this.inputColor.toggle(this.inputColorSupported),this.inputColor.on("input",function(t){i.updateColor(t.target.value,!0,!0)}),this.inputColor.on("change",function(t){i.updateColor(t.target.value,!0,!0)}),this.inputColorHex.on("focusout",function(){i.hexValue!=i.inputColorHex.val()&&i.updateColor($(this).val(),!1,!0)}),this.inputColorHex.on("keyup",function(t){"Enter"===t.key&&i.hexValue!=i.inputColorHex.val()&&i.updateColor($(this).val(),!1,!0)}),$(this.element).on("update-picker",function(t,e){i.updateColor(chroma.hsl(e).hex(),!1,!1)}),$(this.element).on("update-contrast-picker",function(t,e,o){0<$(i.element).parents(".js-app-editor-section__bg-color-picker").length?i.updateColor(chroma.hsl(e).hex(),!1,!1):0<$(i.element).parents(".js-app-editor-section__hc-color-picker").length&&i.updateColor(chroma.hsl(o).hex(),!1,!1)})},ColorInput.prototype.updateColor=function(t,e,o){(t=t.replace(";","")).indexOf("(")<0&&t.indexOf("#")<0?this.inputPreview.css("background-color","#"+t):this.inputPreview.css("background-color",t),this.inputColorHex.val(t),this.hexValue=t,e||this.inputColor.val(chroma(t).hex()),o&&0<this.appColorSidebar.length&&this.appColorSidebar.trigger("color-picker-updated",[getHslFromHex(t),$(this.element)])};var t=document.getElementsByClassName("js-color-picker");if(0<t.length)for(var e=0;e<t.length;e++)new ColorInput(t[e])}(),function(){this.InputSlider=function(t){this.element=t,this.rangeInput=this.element.children("input"),this.textInput=this.element.parent().siblings().find(".js-slider-control__text"),this.initSlider()},InputSlider.prototype.initSlider=function(){var e=this;this.setSlider(),this.textInput.on("input reset-slider",function(t){e.setSlider()}),this.rangeInput.on("input",function(t){e.textInput.val(e.rangeInput.val()+"%"),e.textInput.trigger("input")})},InputSlider.prototype.setSlider=function(){var t=parseInt(this.textInput.val().replace("%",""));this.rangeInput.val(t);var e=parseInt(this.rangeInput.val()),o=100-e;this.element.get(0).style.setProperty("--slider-fill-value",e+"%"),this.element.get(0).style.setProperty("--slider-empty-value",o+"%")};var t=document.getElementsByClassName("js-slider-control__input");if(0<t.length)for(var e=0;e<t.length;e++)new InputSlider($(t[e]))}(),function(){var t=$(".js-ios-pivot");0<t.length&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.removeClass("ios-pivot--is-hidden")}(),function(){function h(t,e,o){var i=[-10,-6,6,10];return t&&t.contrastColors&&t.contrastColors[e]&&t.contrastColors[e][0][2]<t.contrastColors[e][5][2]&&(i=[10,6,-6,-10]),o&&(i=[10,6,-6,-10]),i}function p(t,e){var o="tailwind"==e?" ":", ";return Math.round(t[0])+o+Math.round(100*t[1])+"%"+o+Math.round(100*t[2])+"%"}function u(t,e,o,i,r){for(var s=[],n=chroma.bezier([t,e]).scale().colors(101),a=0;a<6;a++){var l=o[a],c=chroma(n[l]).hsl();s.push([checkHue(c[0]),checkPercentage(c[1]),checkPercentage(c[2])])}var d,p=[],h=[];if(r)for(p=f(n),d=chroma(n[5]).hsl()[2]>p[5][2]?[chroma(n[Math.abs(i[0])]).hsl(),chroma(n[Math.abs(i[1])]).hsl(),p[Math.abs(i[2])],p[Math.abs(i[3])]]:[p[Math.abs(i[0])],p[Math.abs(i[1])],chroma(n[Math.abs(i[2])]).hsl(),chroma(n[Math.abs(i[3])]).hsl()],a=0;a<4;a++)h.push([checkHue(d[a][0]),checkPercentage(d[a][1]),checkPercentage(d[a][2])]);return[s,h]}function s(t,e,o,i){var r=chroma.bezier([t,e]).scale().colors(101),s=[],n=[];if(i){var a;s=f(r),a=chroma(r[5]).hsl()[2]>s[5][2]?[chroma(r[Math.abs(o[0])]).hsl(),chroma(r[Math.abs(o[1])]).hsl(),s[Math.abs(o[2])],s[Math.abs(o[3])]]:[s[Math.abs(o[0])],s[Math.abs(o[1])],chroma(r[Math.abs(o[2])]).hsl(),chroma(r[Math.abs(o[3])]).hsl()];for(var l=0;l<4;l++)n.push([checkHue(a[l][0]),checkPercentage(a[l][1]),checkPercentage(a[l][2])])}return n}function f(t){for(var e=checkPercentage(chroma(t[0]).hsl()[2]),o=[],i=0;i<t.length;i++){var r=chroma(t[i]).hsl(),s=checkPercentage(e+(e-r[2]));o.push([checkHue(r[0]),checkPercentage(r[1]),s])}return o}function e(t,e){var o=[];switch(t){case"accent":o=e&&1==e?[[342,.92,.65],[342,.92,.6],[342,.92,.54],[342,.92,.47],[342,.92,.41]]:[[342,.89,.62],[342,.89,.56],[342,.89,.48],[342,.89,.43],[342,.89,.38]];break;case"success":o=[[170,.78,.47],[170,.78,.42],[170,.78,.36],[170,.78,.31],[170,.78,.26]];break;case"warning":o=[[35,.79,.82],[35,.79,.74],[35,.79,.66],[35,.79,.56],[35,.79,.48]];break;case"error":o=e&&1==e?[[342,.92,.65],[342,.92,.6],[342,.92,.54],[342,.92,.47],[342,.92,.41]]:[[342,.89,.62],[342,.89,.56],[342,.89,.48],[342,.89,.43],[342,.89,.38]];break;default:o=e&&1==e?[[250,1,.76],[250,1,.72],[250,1,.69],[250,1,.64],[250,1,.6]]:[[250,.84,.67],[250,.84,.6],[250,.84,.54],[250,.84,.46],[250,.84,.38]]}return o}function o(t){return 1==t?[[232,.11,.15],[240,.06,.26],[240,.03,.41],[213,.03,.57],[240,.05,.82],[240,1,.99]]:[[0,0,1],[240,.04,.85],[240,.04,.65],[225,.04,.47],[230,.07,.23],[230,.13,.09]]}function i(t){return 1==t?[[232,.07,.22],[233,.08,.19],[233,.08,.11],[232,.07,.08]]:[[0,0,1],[0,0,1],[240,.04,.95],[240,.04,.9]]}function d(t){return"tailwind"==t?["  --color-",": ",";"]:["  @include defineColorHSL(--color-",", ",");"]}this.Colors=function(t,e){this.element=t,this.primaryColors=[],this.accentColors=[],this.blackColors=[],this.whiteColors=[],this.contrastColors=[],this.bgVariations=[],this.warningColors=[],this.successColors=[],this.errorColors=[],this.themes=[],this.fontRendering=[],this.colorLinks=[],this.mainColorLabels=["primary","accent","warning","success","error"],this.customColorLabels=[],this.gradientColorLabels=[],this.gradientColorIds=[],this.selectedColor="primary",this.selectedTheme=0,this.blackVariations=[[0,0],[0,.1],[0,.2]],this.whiteVariations=[[0,0],[0,-.1],[0,-.2]],this.contrastVariations=[0,15,35,54,82,100],this.bgContrastVariations=h(),this.colorPicker=$(this.element).find(".js-color-picker"),this.mainColorsSection=$(this.element).find(".js-app-editor--main-colors"),this.mainColorVariationsInput=$(this.element).find(".js-main-color-variation"),this.mainColorVariationsSidebar=$(this.element).find(".js-app-editor--main-colors"),this.blackWhiteSection=$(this.element).find(".js-app-editor--black-white"),this.contrastSection=$(this.element).find(".js-app-editor--contrast"),this.contrastInputs=this.contrastSection.find(".js-app-editor-section__contrast-inputs"),this.bgContrastInputs=this.contrastSection.find(".js-app-editor-section__bg-contrast-inputs"),this.fontRenderingSection=this.contrastSection.find(".js-app-editor-section__font-rendering"),this.basicColorPicker=$(this.element).find(".js-app-editor-section__color-picker"),this.bgColorPicker=$(this.element).find(".js-app-editor-section__bg-color-picker"),this.hcColorPicker=$(this.element).find(".js-app-editor-section__hc-color-picker"),this.grColorPicker=$(this.element).find(".js-app-editor-section__gr-color-picker"),this.grColorPickerItems=this.grColorPicker.find(".js-color-picker"),this.mainColorShown="",this.blackWhiteShown="",this.contrastShown="",this.gradientShown="",this.colorOpacities=[],this.savePrjBgVar=!1,this.iframe=window.frames[0],this.colorsLoaded=!1,e||(this.initFrame(),this.loadPreset(),this.eventListener())},Colors.prototype.initFrame=function(){var t=this;onIframeLoad(t.iframe,function(){t.frameIsLoaded()})},Colors.prototype.frameIsLoaded=function(){var t,e,o,i=this;i.colorsLoaded?(o=this.iframe,PROJECT&&PROJECT.colors&&""!==PROJECT.colors&&o.loadColorsForColors(JSON.parse(se(PROJECT.colors)),!0),j(this.iframe),T(this.iframe),e=this.iframe,PROJECT&&PROJECT.buttons&&""!==PROJECT.buttons?e.loadButtonsForColors(JSON.parse(se(PROJECT.buttons)),!0):e.loadButtonsForColors(!1,!0),t=this.iframe,PROJECT&&PROJECT.form&&""!==PROJECT.form?t.loadFormForColors(JSON.parse(se(PROJECT.form)),!0):t.loadFormForColors(!1,!0),i.updateColorsDemo(!1),i.updateColorLinks(),le(),this.savePrjBgVar&&ee("colors",function(){}),i.iframe.setFramework(getFramework())):setTimeout(function(){i.frameIsLoaded()},100)},Colors.prototype.loadPreset=function(){PROJECT&&PROJECT.colors?this.initColorsFromProject(JSON.parse(PROJECT.colors)):(this.themes=["default","dark"],this.initColors(0),this.initColors(1)),this.setThemeColors(),this.colorsLoaded=!0},Colors.prototype.setThemeColors=function(){var t=this;switch(this.mainColorShown="",this.blackWhiteShown="",this.contrastShown="",this.gradientShown="",t.selectedColor){case"black":case"white":t.setBlackWhite();break;case"contrast":t.setContrast();break;default:-1<t.selectedColor.indexOf("gr-custom")?t.setGradient():t.setMainColors()}},Colors.prototype.initColors=function(t){this.primaryColors[t]=e("primary",t),this.accentColors[t]=e("accent",t),this.warningColors[t]=e("warning",t),this.successColors[t]=e("success",t),this.errorColors[t]=e("error",t),this.blackColors[t]=[getHslFromHex("#14151a")],this.whiteColors[t]=[getHslFromHex("#ffffff")],1==t?(this.fontRendering[t]=1,this.contrastColors[t]=o(1),this.bgVariations[t]=i(1)):(this.fontRendering[t]=!1,this.contrastColors[t]=o(0),this.bgVariations[t]=i(0))},Colors.prototype.initColorsFromProject=function(t){this.themes=[],this.mainColorLabels=[],this.customColorLabels=[],this.fontRendering=[],this.themes=Object.values(t.themes),this.mainColorLabels=Object.values(t.mainColorLabels),t.customColorLabels&&(this.customColorLabels=Object.values(t.customColorLabels));for(var e=0;e<this.mainColorLabels.length;e++){var o=t[this.mainColorLabels[e]];this[this.mainColorLabels[e]+"Colors"]=this.convColorToArr(o)}if(this.blackColors=this.convColorToArr(t.blackColors),this.whiteColors=this.convColorToArr(t.whiteColors),this.contrastColors=this.convColorToArr(t.contrastColors),t.bgVariations)this.bgVariations=this.convColorToArr(t.bgVariations);else{for(e=0;e<this.themes.length;e++){var i=h(this,e);this.bgVariations[e]=s(getHexFromHsl(this.contrastColors[e][0]),getHexFromHsl(this.contrastColors[e][5]),i,!0)}this.savePrjBgVar=!0}if(t.fontRendering)this.fontRendering=Object.values(t.fontRendering);else for(e=0;e<this.themes.length;e++)this.fontRendering[e]=!1;if(t.colorLinks)for(var r in t.colorLinks)t.colorLinks.hasOwnProperty(r)&&(this.colorLinks[r]=t.colorLinks[r]);for(t.gradientColorLabels&&(this.gradientColorLabels=Object.values(t.gradientColorLabels)),t.gradientColorIds&&(this.gradientColorIds=Object.values(t.gradientColorIds)),e=0;e<this.gradientColorIds.length;e++)o=t[this.gradientColorIds[e]+"Gradients"],this[this.gradientColorIds[e]+"Gradients"]=this.convColorToArr(o)},Colors.prototype.convColorToArr=function(t){var e=[];for(var o in t)if(t.hasOwnProperty(o)){var i=[],r=t[o];for(var s in r)r.hasOwnProperty(s)&&i.push(Object.values(r[s]));e.push(i)}return e},Colors.prototype.convPerceToArr=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(Object.values(t[o]));return e},Colors.prototype.initThemeColors=function(t){this.primaryColors[t]=this.primaryColors[0].slice(0),this.accentColors[t]=this.accentColors[0].slice(0),this.warningColors[t]=this.warningColors[0].slice(0),this.successColors[t]=this.successColors[0].slice(0),this.errorColors[t]=this.errorColors[0].slice(0),this.blackColors[t]=this.blackColors[0].slice(0),this.whiteColors[t]=this.whiteColors[0].slice(0),this.contrastColors[t]=this.contrastColors[0].slice(0),this.bgVariations[t]=this.bgVariations[0].slice(0),this.fontRendering[t]=!1;for(var e=0;e<this.mainColorLabels.length;e++)-1<this.mainColorLabels[e].indexOf("custom-")&&(this[this.mainColorLabels[e]+"Colors"][t]=this[this.mainColorLabels[e]+"Colors"][0].slice());for(e=0;e<this.gradientColorIds.length;e++)this[this.gradientColorIds[e]+"Gradients"][t]=this[this.gradientColorIds[e]+"Gradients"][0].slice()},Colors.prototype.setBtnColorCustomNiceLabels=function(){this.iframe.setBtnColorCustomNiceLabels(this.mainColorLabels,this.customColorLabels)},Colors.prototype.setBtnGradientNiceLabels=function(){this.iframe.setBtnGradientNiceLabels(this.gradientColorLabels)},Colors.prototype.eventListener=function(){var a=this;$(this.element).on("content-selected",function(t,e,o,i){-1<o.indexOf("gradient")?a.selectNewColor(e,"--gradient-"+a.gradientColorIds[a.gradientColorLabels.indexOf(o.replace("--gradient-",""))]):a.selectNewColor(e,o)}),rt($(this.mainColorVariationsSidebar),function(t){a.colorUpdated($(t.currentTarget),"main")}),rt(this.blackWhiteSection,function(t){a.colorUpdated($(t.currentTarget),"bw")}),rt(this.contrastInputs,function(t){a.contrastColorUpdated($(t.currentTarget)),a.updateColorsDemo(!0,"contrast")}),rt(this.bgContrastInputs,function(t){a.contrastBgColorUpdated($(t.currentTarget)),a.updateColorsDemo(!0,"contrast")}),this.fontRenderingSection.on("change",function(t){a.updateFontRendering(t.target.value),a.updateColorsDemo(!0,"fontRendering")}),$(this.element).on("color-picker-updated",function(t,e,o){-1<a.selectedColor.indexOf("gr-custom")?a.setGradient(e,o):-1<a.mainColorLabels.indexOf(a.selectedColor)?a.setMainColors(e):"white"==a.selectedColor||"black"==a.selectedColor?a.setBlackWhite(e):a.setContrast(e,o),a.updateColorsDemo(!0,a.selectedColor)}),$(this.element).on("content-switch-added",function(t,e,o){"colors"==e&&(a.themes.push(o),a.selectedTheme=a.themes.length-1,a.initThemeColors(a.selectedTheme),a.setThemeColors(),a.updateColorsDemo(!0))}),$(this.element).on("content-switch-selected",function(t,e,o){"colors"==e&&(a.selectedTheme=o,a.setThemeColors(),a.updateColorsDemo(!1))}),$(this.element).on("content-switch-edited",function(t,e,o,i){"colors"==e&&(a.themes[o]!=i&&"1"==IS_LOGGED&&ae.yes(),a.themes[o]=i)}),$(this.element).on("content-switch-deleted",function(t,e,o,i){"colors"==e&&(a.removeTheme(e,o,i),a.updateColorsDemo(!0))}),this.blackWhiteSection.on("click",".js-btn-create",function(t){a.createBlackWhiteVariation(),a.blackWhiteSection.children().eq(0).removeClass("app-editor-section__title--hide-body"),a.updateColorsDemo(!0,a.selectedColor)}),this.blackWhiteSection.on("click",".js-btn-delete",function(t){a.deleteBlackWhiteVariation($(t.currentTarget).parents(".js-app-editor__color-bw").index()),a.updateColorsDemo(!0,a.selectedColor)}),$(this.element).on("custom-content-added",function(t,e,o,i){if("colors"==e)if(-1<i.indexOf("gradient")){var r=i.replace("#gradient-","");a[r+"Gradients"]=[];for(var s=a.getInitialGradient(),n=0;n<a.themes.length;n++)a[r+"Gradients"][n]=s[n];a.gradientColorLabels.push(o.replace("--gradient-","")),a.gradientColorIds.push(r),a.selectNewColor(e,"--gradient-"+r),a.updateColorsDemoNewCustom(a[r+"Gradients"][a.selectedTheme],o,r)}else{for(r=i.replace("#color-",""),a[r+"Colors"]=[],n=0;n<a.themes.length;n++)a[r+"Colors"][n]=a.primaryColors[0];a.mainColorLabels.push(r),a.customColorLabels.push(o),a.selectNewColor(e,"--color-"+r),a.updateColorsDemoNewCustom(a[r+"Colors"][a.selectedTheme],o,r)}}),$(this.element).on("custom-content-edited",function(t,e,o,i,r){"colors"==e&&(-1<r.indexOf("gradient")?a.gradientColorLabels[a.gradientColorIds.indexOf(r.replace("#gradient-",""))]=i.replace("--gradient-",""):a.customColorLabels[a.mainColorLabels.indexOf(r.replace("#color-",""))-5]=i,a.updateColorsDemoEditCustom(r,i))}),$(this.element).on("custom-content-removed",function(t,e,o,i){if("colors"==e)if(-1<i.indexOf("gradient")){var r=i.replace("#gradient-",""),s=a.gradientColorIds.indexOf(r);a.gradientColorLabels.splice(s,1),a.gradientColorIds.splice(s,1),a[r+"Gradients"]=[],a.updateColorsDemoRemoveCustom("gr-"+r),a.colorLinks["gr-"+r]&&(a.colorLinks["gr-"+r]=!1)}else r=i.replace("#color-",""),s=a.mainColorLabels.indexOf(r),a.mainColorLabels.splice(s,1),a.customColorLabels.splice(s-5,1),a[r+"Colors"]=[],a.updateColorsDemoRemoveCustom(r),a.colorLinks[r]&&(a.colorLinks[r]=!1)}),$(this.element).on("updateColorLink",function(t,e,o){-1<e.indexOf("gradient")?a.colorLinks[e.replace("#gradient-","gr-")]=o:a.colorLinks[e.replace("#color-","")]=o}),this.element.addEventListener("get-config",function(t){t.detail.callback(a.getConfigContent())})},Colors.prototype.getInitialGradient=function(){for(var t=[],e=0;e<this.themes.length;e++){var o=this.primaryColors[e][2],i=o[0]<310?o[0]+50:o[0]-50;t.push([o,[i,o[1],o[2]]])}return t},Colors.prototype.selectNewColor=function(t,e){"colors"==t&&(-1<e.indexOf("--color-black")||-1<e.indexOf("--color-white")?(this.selectedColor=e.replace("--color-",""),this.resetSidebarSections("black-white"),this.setBlackWhite()):-1<e.indexOf("--color-")?(this.selectedColor=e.replace("--color-",""),this.resetSidebarSections("main"),this.setMainColors()):-1<e.indexOf("--gradient-")?(this.selectedColor=e.replace("--gradient","gr"),this.resetSidebarSections("gradient"),this.setGradient()):(this.selectedColor="contrast",this.resetSidebarSections("contrast"),this.setContrast()))},Colors.prototype.resetSidebarSections=function(t){switch(this.mainColorsSection.add(this.blackWhiteSection).add(this.contrastSection).add(this.basicColorPicker).add(this.bgColorPicker).add(this.hcColorPicker).add(this.grColorPicker).addClass("app-editor-section--is-hidden"),t){case"black-white":this.blackWhiteSection.add(this.basicColorPicker).removeClass("app-editor-section--is-hidden");break;case"contrast":this.contrastSection.add(this.bgColorPicker).add(this.hcColorPicker).removeClass("app-editor-section--is-hidden");break;case"gradient":this.grColorPicker.removeClass("app-editor-section--is-hidden");break;default:this.mainColorsSection.add(this.basicColorPicker).removeClass("app-editor-section--is-hidden")}},Colors.prototype.setMainColors=function(t){if(this.mainColorShown.indexOf(this.selectedColor)<0||t){this.mainColorShown=this.selectedColor,t&&this.updateMultipleColorsInThemes(function(t){var e=function(t){var e=.06,o=.12;.8<t[2]&&(o=1,e=parseFloat((.5*(o-t[2])).toFixed(2)));var i=-.06,r=-.12;return t[2]<.2&&(r=-t[2],i=parseFloat((.5*-t[2]).toFixed(2))),[[0,o],[0,e],[0,i],[0,r]]}(t),o=[];t[0]=checkHue(t[0]);for(var i=0;i<4;i++)o.push([t[0],checkPercentage(t[1]+e[i][0]),checkPercentage(t[2]+e[i][1])]);return o.splice(2,0,t),o}(t));for(var e=this[this.selectedColor+"Colors"][this.selectedTheme],o=0;o<5;o++)this.setMainColor(e[o],o)}null!=t&&t||this.colorPicker.trigger("update-picker",[this[this.selectedColor+"Colors"][this.selectedTheme][2]])},Colors.prototype.setBlackWhite=function(t){if(this.blackWhiteShown.indexOf(this.selectedColor)<0||t){this.blackWhiteShown=this.selectedColor;var e=this[this.selectedColor+"Colors"][this.selectedTheme].length;t&&this.updateMultipleColorsInThemes(this.getBlackWhiteVariation(t,e));var o=this[this.selectedColor+"Colors"][this.selectedTheme];this.checkBlackWhiteInputNumber(o.length);for(var i=0;i<o.length;i++)this.setBlackWhiteColor(o[i],i)}null!=t&&t||this.colorPicker.trigger("update-picker",[this[this.selectedColor+"Colors"][this.selectedTheme][0]]),this.resetBWActionVisibility()},Colors.prototype.updateMultipleColorsInThemes=function(t){if(this.colorLinks[this.selectedColor])for(var e=0;e<this.themes.length;e++)this[this.selectedColor+"Colors"][e]=t;else this[this.selectedColor+"Colors"][this.selectedTheme]=t},Colors.prototype.setContrast=function(t,e){var o=this.selectedTheme;if(this.contrastShown.indexOf(this.selectedColor)<0||t){if(this.contrastShown=this.selectedColor,t){var i=0<e.parents(".js-app-editor-section__bg-color-picker").length?[getHexFromHsl(t),getHexFromHsl(this[this.selectedColor+"Colors"][o][5])]:[getHexFromHsl(this[this.selectedColor+"Colors"][o][0]),getHexFromHsl(t)],r="contrast"==this.selectedColor,s=this.contrastVariations.slice(0),n=h(this,o),a=u(i[0],i[1],s,n,r);this[this.selectedColor+"Colors"][o]=a[0],r&&(this.bgVariations[o]=a[1])}for(var l=this[this.selectedColor+"Colors"][o],c=0;c<6;c++)this.setContrastColor(l[c],c);var d=this.bgVariations[o];for(c=0;c<4;c++){var p=c;1<c&&(p=c+1),this.setBgContrastColor(d[c],p)}this.setBgContrastColor(l[0],2),this.updateFontRendering(!1)}null!=t&&t||this.colorPicker.trigger("update-contrast-picker",[this[this.selectedColor+"Colors"][o][0],this[this.selectedColor+"Colors"][o][5]])},Colors.prototype.setGradient=function(t,e){var o=this.selectedColor.replace("gr-","");if((this.gradientShown.indexOf(o)<0||t)&&(this.gradientShown=o,t)){var i=0<e.parents(".js-app-editor-section__gr-color-picker--stop-1").length?0:1;if(this.colorLinks["gr-"+o])for(var r=0;r<this.themes.length;r++)this[o+"Gradients"][r][i]=t;else this[o+"Gradients"][this.selectedTheme][i]=t}null!=t&&t||(this.grColorPickerItems.eq(0).trigger("update-picker",[this[o+"Gradients"][this.selectedTheme][0]]),this.grColorPickerItems.eq(1).trigger("update-picker",[this[o+"Gradients"][this.selectedTheme][1]]))},Colors.prototype.updateFontRendering=function(t){t&&(this.fontRendering[this.selectedTheme]=t),this.fontRendering[this.selectedTheme]?this.fontRenderingSection.find("select").val(this.fontRendering[this.selectedTheme]):this.fontRenderingSection.find("select").val(0),t||tt(this.fontRenderingSection.find("select"))},Colors.prototype.checkBlackWhiteInputNumber=function(t){var e=this.blackWhiteSection.find(".js-app-editor__color-bw");e.length!=t&&(e.length<t?this.createBlackWhiteInputs(Number(t-e.length)):this.removeBlackWhiteInputs(Number(e.length-t)))},Colors.prototype.createBlackWhiteInputs=function(t){for(var e=this.blackWhiteSection.find(".js-app-editor__color-bw").eq(0),o="",i=0;i<t;i++){var r=e.clone();r.removeClass("app-editor__color-item--locked app-editor__color-item--labelled").addClass("app-editor__color-item--removable"),o+=r[0].outerHTML}this.blackWhiteSection.children(".js-app-editor-section__body").append(o),this.blackWhiteInputsResetLabelClass()},Colors.prototype.removeBlackWhiteInputs=function(t){for(var e=this.blackWhiteSection.find(".js-app-editor__color-bw"),o=e.length,i=0;i<t;i++){var r=o-i-1;e.eq(r).remove()}this.blackWhiteInputsResetLabelClass()},Colors.prototype.blackWhiteInputsResetLabelClass=function(){var t=this.blackWhiteSection.find(".js-app-editor__color-bw"),e=t.length-1;t.removeClass("app-editor__color-item--labelled").eq(e).addClass("app-editor__color-item--labelled")},Colors.prototype.colorUpdated=function(t,e){var o=t.parents(".js-main-color-variation"),i=Number(o.attr("data-order")),r=o.find(".js-hsl-color-input");if("bw"==e&&(i=t.parents(".js-app-editor__color-bw").index()),this.colorLinks[this.selectedColor]){var s="bw"==e?t.parents(".js-app-editor--variations-wrapper").eq(0).find(".js-app-editor__color-bw"):t.parents(".js-app-editor--variations-wrapper").eq(0).find(".js-main-color-variation");this.updateColorVariationsInThemes(s)}else this[this.selectedColor+"Colors"][this.selectedTheme][i]=[Number(r.eq(0).val()),convertStringToHsl(r.eq(1).val()),convertStringToHsl(r.eq(2).val())];"bw"==e?this.setBlackWhiteColor(this[this.selectedColor+"Colors"][this.selectedTheme][i],i):this.setMainColor(this[this.selectedColor+"Colors"][this.selectedTheme][i],i),this.updateColorsDemo(!0)},Colors.prototype.updateColorVariationsInThemes=function(t){for(var e=0;e<t.length;e++){var o=t.eq(e).find(".js-hsl-color-input");this.updateColorInThemes(o,e)}},Colors.prototype.updateColorInThemes=function(t,e){for(var o=Number(t.eq(0).val()),i=convertStringToHsl(t.eq(1).val()),r=convertStringToHsl(t.eq(2).val()),s=0;s<this.themes.length;s++)this[this.selectedColor+"Colors"][s][e]=[o,i,r],this[this.selectedColor+"Colors"][s][e]=[Number(o),Number(i),Number(r)]},Colors.prototype.contrastColorUpdated=function(t){var e=t.parents(".js-main-color-variation"),o=Number(e.attr("data-order")),i=e.find(".js-hsl-color-input"),r=e.find(".js-color-preview"),s=Number(i.eq(0).val()),n=convertStringToHsl(i.eq(1).val()),a=convertStringToHsl(i.eq(2).val());this.contrastColors[this.selectedTheme][o]=[Number(s),Number(n),Number(a)];var l=this.contrastColors[this.selectedTheme][o];r.css("background-color","hsl("+parseInt(l[0])+", "+Math.round(100*l[1])+"%, "+Math.round(100*l[2])+"%)")},Colors.prototype.contrastBgColorUpdated=function(t){var e=t.parents(".js-main-color-variation"),o=Number(e.attr("data-order")),i=e.find(".js-hsl-color-input"),r=e.find(".js-color-preview");2<o&&(o-=1);var s=Number(i.eq(0).val()),n=convertStringToHsl(i.eq(1).val()),a=convertStringToHsl(i.eq(2).val());this.bgVariations[this.selectedTheme][o]=[Number(s),Number(n),Number(a)];var l=this.bgVariations[this.selectedTheme][o];r.css("background-color","hsl("+parseInt(l[0])+", "+Math.round(100*l[1])+"%, "+Math.round(100*l[2])+"%)")},Colors.prototype.getBlackWhiteVariation=function(t,e){for(var o=[],i=0;i<e;i++)o.push([t[0],checkPercentage(t[1]+this[this.selectedColor+"Variations"][i][0]),checkPercentage(t[2]+this[this.selectedColor+"Variations"][i][1])]);return o},Colors.prototype.getBlackWhiteSingleVariation=function(t,e){return[t[0],checkPercentage(t[1]+this[this.selectedColor+"Variations"][e][0]),checkPercentage(t[2]+this[this.selectedColor+"Variations"][e][1])]},Colors.prototype.setMainColor=function(t,e){var o=parseInt(t[0]),i=Math.round(100*t[1]),r=Math.round(100*t[2]),s=this.mainColorVariationsInput.eq(e).find(".js-hsl-color-input"),n=this.mainColorVariationsInput.eq(e).find(".js-color-preview");s.eq(0).val(o),s.eq(1).val(i),s.eq(2).val(r),n.css("background-color","hsl("+o+", "+i+"%, "+r+"%)")},Colors.prototype.setBlackWhiteColor=function(t,e){var o=parseInt(t[0]),i=Math.round(100*t[1]),r=Math.round(100*t[2]),s=this.blackWhiteSection.find(".js-app-editor__color-bw").eq(e),n=s.find("input"),a=s.find(".js-color-preview");n.eq(0).val(checkHue(o)),n.eq(1).val(i),n.eq(2).val(r),a.css("background-color","hsl("+o+", "+i+"%, "+r+"%)")},Colors.prototype.setContrastColor=function(t,e){var o=this.contrastInputs.find(".js-main-color-variation").eq(e),i=o.find("input"),r=o.find(".js-color-preview"),s=parseInt(t[0]),n=Math.round(100*t[1]),a=Math.round(100*t[2]);i.eq(0).val(s),i.eq(1).val(n),i.eq(2).val(a),r.css("background-color","hsl("+s+", "+n+"%, "+a+"%)")},Colors.prototype.setBgContrastColor=function(t,e){var o=this.bgContrastInputs.find(".js-main-color-variation").eq(e),i=o.find("input"),r=o.find(".js-color-preview"),s=parseInt(t[0]),n=Math.round(100*t[1]),a=Math.round(100*t[2]);i.eq(0).val(s),i.eq(1).val(n),i.eq(2).val(a),r.css("background-color","hsl("+s+", "+n+"%, "+a+"%)")},Colors.prototype.createBlackWhiteVariation=function(){var t=this.blackWhiteSection.find(".js-app-editor__color-bw"),e=t.length,o=t.eq(0).clone();o.removeClass("app-editor__color-item--locked app-editor__color-item--labelled").addClass("app-editor__color-item--removable margin-top-3xs"),o.find("input").removeAttr("disabled");var i=this.blackWhiteSection.find(".js-app-editor__bw-c-labels");0<i.length?i.before(o):this.blackWhiteSection.children(".js-app-editor-section__body").append(o);var r=this.getBlackWhiteSingleVariation(this[this.selectedColor+"Colors"][this.selectedTheme][0],e);this[this.selectedColor+"Colors"][this.selectedTheme].push(r),this.setBlackWhiteColor(r,e),this.blackWhiteInputsResetLabelClass(),this.resetBWActionVisibility()},Colors.prototype.deleteBlackWhiteVariation=function(t){this.blackWhiteSection.find(".js-app-editor__color-bw").eq(t).remove(),this[this.selectedColor+"Colors"][this.selectedTheme].splice(t,1),this.resetBWActionVisibility()},Colors.prototype.resetBWActionVisibility=function(){var t=this.blackWhiteSection.find(".app-editor-section__title");2<this.blackWhiteSection.find(".js-app-editor__color-bw").length?t.removeClass("app-editor-section__title--create"):t.addClass("app-editor-section__title--create")},Colors.prototype.removeTheme=function(t,e,o){if(this.themes.splice(e,1),this.primaryColors.splice(e,1),this.accentColors.splice(e,1),this.warningColors.splice(e,1),this.successColors.splice(e,1),this.errorColors.splice(e,1),this.blackColors.splice(e,1),this.whiteColors.splice(e,1),this.contrastColors.splice(e,1),this.bgVariations.splice(e,1),5<this.mainColorLabels.length)for(var i=5;i<this.mainColorLabels.length;i++)this[this.mainColorLabels[i]+"Colors"].splice(e,1);for(i=0;i<this.gradientColorIds.length;i++)this[this.gradientColorIds[i]+"Gradients"].splice(e,1);o&&(this.selectedTheme=0,this.setThemeColors())},Colors.prototype.updateColorsDemo=function(t,e){for(var o=this.selectedTheme,i=[],r=0;r<this.mainColorLabels.length;r++)-1<this.mainColorLabels[r].indexOf("custom-")&&i.push([this.mainColorLabels[r],this[this.mainColorLabels[r]+"Colors"][o]]);var s=[];for(r=0;r<this.gradientColorIds.length;r++)s.push(this[this.gradientColorIds[r]+"Gradients"][o]);this.iframe.updateIframeColors(this.primaryColors[o],this.accentColors[o],this.blackColors[o],this.whiteColors[o],this.successColors[o],this.errorColors[o],this.warningColors[o],this.contrastColors[o],this.bgVariations[o],this.fontRendering[o],i,this.customColorLabels,this.gradientColorLabels,this.gradientColorIds,s,e),"1"==IS_LOGGED&&t&&ae.yes()},Colors.prototype.updateColorLinks=function(){this.iframe.updateIframeColorLinks(this.colorLinks)},Colors.prototype.updateColorsDemoNewCustom=function(t,e,o){this.iframe.updateIframeColorsNewColor(t,e,o),"1"==IS_LOGGED&&ae.yes()},Colors.prototype.updateColorsDemoRemoveCustom=function(t){this.iframe.updateIframeColorsRemoveColor(t),"1"==IS_LOGGED&&ae.yes()},Colors.prototype.updateColorsDemoEditCustom=function(t,e){this.iframe.updateIframeColorsEditColor(t,e),"1"==IS_LOGGED&&ae.yes()},Colors.prototype.updateCopyCode=function(t,e,o){if("t-config"==e)return this.getConfigContent();for(var i="",r=o||getFramework(),s=0;s<this.themes.length;s++){var n=this.createBlockForMainColors(s,"",r),a=this.createBlockForCustomColors(s,"",!1,r),l=this.createBlockForBWColors(s,"",r),c=this.createBlockForFeedbackColors(s,"",r),d=this.createBlockForCustomColors(s,"",!0,r),p=this.createBlockForBgContrastColors(s,"",r),h=this.createBlockForContrastColors(s,"",r),u=this.createBlockForGradients(s,"",r),f=this.createBlockForFontRendering(s,"",r),g=n+a+l+c+d+p+h+u;0==s?(g=':root, [data-theme="default"] {\n'+g+"}",""!=f&&(g=g+'\n\nbody, [data-theme="default"] {\n'+f+"}")):(""!=f&&(f="\n"+f),g='[data-theme="'+this.themes[s].toLowerCase()+'"] {\n'+g+f+"}"),i+=g,s<this.themes.length-1&&(i+="\n\n")}if(i+=this.getBgColorClasses(r),"tailwind"==r){var m=document.querySelector("[data-t-css]");m&&m.setAttribute("data-t-css",i)}return i},Colors.prototype.createBlockForMainColors=function(t,e,o){for(var i="tailwind"==o?e+"  /* main */\n":e+"  // main\n",r=["-darker","-dark","","-light","-lighter"],s=d(o),n=0;n<2;n++){for(var a=0;a<5;a++){var l=4-a,c=p(this[this.mainColorLabels[n]+"Colors"][t][l],o);i=i+e+s[0]+this.mainColorLabels[n]+r[a]+s[1]+c+s[2]+"\n"}i+="\n"}return i},Colors.prototype.createBlockForCustomColors=function(t,e,o,i){var r="",s=["-darker","-dark","","-light","-lighter"],n="tailwind"==i?["  ",": ",";"]:["  @include defineColorHSL(",", ",");"];if(5<this.mainColorLabels.length)for(var a=5;a<this.mainColorLabels.length;a++)if(this.customColorLabels[a],o&&-1<this.mainColorLabels[a].indexOf("custom-fdb")||!o&&this.mainColorLabels[a].indexOf("custom-fdb")<0){for(var l=0;l<5;l++){var c=4-l,d=p(this[this.mainColorLabels[a]+"Colors"][t][c],i);r=r+e+n[0]+this.customColorLabels[a-5]+s[l]+n[1]+d+n[2]+"\n"}r+="\n"}return r},Colors.prototype.getCustomColorClasses=function(t){var e="";if(5<this.mainColorLabels.length)for(var o=5;o<this.mainColorLabels.length;o++)this.customColorLabels[o],(t&&-1<this.mainColorLabels[o].indexOf("custom-fdb")||!t&&this.mainColorLabels[o].indexOf("custom-fdb")<0)&&(e=e+"."+this.customColorLabels[o-5].replace("--","")+" { color: var("+this.customColorLabels[o-5]+");}",e+="\n");return e},Colors.prototype.getCustomGradientClasses=function(){var t="";if(0<this.gradientColorLabels.length)for(var e=0;e<this.gradientColorLabels.length;e++)t=t+".bg-gradient-"+this.gradientColorLabels[e].replace("--","")+"-right { background-image: linear-gradient(90deg, var(--gradient-"+this.gradientColorLabels[e]+"-stop-1), var(--gradient-"+this.gradientColorLabels[e]+"-stop-2));}",t+="\n";return t},Colors.prototype.createBlockForBWColors=function(t,e,o){for(var i="",r=["","-light","-lighter"],s=["","-dark","-darker"],n=d(o),a=0;a<this.blackColors[t].length;a++){var l=p(this.blackColors[t][a],o);i=i+e+n[0]+"black"+r[a]+n[1]+l+n[2]+"\n"}for(a=0;a<this.whiteColors[t].length;a++)l=p(this.whiteColors[t][a],o),i=i+e+n[0]+"white"+s[a]+n[1]+l+n[2]+"\n";return i+"\n"},Colors.prototype.createBlockForFeedbackColors=function(t,e,o){for(var i="tailwind"==o?e+"  /* feedback */\n":e+"  // feedback\n",r=["-darker","-dark","","-light","-lighter"],s=d(o),n=2;n<5;n++){for(var a=0;a<5;a++){var l=4-a,c=p(this[this.mainColorLabels[n]+"Colors"][t][l],o);i=i+e+s[0]+this.mainColorLabels[n]+r[a]+s[1]+c+s[2]+"\n"}i+="\n"}return i},Colors.prototype.createBlockForBgContrastColors=function(t,e,o){var i="tailwind"==o?"floor":"bg",r="tailwind"==o?e+"  /* background */\n":e+"  // background\n",s=[i+"-darker",i+"-dark",i+"-light",i+"-lighter"],n=d(o),a=this.bgVariations[t].slice(0);a.reverse();for(var l=0;l<a.length;l++){var c=p(a[l],o);r=r+e+n[0]+s[l]+n[1]+c+n[2]+"\n",1==l&&(c=p(this.contrastColors[t][0],o),r=r+e+n[0]+i+n[1]+c+n[2]+"\n")}return r+"\n"},Colors.prototype.createBlockForContrastColors=function(t,e,o){for(var i="tailwind"==o?e+"  /* color contrasts */\n":e+"  // color contrasts\n",r=["bg","contrast-lower","contrast-low","contrast-medium","contrast-high","contrast-higher"],s=d(o),n=1;n<this.contrastColors[t].length;n++){var a=p(this.contrastColors[t][n],o);i=i+e+s[0]+r[n]+s[1]+a+s[2]+"\n"}return i},Colors.prototype.createBlockForGradients=function(t,e,o){if(!this.gradientColorLabels||this.gradientColorLabels.length<1)return"";if("tailwind"==o)return"";for(var i="\n"+e+"  // gradients\n",r=["-stop-1","-stop-2"],s=0;s<this.gradientColorLabels.length;s++){var n=p(this[this.gradientColorIds[s]+"Gradients"][t][0],o),a=p(this[this.gradientColorIds[s]+"Gradients"][t][1],o);i=(i=i+e+"  @include defineColorHSL(--gradient-"+this.gradientColorLabels[s]+r[0]+", "+n+");\n")+e+"  @include defineColorHSL(--gradient-"+this.gradientColorLabels[s]+r[1]+", "+a+");\n"}return i},Colors.prototype.createBlockForFontRendering=function(t,e,o){var i="",r="tailwind"==o?e+"  /* font rendering */\n":e+"  // font rendering\n";return this.fontRendering[t]&&1==Number(this.fontRendering[t])?i=r+e+"  -webkit-font-smoothing: antialiased;\n"+e+"  -moz-osx-font-smoothing: grayscale;\n":this.fontRendering[t]&&2==Number(this.fontRendering[t])&&(i=r+e+"  -webkit-font-smoothing: auto;\n"+e+"  -moz-osx-font-smoothing: auto;\n"),i},Colors.prototype.getArrayToSave=function(){for(var t=[],e=0;e<this.mainColorLabels.length;e++)t[this.mainColorLabels[e]]=this[this.mainColorLabels[e]+"Colors"];if(t.mainColorLabels=this.mainColorLabels,0<this.customColorLabels.length&&(t.customColorLabels=this.customColorLabels),t.blackColors=this.blackColors,t.whiteColors=this.whiteColors,t.contrastColors=this.contrastColors,t.bgVariations=this.bgVariations,this.fontRendering&&this.fontRendering.length==this.themes.length)t.fontRendering=this.fontRendering;else for(t.fontRendering=[],e=0;e<this.themes.length;e++)this.fontRendering[e]?t.fontRendering[e]=this.fontRendering[e]:t.fontRendering[e]=!1;if(t.themes=this.themes,t.colorLinks=this.colorLinks,0<this.gradientColorLabels.length&&(t.gradientColorLabels=this.gradientColorLabels),0<this.gradientColorIds.length)for(t.gradientColorIds=this.gradientColorIds,e=0;e<this.gradientColorIds.length;e++)t[this.gradientColorIds[e]+"Gradients"]=this[this.gradientColorIds[e]+"Gradients"];return t},Colors.prototype.getOpacitiesArrayToSave=function(){return this.colorOpacities},Colors.prototype.getBgColorClasses=function(t){var e="",o=["-darker","-dark","","-light","-lighter"];if("tailwind"==t)return"";if(5<this.mainColorLabels.length){e="\n\n// background color\n";for(var i=5;i<this.mainColorLabels.length;i++)for(var r=0;r<o.length;r++)e=e+".bg-"+this.customColorLabels[i-5].replace("--color-","")+o[r]+" { background-color: alpha(var("+this.customColorLabels[i-5]+o[r]+"), var(--bg-o, 1)); }",e+="\n"}if(0<this.gradientColorLabels.length){for(e=5<this.mainColorLabels.length?e+"\n":e+"\n\n",e+="// background gradient",r=0;r<this.gradientColorLabels.length;r++)e=(e=(e=(e=(e=e+"\n.bg-gradient-"+this.gradientColorLabels[r]+" { background-image: radial-gradient(var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)); }")+"\n.bg-gradient-"+this.gradientColorLabels[r]+"-top { background-image: linear-gradient(0deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)); }")+"\n.bg-gradient-"+this.gradientColorLabels[r]+"-right { background-image: linear-gradient(90deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)); }")+"\n.bg-gradient-"+this.gradientColorLabels[r]+"-bottom { background-image: linear-gradient(180deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)); }")+"\n.bg-gradient-"+this.gradientColorLabels[r]+"-left { background-image: linear-gradient(270deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)); }";for(e+="\n\n// border gradient",r=0;r<this.gradientColorLabels.length;r++)e=(e=(e=(e=(e=e+"\n.border-gradient-"+this.gradientColorLabels[r]+" { border-image: radial-gradient(var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)) 1; }")+"\n.border-gradient-"+this.gradientColorLabels[r]+"-top { border-image: linear-gradient(0deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)) 1; }")+"\n.border-gradient-"+this.gradientColorLabels[r]+"-right { border-image: linear-gradient(90deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)) 1; }")+"\n.border-gradient-"+this.gradientColorLabels[r]+"-bottom { border-image: linear-gradient(180deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)) 1; }")+"\n.border-gradient-"+this.gradientColorLabels[r]+"-left { border-image: linear-gradient(270deg, var(--gradient-"+this.gradientColorLabels[r]+"-stop-1), var(--gradient-"+this.gradientColorLabels[r]+"-stop-2)) 1; }";5<this.mainColorLabels.length&&(e+="\n")}if(5<this.mainColorLabels.length)for(e+="\n// border color",i=5;i<this.mainColorLabels.length;i++)for(r=0;r<o.length;r++)e=e+"\n.border-"+this.customColorLabels[i-5].replace("--color-","")+o[r]+" { border-color: alpha(var("+this.customColorLabels[i-5]+o[r]+"), var(--bg-o, 1)); }";return e},Colors.prototype.getConfigContent=function(){var t="";if(5<this.mainColorLabels.length)for(var e=5;e<this.mainColorLabels.length;e++){var o=this.customColorLabels[e-5].replace("--color-","");t=t+"\n\t"+o+": {\n\t\tDEFAULT: 'hsl(var(--color-"+o+") / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-"+o+"-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-"+o+"-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-"+o+"-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-"+o+"-lighter) / <alpha-value>)',\n\t},"}return"colors: {\n\ttransparent: 'transparent',\n\tcurrent: 'currentColor',\n\tinherit: 'inherit',\n\tprimary: {\n\t\tDEFAULT: 'hsl(var(--color-primary) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-primary-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-primary-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-primary-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-primary-lighter) / <alpha-value>)',\n\t},\n\taccent: {\n\t\tDEFAULT: 'hsl(var(--color-accent) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-accent-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-accent-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-accent-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-accent-lighter) / <alpha-value>)',\n\t},\n\tblack: 'hsl(var(--color-black) / <alpha-value>)',\n\twhite: 'hsl(var(--color-white) / <alpha-value>)',\n\twarning: {\n\t\tDEFAULT: 'hsl(var(--color-warning) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-warning-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-warning-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-warning-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-warning-lighter) / <alpha-value>)',\n\t},\n\tsuccess: {\n\t\tDEFAULT: 'hsl(var(--color-success) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-success-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-success-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-success-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-success-lighter) / <alpha-value>)',\n\t},\n\terror: {\n\t\tDEFAULT: 'hsl(var(--color-error) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-error-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-error-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-error-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-error-lighter) / <alpha-value>)',\n\t},\n\tfloor: {\n\t\tDEFAULT: 'hsl(var(--color-floor) / <alpha-value>)',\n\t\tdarker: 'hsl(var(--color-floor-darker) / <alpha-value>)',\n\t\tdark: 'hsl(var(--color-floor-dark) / <alpha-value>)',\n\t\tlight: 'hsl(var(--color-floor-light) / <alpha-value>)',\n\t\tlighter: 'hsl(var(--color-floor-lighter) / <alpha-value>)',\n\t},\n\tcontrast: {\n\t\tlower: 'hsl(var(--color-contrast-lower) / <alpha-value>)',\n\t\tlow: 'hsl(var(--color-contrast-low) / <alpha-value>)',\n\t\tmedium: 'hsl(var(--color-contrast-medium) / <alpha-value>)',\n\t\thigh: 'hsl(var(--color-contrast-high) / <alpha-value>)',\n\t\thigher: 'hsl(var(--color-contrast-higher) / <alpha-value>)',\n\t},"+t+"\n},"};var t,r=document.getElementsByClassName("js-app-sidebar-editor--colors"),g=[];if(0<r.length)for(var n=0;n<r.length;n++)t=n,g.push(new Colors(r[t]));function a(t,e){return"hsla("+parseInt(t[0])+", "+parseInt(100*t[1])+"%, "+parseInt(100*t[2])+"%, "+e+")"}function l(t){var e="";return isNaN(parseInt(t))?"":100<parseInt(t)?"":(100!=parseInt(t)&&(e="-a"+("0"+t.replace("%","")).slice(-2)),e)}function c(t,e,o){return"background-image: linear-gradient("+(0==o?"90deg":"180deg")+", "+e["--gradient-"+t+"-stop-1"]+", "+e["--gradient-"+t+"-stop-2"]+");"}this.ColorSelection=function(t){this.element=t,this.basicSwatches=$(this.element).find(".js-app-menu__color-swatches"),this.variationsSwatches=$(this.element).find(".js-app-menu__color-variations"),this.stateA=$(this.element).find(".js-app-menu__state-a"),this.stateB=$(this.element).find(".js-app-menu__state-b"),this.stateBCustomOpacity=this.stateB.find(".js-app-menu__color-custom-opacity"),this.customOpacityInput=this.stateBCustomOpacity.find("input"),this.primaryColors=[],this.accentColors=[],this.blackColors=[],this.whiteColors=[],this.contrastColors=[],this.bgVariations=[],this.warningColors=[],this.successColors=[],this.errorColors=[],this.opacities=[],this.colorGroups=$(".js-app-editor-property__color-group"),this.mainColorLabels=["primary","accent","success","warning","error"],this.mainColorVariationLabel=["-lighter","-light","","-dark","-darker"],this.customColorLabels=[],this.contrastColorVariationLabel=["-bg","-contrast-lower","-contrast-low","-contrast-medium","-contrast-high","-contrast-higher"],this.bgColorVariationLabel=["-bg-lighter","-bg-light","-bg-dark","-bg-darker"],this.contrastVariations=[0,15,35,54,82,100],this.bgContrastVariations=h(),this.gradientColorLabels=[],this.gradientColorIds=[],this.gradients=$(this.element).find(".js-app-menu__color-item--gradients"),this.gradientSwatches=this.gradients.find(".js-app-menu__color-swatch"),this.colorValues=[],this.definePrjBgVar=!1,this.framework=getFramework(),this.iframe=window.frames[0],this.loadPreset(),this.eventListener()},ColorSelection.prototype.defineBgVariables=function(){this.definePrjBgVar&&this.iframe.defineBgVariables(this.bgVariations)},ColorSelection.prototype.loadPreset=function(){PROJECT&&PROJECT.colors?this.initColorsFromProject():this.initColors(),this.initColorValues(),this.initUiColors()},ColorSelection.prototype.initColors=function(){this.primaryColors=e("primary"),this.accentColors=e("accent"),this.warningColors=e("warning"),this.successColors=e("success"),this.errorColors=e("error"),this.blackColors=[getHslFromHex("#0d1317")],this.whiteColors=[getHslFromHex("#ffffff")];var t=u("#ffffff","#0d1317",this.contrastVariations,this.bgContrastVariations,!0);this.contrastColors=t[0],this.bgVariations=t[1]},ColorSelection.prototype.initColorsFromProject=function(){var t=JSON.parse(PROJECT.colors);this.mainColorLabels=Object.values(t.mainColorLabels),t.customColorLabels&&(this.customColorLabels=Object.values(t.customColorLabels));for(var e=0;e<this.mainColorLabels.length;e++){var o=t[this.mainColorLabels[e]];this[this.mainColorLabels[e]+"Colors"]||(this[this.mainColorLabels[e]+"Colors"]=[]);for(var i=0;i<5;i++)this[this.mainColorLabels[e]+"Colors"].push(Object.values(o[0][i]))}for(e=0;e<3;e++)t.blackColors[0][e]&&this.blackColors.push(Object.values(t.blackColors[0][e])),t.whiteColors[0][e]&&this.whiteColors.push(Object.values(t.whiteColors[0][e]));for(e=0;e<6;e++)this.contrastColors.push(Object.values(t.contrastColors[0][e]));if(t.bgVariations)for(e=0;e<4;e++)this.bgVariations.push(Object.values(t.bgVariations[0][e]));else this.bgVariations=v(PROJECT)[0],this.definePrjBgVar=!0;for(t.gradientColorLabels&&(this.gradientColorLabels=Object.values(t.gradientColorLabels)),t.gradientColorIds&&(this.gradientColorIds=Object.values(t.gradientColorIds)),e=0;e<this.gradientColorIds.length;e++)for(o=t[this.gradientColorIds[e]+"Gradients"],this[this.gradientColorIds[e]+"Gradients"]=[],i=0;i<2;i++)this[this.gradientColorIds[e]+"Gradients"].push(Object.values(o[0][i]))},ColorSelection.prototype.initColorValues=function(){this.colorValues["not-specified"]="",this.colorValues.transparent="transparent",this.colorValues.inherit="inherit";for(var t=0;t<this.mainColorLabels.length;t++)for(var e=0;e<this.mainColorVariationLabel.length;e++)this.colorValues["--color-"+this.mainColorLabels[t]+this.mainColorVariationLabel[e]]=a(this[this.mainColorLabels[t]+"Colors"][e],1);for(t=0;t<this.blackColors.length;t++)this.colorValues["--color-black"+this.mainColorVariationLabel[2-t]]=a(this.blackColors[t],1);for(t=0;t<this.whiteColors.length;t++)this.colorValues["--color-white"+this.mainColorVariationLabel[2+t]]=a(this.whiteColors[t],1);for(t=0;t<this.contrastColorVariationLabel.length;t++)this.colorValues["--color"+this.contrastColorVariationLabel[t]]=a(this.contrastColors[t],1);if(this.bgVariations&&0<this.bgVariations.length)for(t=0;t<this.bgColorVariationLabel.length;t++)this.colorValues["--color"+this.bgColorVariationLabel[t]]=a(this.bgVariations[t],1);for(t=0;t<this.gradientColorLabels.length;t++)this.colorValues["--gradient-"+this.gradientColorLabels[t]+"-stop-1"]=a(this[this.gradientColorIds[t]+"Gradients"][0],1),this.colorValues["--gradient-"+this.gradientColorLabels[t]+"-stop-2"]=a(this[this.gradientColorIds[t]+"Gradients"][1],1)},ColorSelection.prototype.initUiColors=function(){this.initMainSwatches(),this.initBWSwatches(),this.initBgSwatches(),this.initContrastSwatches(),this.initGradientSwatches()},ColorSelection.prototype.initMainSwatches=function(){for(var t=this.basicSwatches.filter('[data-colors="main"]'),e=t.children("li"),o=0;o<2;o++)for(var i=0;i<this.mainColorVariationLabel.length;i++)e.eq(o*this.mainColorVariationLabel.length+i).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-"+this.mainColorLabels[o]+this.mainColorVariationLabel[i]]+";").attr("data-item","--color-"+this.mainColorLabels[o]+this.mainColorVariationLabel[i]);var r=this.initCustomColorSwatches(e,!1);t.append(r);var s=this.basicSwatches.filter('[data-colors="feedback"]');for(e=s.children("li"),o=0;o<3;o++){var n="error";for(0==o&&(n="success"),1==o&&(n="warning"),i=0;i<this.mainColorVariationLabel.length;i++)e.eq(o*this.mainColorVariationLabel.length+i).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-"+n+this.mainColorVariationLabel[i]]+";").attr("data-item","--color-"+n+this.mainColorVariationLabel[i])}var a=this.initCustomColorSwatches(e,!0);s.append(a)},ColorSelection.prototype.initCustomColorSwatches=function(t,e){var o="";if(5<this.mainColorLabels.length)for(var i=5;i<this.mainColorLabels.length;i++)if(e&&-1<this.mainColorLabels[i].indexOf("custom-fdb")||!e&&this.mainColorLabels[i].indexOf("custom-fdb")<0)for(var r=0;r<this.mainColorVariationLabel.length;r++){var s=t.eq(r).clone().removeClass("app-menu__color-preview--selected");s.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-"+this.mainColorLabels[i]+this.mainColorVariationLabel[r]]+";").attr("data-item","--color-"+this.mainColorLabels[i]+this.mainColorVariationLabel[r]);var n=s.children(".js-app-menu__color-tooltip");n.text(this.customColorLabels[i-5]+this.mainColorVariationLabel[r]),i%2==0&&n.addClass("app-menu__color-tooltip--right"),o+=s[0].outerHTML}return o},ColorSelection.prototype.initBWSwatches=function(){var t=this.basicSwatches.filter('[data-colors="b&w"]').children("li");t.eq(0).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-black"]+";").attr("data-item","--color-black"),t.eq(1).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-white"]+";").attr("data-item","--color-white");var e="",o=t.eq(0).clone().removeClass("app-menu__color-preview--selected");this.colorValues["--color-black-light"]&&(o.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-black-light"]+";").attr("data-item","--color-black-light"),o.children(".js-app-menu__color-tooltip").text("--color-black-light"),e+=o[0].outerHTML),this.colorValues["--color-black-lighter"]&&(o.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-black-lighter"]+";").attr("data-item","--color-black-lighter"),o.children(".js-app-menu__color-tooltip").text("--color-black-lighter"),e+=o[0].outerHTML),t.eq(0)[0].insertAdjacentHTML("afterend",e);var i="";this.colorValues["--color-white-dark"]&&(o.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-white-dark"]+";").attr("data-item","--color-white-dark"),o.children(".js-app-menu__color-tooltip").text("--color-white-dark"),i+=o[0].outerHTML),this.colorValues["--color-white-darker"]&&(o.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-white-darker"]+";").attr("data-item","--color-white-darker"),o.children(".js-app-menu__color-tooltip").text("--color-white-darker"),i+=o[0].outerHTML),t.eq(1)[0].insertAdjacentHTML("afterend",i)},ColorSelection.prototype.initBgSwatches=function(){var t=this.basicSwatches.filter('[data-colors="bg-var"]').children("li");if(t.eq(0).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color"+this.contrastColorVariationLabel[0]]+";").attr("data-item","--color"+this.contrastColorVariationLabel[0]),this.bgVariations&&0<this.bgVariations.length){for(var e="",o="",i=0;i<this.bgColorVariationLabel.length;i++){var r=t.eq(0).clone().removeClass("app-menu__color-preview--selected");r.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color"+this.bgColorVariationLabel[i]]+";").attr("data-item","--color"+this.bgColorVariationLabel[i]),r.children(".js-app-menu__color-tooltip").text("--color"+this.bgColorVariationLabel[i]),i<2?e+=r[0].outerHTML:o+=r[0].outerHTML}t.eq(0)[0].insertAdjacentHTML("beforebegin",e),t.eq(0)[0].insertAdjacentHTML("afterend",o),this.initBgSwatchLabels()}},ColorSelection.prototype.initBgSwatchLabels=function(){for(var t=getFramework(),e=this.basicSwatches.filter('[data-colors="bg-var"]').children("li"),o=0;o<e.length;o++){var i=e.eq(o).children(".js-app-menu__color-tooltip"),r="tailwind"==t?i.text().replace("-bg","-floor"):i.text().replace("-floor","-bg");i.text(r)}},ColorSelection.prototype.initContrastSwatches=function(){for(var t=this.basicSwatches.filter('[data-colors="contrast"]').children("li"),e=1;e<this.contrastColorVariationLabel.length;e++)t.eq(e).children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color"+this.contrastColorVariationLabel[e]]+";").attr("data-item","--color"+this.contrastColorVariationLabel[e])},ColorSelection.prototype.initGradientSwatches=function(){for(var t="",e=0;e<this.gradientColorLabels.length;e++)for(var o=0;o<2;o++){var i=0==o?"right":"bottom",r=this.gradientSwatches.eq(o).clone().removeClass("is-hidden");r.find(".js-app-menu__color-tooltip").text("--gradient-"+this.gradientColorLabels[e]+" ("+i+")"),r.find(".js-app-menu__color-preview").attr("style",c(this.gradientColorLabels[e],this.colorValues,o)).attr("data-item","--gradient-"+this.gradientColorLabels[e]+"-"+i),t+=r[0].outerHTML}this.gradients.find(".js-app-menu__color-swatches").html(t)},ColorSelection.prototype.eventListener=function(){var t,e,o,r=this;$(r.element).on("open-color-selector",function(t,e){r.gradients.toggleClass("is-hidden",!(e.hasClass("js-app-editor-color-preview--bg")&&0<r.gradientColorLabels.length)),$(r.element).removeClass("app-menu--state-b");var o=e.offset().top+30,i=parseInt($(r.element).outerHeight())+15;o+i>$(window).height()&&(o=$(window).height()-i),$(r.element).addClass("popover--is-visible").css("top",o),r.selectInitialColor(e.attr("style").replace("background-color","").replace(";","").replace(":","").trim(),e)}),r.stateB.on("click",".js-app-menu",function(t){$(r.element).removeClass("app-menu--state-b")}),r.stateA.on("click",".js-app-menu__color-preview",function(t){var e=$(t.target).hasClass("app-menu__color-preview--selected");r.clickOnColorSectionA($(t.target),e,e)}),r.variationsSwatches.on("click",".js-app-menu__color-preview",function(t){r.selectNewColor($(t.target),$(t.target).hasClass("app-menu__color-preview--selected"),!0)}),$(r.element).on("close-color-selection",function(t){$(r.element).hasClass("popover--is-visible")&&$(r.element).removeClass("popover--is-visible")}),t=r.customOpacityInput,e=function(){var t=r.getOpInputForSelection(),e=r.stateA.find(".app-menu__color-preview--selected").attr("data-item"),o=e+t;-1<e.indexOf("custom-")&&r.stateA.find(".app-menu__color-preview--selected").next(".js-app-menu__color-tooltip").text(),$(".js-app-sidebar-editor--buttons").trigger("new-color-selection",[o,!0])},t.on("keyup",function(){clearTimeout(o),o=setTimeout(e,400)}),t.on("keydown",function(){clearTimeout(o)}),this.customOpacityInput.on("focusout",function(){var t=r.customOpacityInput.val(),e=y(t);t!=e&&r.customOpacityInput.val(e)}),this.element.addEventListener("framework-selection",function(t){r.framework=t.detail,r.initBgSwatchLabels()})},ColorSelection.prototype.clickOnColorSectionA=function(t,e,o){var i=t.parents(".js-app-menu__color-swatches").eq(0).attr("data-colors");if(this.stateA.find(".app-menu__color-preview--selected").removeClass("app-menu__color-preview--selected"),t.addClass("app-menu__color-preview--selected"),!e){var r=this.getOpInputForSelection(),s=t.attr("data-item");-1<s.indexOf("--gradient-")&&(r=""),this.sendColorSelection(s+r)}if("default"==i||"gradients"==i)return $(this.element).removeClass("app-menu--state-b"),void this.stateB.find(".app-menu__color-preview--selected").removeClass("app-menu__color-preview--selected");$(this.element).addClass("app-menu--state-b"),this.showStateB(t,i,o)},ColorSelection.prototype.selectNewColor=function(t,e,o){if(!e&&(t.addClass("app-menu__color-preview--selected").parent().siblings().children(".app-menu__color-preview--selected").removeClass("app-menu__color-preview--selected"),this.stateA.find('[data-item="'+t.attr("data-item")+'"]').addClass("app-menu__color-preview--selected").parent().siblings().children(".app-menu__color-preview--selected").removeClass("app-menu__color-preview--selected"),o)){var i=this.getOpInputForSelection(),r=t.attr("data-item");-1<r.indexOf("--gradient-")&&(i=""),this.sendColorSelection(r+i)}},ColorSelection.prototype.getOpInputForSelection=function(){return l(this.customOpacityInput.val())},ColorSelection.prototype.selectInitialColor=function(t,e){var o,i=[!1,!1,!1];if("undefined"==t)o=this.stateA.find(".js-app-menu__color-preview").eq(0);else{var r=e.attr("data-color-lb").split("-");i=this.getAllStatesColor(r),o=this.stateA.find('[data-item="'+i[0]+'"]')}this.clickOnColorSectionA(o,!0,!1),i[2]?this.customOpacityInput.val(i[2].slice(-2)+"%"):this.customOpacityInput.val("100%")},ColorSelection.prototype.getAllStatesColor=function(t){var e,o,i;return t[2]&&"gradient"==t[2]?[e="--gradient-"+t[3]+"-"+t[4],!1,!1]:(t[3]&&("black"==t[3]||"white"==t[3])||t[3]&&("primary"==t[3]||"accent"==t[3]||"success"==t[3]||"error"==t[3]||"warning"==t[3]||"bg"==t[3])?(e="--color-"+t[3],nextItems=this.getStateBCColor(e,t,4),o=nextItems[0],i=nextItems[1]):t[3]&&"custom"==t[3]&&"fdb"==t[4]?(e="--color-"+t[3]+"-"+t[4]+"-"+t[5],nextItems=this.getStateBCColor(e,t,6),o=nextItems[0],i=nextItems[1]):t[3]&&"custom"==t[3]?(e="--color-"+t[3]+"-"+t[4],nextItems=this.getStateBCColor(e,t,5),o=nextItems[0],i=nextItems[1]):t[3]&&"bg"==t[3]?(o=e="--color-bg",i=!!t[4]&&o+"-"+t[4]):t[3]&&"contrast"==t[3]?(o=e="--color-"+t[3]+"-"+t[4],i=!!t[5]&&o+"-"+t[5]):e=t[0],o&&(e=o),[e,o,i])},ColorSelection.prototype.getStateBCColor=function(t,e,o){var i,r;return r=!e[o]||"light"!=e[o]&&"lighter"!=e[o]&&"dark"!=e[o]&&"darker"!=e[o]?(i=t,!!e[o]&&i+"-"+e[o]):(i=t+"-"+e[o],!!e[o+1]&&i+"-"+e[o+1]),[i,r]},ColorSelection.prototype.sendColorSelection=function(t){t=t.replace("color-floor","color-bg");var e=$(".js-app-sidebar-editor--buttons");0==e.length&&(e=$(".js-app-sidebar-editor--shared-styles")),e.trigger("new-color-selection",[t,!0])},ColorSelection.prototype.showStateB=function(t,e,o){var i=this;if(!o){var r=t.next().text().replace("color-floor","color-bg");switch(e){case"main":i.getVariationsMain(r,t.attr("data-item"));break;case"b&w":i.getVariationsBW(r);break;case"contrast":i.getVariationsContrast(r);break;case"bg-var":i.getVariationsMain(r,r);break;default:i.getVariationsMain(r,t.attr("data-item"))}}},ColorSelection.prototype.getVariationsMain=function(t,e){var o=e.replace("--color-","");o=o.replace("-darker","").replace("-dark","").replace("-lighter","").replace("-light","");var i=t.replace("-darker","").replace("-dark","").replace("-lighter","").replace("-light","");i="tailwind"==this.framework?i.replace("bg","floor"):i;var r=this.variationsSwatches.children("li").eq(0).clone(),s="";r.removeClass("app-menu__color-preview--selected").children(".js-app-menu__color-preview");for(var n=0;n<this.mainColorVariationLabel.length;n++)r.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-"+o+this.mainColorVariationLabel[n]]+";").attr("data-item","--color-"+o+this.mainColorVariationLabel[n]).toggleClass("app-menu__color-preview--selected","--color-"+o+this.mainColorVariationLabel[n]==e),r.children(".js-app-menu__color-tooltip").text(i+this.mainColorVariationLabel[n]),s+=r[0].outerHTML;this.variationsSwatches.html(s)},ColorSelection.prototype.getVariationsBW=function(t){var e=this.variationsSwatches.children("li").eq(0).clone(),o="";if(e.removeClass("app-menu__color-preview--selected").children(".js-app-menu__color-preview"),"--color-black"==t)for(var i=0;i<this.blackColors.length;i++)e.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-black"+this.mainColorVariationLabel[2-i]]+";").attr("data-item","--color-black"+this.mainColorVariationLabel[2-i]).toggleClass("app-menu__color-preview--selected",0==i),e.children(".js-app-menu__color-tooltip").text("--color-black"+this.mainColorVariationLabel[2-i]),o+=e[0].outerHTML;else for(i=0;i<this.whiteColors.length;i++)e.children(".js-app-menu__color-preview").attr("style","background-color:"+this.colorValues["--color-white"+this.mainColorVariationLabel[2+i]]+";").attr("data-item","--color-white"+this.mainColorVariationLabel[2+i]).toggleClass("app-menu__color-preview--selected",0==i),e.children(".js-app-menu__color-tooltip").text("--color-white"+this.mainColorVariationLabel[2+i]),o+=e[0].outerHTML;this.variationsSwatches.html(o)},ColorSelection.prototype.getVariationsContrast=function(t){for(var e=this.variationsSwatches.children("li").eq(0).clone(),o="",i=1;i<this.contrastColorVariationLabel.length;i++){var r=e.children(".js-app-menu__color-preview");r.attr("style","background-color:"+this.colorValues["--color"+this.contrastColorVariationLabel[i]]+";").attr("data-item","--color"+this.contrastColorVariationLabel[i]),t=="--color"+this.contrastColorVariationLabel[i]?r.addClass("app-menu__color-preview--selected"):r.removeClass("app-menu__color-preview--selected"),e.children(".js-app-menu__color-tooltip").text("--color"+this.contrastColorVariationLabel[i]),o+=e[0].outerHTML}this.variationsSwatches.html(o)};var m,b=document.getElementsByClassName("js-app-menu--color");function y(t){var e=t;return isNaN(parseInt(e))&&(e="100%"),100<parseInt(e)&&(e="100%"),e.indexOf("%")<0&&(e+="%"),e}function v(t){var e,o,i,r,s=new Colors($(".js-colors"),!0);return s.initColorsFromProject(JSON.parse(t.colors)),t.id&&(e=s,o=t.id,i=e.getArrayToSave(),ie("project_id="+o+"&colors="+(r=JSON.stringify(re(i))),function(){},!0),PROJECT&&(PROJECT.colors=r)),s.bgVariations}function S(t){switch(t){case 1:return"primary";case 2:return"secondary";case 3:return"tertiary";case 4:return"quaternary";case 5:return"quinary";default:return"tertiary"}}function C(t){switch(t){case"100":return"thin";case"200":return"extralight";case"300":return"light";case"400":return"normal";case"500":return"medium";case"600":return"semibold";case"700":return"bold";case"800":return"extrabold";case"900":return"black";default:return"normal"}}function w(t,e,o){for(var i="",r=["","sm:","md:","lg:","xl:","2xl:"],s=0;s<6;s++)0<t[s][0]&&(i=i+r[s]+"font-"+o.fontFamilyLabels[t[s][0]-1].replace("--font-","")+" "),t[s][1]&&""!=t[s][1]&&(i=i+r[s]+"font-"+C(t[s][1])+" "),t[s][2]&&""!=t[s][2]&&(i=i+r[s]+"leading-["+t[s][2]+"] ");return e+" {\n\t@apply "+i.trim()+";\n}"}0<b.length&&(m=new ColorSelection(b[0])),window.saveColorsForGloabals=v,this.Typography=function(t,e){this.element=t,this.typographySection=$(this.element).find(".js-app-editor-property__typography"),this.typeScaleSection=$(this.element).find(".js-app-editor-property__scale"),this.bodySection=$(this.element).find(".js-app-editor-property__body"),this.lhCropSection=$(this.element).find(".js-app-editor-property__lhc"),this.tyCodeItem=this.typographySection.find("#embedFont"),this.tyFontList=this.typographySection.find(".js-app-editor-property__font-list"),this.bodyItems=this.bodySection.find("select, input"),this.scaleItems=this.typeScaleSection.find("input"),this.lhcItem=this.lhCropSection.find("input"),this.fontFamilies=[],this.fontFamilyIds=[],this.fontFamilyLabels=[],this.fontCode="",this.baseSize=[],this.scaleRatio=[],this.headingInfo=[],this.bodyInfo=[],this.lhCropCapitalLetter=[],this.selectedSection="typography",this.selectedSectionType="typography",this.mqTabs=$(this.element).find(".js-app-editor-tabs"),this.breakpointTypescale=0,this.breakpointHeading=0,this.breakpointBody=0,this.iframe=window.frames[0],this.typographyLoaded=!1,e||(this.element&&(this.twHide=this.element.getElementsByClassName("js-tw-hide")),this.element&&(this.cdHide=this.element.getElementsByClassName("js-cd-hide")),this.initFrame(),this.loadPreset(),this.resetSidebarSections(),this.eventListeners())},Typography.prototype.initFrame=function(){var t=this;onIframeLoad(t.iframe,function(){t.frameIsLoaded()})},Typography.prototype.frameIsLoaded=function(){var t=this;t.typographyLoaded?(t.updateTypographyDemo(!1),le(),x(this.iframe)):setTimeout(function(){t.frameIsLoaded()},100),m&&m.defineBgVariables&&m.defineBgVariables()},Typography.prototype.loadPreset=function(){PROJECT&&PROJECT.typography?this.initTypographyFromProject(JSON.parse(se(PROJECT.typography))):this.initTypography(),this.typographyLoaded=!0},Typography.prototype.initTypography=function(){this.fontCode='<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">',this.fontFamilies=["Inter, system-ui, sans-serif"],this.fontFamilyIds=[1],this.fontFamilyLabels=["--font-primary"],this.headingInfo=[[1,"700","1.2"],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.bodyInfo=[[1,"","1.4"],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.baseSize=["1rem",!1,!1,"1.25rem",!1,!1],this.scaleRatio=["1.2",!1,!1,"1.25",!1,!1],this.lhCropCapitalLetter=["1"]},Typography.prototype.initTypographyFromProject=function(t){this.fontCode=t.fontCode.replace(/&amp;/g,"&"),this.fontFamilies=Object.values(t.fontFamilies),this.fontFamilyIds=Object.values(t.fontFamilyIds),this.fontFamilyLabels=Object.values(t.fontFamilyLabels),this.baseSize=Object.values(t.baseSize),this.scaleRatio=Object.values(t.scaleRatio),this.lhCropCapitalLetter=Object.values(t.lhCropCapitalLetter),this.headingInfo=[],this.bodyInfo=[];for(var e=0;e<6;e++)this.headingInfo.push(Object.values(t.headingInfo[e])),this.bodyInfo.push(Object.values(t.bodyInfo[e]))},Typography.prototype.eventListeners=function(){var r=this;$(this.element).on("content-selected",function(t,e,o,i){"typography"==e&&r.selectNewTypography(o)}),this.tyFontList.on("click",".js-btn-delete",function(t){var e=$(t.currentTarget).parents(".js-font-family-item").index(),o=r.fontFamilyIds[e];r.fontFamilies.splice(e,1),r.fontFamilyIds.splice(e,1),r.fontFamilyLabels.splice(e,1),r.resetAdditionalFontFamilies(r.tyFontList.find(".js-font-family-val")),r.updateBodyHeadingFont(o,e),r.updatelhCrop(e),r.updateTypographyDemo(!0)}),this.typographySection.on("click",".js-btn-create",function(t){r.fontFamilies.push("sans-serif"),r.fontFamilyIds.push(r.fontFamilyIds[r.fontFamilyIds.length-1]+1),r.fontFamilyLabels.push("--font-"+S(r.fontFamilyIds.length)),r.resetAdditionalFontFamilies(r.tyFontList.find(".js-font-family-val")),r.tyFontList.prev().removeClass("app-editor-section__title--hide-body"),r.updatelhCrop(),r.updateTypographyDemo(!0)}),this.tyFontList.on("focusout",".js-additional-font",function(t){var e=$(t.currentTarget).parents(".js-font-family-item").index(),o=$(t.target).val();0!=o.indexOf("--font-")&&(o="--font-"+o,$(t.target).val(o)),r.fontFamilyLabels[e]!=o&&(r.fontFamilyLabels[e]=o,r.bodyItems.eq(0).find("option").eq(e+1).text(o),r.updateTypographyDemoFontLabel(e,o),ht.trigger("reset-font-label",[e,o]))}),this.tyCodeItem.on("focusout",function(){r.fontCode=function(t){var e=$("<div></div>").append($(t));e.find("script").remove();var o=e.get(0).innerHTML;return e.remove(),o}(r.tyCodeItem.val()),-1<r.tyCodeItem.val().indexOf("<script")?r.tyCodeItem.attr("aria-invalid",!0):r.tyCodeItem.removeAttr("aria-invalid"),r.updateTypographyDemo(!0)}),this.tyFontList.on("focusout",function(t){if($(t.target).is(".js-font-family-val")){var e=$(t.target).val().replace(/;/g,"");""!=(e=e.replace("font-family:","").replace("font-family :","").trim())&&0!=e.replace(/\s/g,"").length||(e="sans-serif"),$(t.target).val(e),r.checkFontFamilyChanged($(t.target))}}),this.bodySection.on("change","select",function(t){var e=q($(t.target));Jt(r.getBodySectionMq(),r.mqTabs.eq(1),!r.isBodySectionUpdated()),r[r.selectedSection+"Info"][r.getBodySectionMq()][0]=e,r.updateTypographyDemo(!0)}),rt(this.bodySection,function(t){Jt(r.getBodySectionMq(),r.mqTabs.eq(1),!r.isBodySectionUpdated()),r.checkBodyInfoChanged($(t.target),t.type)}),rt(this.typeScaleSection,function(t){Jt(r.breakpointTypescale,r.mqTabs.eq(0),!r.isTypeScaleSectionUpdated()),r.checkScaleInfoChanged($(t.target),t.type)}),it(this.lhcItem,function(t){r.checkLhcChanged($(t.target),t.type)}),this.mqTabs.on("select-mq",function(t,e,o){"Typescale"==Vt(o)?(r.breakpointTypescale=e,r.setScaleSection(!1)):(r.setBodySectionMq(e),r.setBodySectionValues())}),this.mqTabs.on("reset-mq",function(t,e){"Typescale"==Vt(e)?(r.breakpointTypescale=0,r.baseSize=Rt(r.baseSize),r.scaleRatio=Rt(r.scaleRatio),Mt(r.mqTabs.eq(0)),r.setScaleSection(!1)):(r.setBodySectionMq(0),r[r.selectedSection+"Info"]=function(t){for(var e=1;e<t.length;e++)for(var o=0;o<t[e].length;o++)t[e][o]=!1;return t}(r[r.selectedSection+"Info"]),Mt(r.mqTabs.eq(1)),r.setBodySectionValues()),r.updateTypographyDemo(!0)}),this.element.addEventListener("get-config",function(t){t.detail.callback(r.getConfigContent())}),this.element.addEventListener("framework-selection",function(t){$(r.twHide).toggleClass("is-hidden","tailwind"==t.detail),$(r.cdHide).toggleClass("is-hidden","tailwind"!=t.detail)})},Typography.prototype.selectNewTypography=function(t){-1<t.indexOf("--font-")?(this.selectedSection=t.replace("--font-",""),this.selectedSectionType="lhCrop"):"typography"==t.toLowerCase()?(this.selectedSection="typography",this.selectedSectionType="typography"):-1<t.toLowerCase().indexOf("type")?(this.selectedSection="scale",this.selectedSectionType="scale"):(this.selectedSection=t.toLowerCase(),this.selectedSectionType="body"),this.resetSidebarSections()},Typography.prototype.resetSidebarSections=function(){switch(this.typographySection.add(this.typeScaleSection).add(this.bodySection).add(this.lhCropSection).addClass("app-editor-section--is-hidden"),this.selectedSectionType){case"typography":this.typographySection.removeClass("app-editor-section--is-hidden"),this.setTypographySection();break;case"lhCrop":this.lhCropSection.removeClass("app-editor-section--is-hidden"),this.setLhcSection();break;case"scale":this.typeScaleSection.removeClass("app-editor-section--is-hidden"),this.setScaleSection(!0);break;default:this.bodySection.removeClass("app-editor-section--is-hidden"),this.setBodySection()}},Typography.prototype.setTypographySection=function(){this.tyCodeItem.val(this.fontCode);var t=this.tyFontList.find(".js-font-family-val");t.eq(0).val(this.fontFamilies[0]),this.resetAdditionalFontFamilies(t)},Typography.prototype.resetAdditionalFontFamilies=function(t){if(1<this.fontFamilies.length){for(var e=1;e<this.fontFamilies.length;e++)if(0<t.eq(e).length)t.eq(e).val(this.fontFamilies[e]).parents(".js-font-family-item").find("input.js-additional-font").val(this.fontFamilyLabels[e]).parents(".js-font-family-item").eq(0).removeClass("is-hidden");else{var o=this.fontFamilyLabels[e]?this.fontFamilyLabels[e]:"--font-"+S(e+1);this.createFontItem(t,e,o)}t.eq(this.fontFamilies.length-1).parents(".js-font-family-item").nextAll().remove()}else t.eq(1).parents(".js-font-family-item").addClass("is-hidden").nextAll().remove();this.resetFontFamiliesControl()},Typography.prototype.resetFontFamiliesControl=function(){4<this.fontFamilies.length?this.tyFontList.prev().removeClass("app-editor-section__title--create"):this.tyFontList.prev().addClass("app-editor-section__title--create")},Typography.prototype.createFontItem=function(t,e,o){o.charAt(0).toUpperCase(),o.substr(1);var i=t.eq(1).parents(".js-font-family-item").eq(0).clone().removeClass("is-hidden");i.find(".js-font-family-val").val(this.fontFamilies[e]),i.find(".js-additional-font").val(o),i.appendTo(this.tyFontList)},Typography.prototype.checkFontFamilyChanged=function(t){var e=t.parents(".js-font-family-item").index(),o=t.val().trim();o!=this.fontFamilies[e]&&(this.fontFamilies[e]=o,this.updateTypographyDemo(!0))},Typography.prototype.setBodySection=function(){this.bodyResetFontFamilySelect(),this.setBodySectionValues(),Nt(this.mqTabs.eq(1).find(".js-app-editor-tabs__item").eq(this.getBodySectionMq()),!this.isBodySectionUpdated()),At(this.mqTabs.eq(1),[this[this.selectedSection+"Info"]]),this.mqTabs.eq(1).hasClass("app-editor-tabs--is-hidden")&&(this["breakpoint"+this.selectedSection[0].toUpperCase()+this.selectedSection.substring(1)]=0,this.setBodySectionValues())},Typography.prototype.isBodySectionUpdated=function(){return 0!=this.bodyItems.eq(0).val()||""!=this.bodyItems.eq(1).val()||""!=this.bodyItems.eq(2).val()},Typography.prototype.setBodySectionValues=function(){this.bodyItems.eq(0).val(this[this.selectedSection+"Info"][this.getBodySectionMq()][0]||0),tt(this.bodyItems.eq(0));for(var t=1;t<3;t++)this.bodyItems.eq(t).val(this[this.selectedSection+"Info"][this.getBodySectionMq()][t]||"")},Typography.prototype.getBodySectionMq=function(){var t=this.selectedSection[0].toUpperCase()+this.selectedSection.substring(1);return this["breakpoint"+t]},Typography.prototype.setBodySectionMq=function(t){var e=this.selectedSection[0].toUpperCase()+this.selectedSection.substring(1);this["breakpoint"+e]=t},Typography.prototype.bodyResetFontFamilySelect=function(){var t=this.bodyItems.eq(0),e=t.find("option");if(e.length-1!=this.fontFamilies.length){e.remove();for(var o='<option value="0">not specified</option>',i=0;i<this.fontFamilies.length;i++)o=o+'<option value="'+this.fontFamilyIds[i]+'">'+this.fontFamilyLabels[i]+"</option>";t.append(o),t[0].dispatchEvent(new Event("select-options-updated"))}},Typography.prototype.checkBodyInfoChanged=function(t,e){var o=t.parents("li").index(),i=t.val().trim(),r=this.getBodySectionMq();0==r&&"focusout"==e&&""==i&&2==o&&(i="heading"==this.selectedSection?"1.2":"1.4",t.val(i)),i!=this[this.selectedSection+"Info"][r][o]&&(this[this.selectedSection+"Info"][r][o]=i,this.updateTypographyDemo(!0))},Typography.prototype.setScaleSection=function(t){this.scaleItems.eq(0).val(this.baseSize[this.breakpointTypescale]||""),this.scaleItems.eq(1).val(this.scaleRatio[this.breakpointTypescale]||""),t&&At(this.mqTabs.eq(0),[this.baseSize,this.scaleRatio]),this.mqTabs.filter('[data-tab-section="section-typescale"]').hasClass("app-editor-tabs--is-hidden")&&(this.breakpointTypescale=0,this.scaleItems.eq(0).val(this.baseSize[this.breakpointTypescale]||""),this.scaleItems.eq(1).val(this.scaleRatio[this.breakpointTypescale]||""))},Typography.prototype.isTypeScaleSectionUpdated=function(){return""!=this.scaleItems.eq(0).val()||""!=this.scaleItems.eq(1).val()},Typography.prototype.checkScaleInfoChanged=function(t,e){var o=t.parents("li").eq(0).index(),i=t.val().trim(),r=0==o?"baseSize":"scaleRatio";if(0==this.breakpointTypescale&&"focusout"==e&&""==i&&(i="baseSize"==r?"1em":"1.2",t.val(i)),1==o&&"focusout"==e&&isNaN(i))i=G(i)[0],t.val(i);else if(0==o&&"focusout"==e){if(""==i)return;""==G(i)[1]&&(i+="em",t.val(i))}i!=this[r][this.breakpointTypescale]&&(this[r][this.breakpointTypescale]=i,1==o&&(isNaN(i)?t.attr("aria-invalid",!0):t.removeAttr("aria-invalid")),this.updateTypographyDemo(!0))},Typography.prototype.setLhcSection=function(){ht.trigger("reset-font-list",[this.fontFamilies.length]),this.lhcItem.val(this.lhCropCapitalLetter[this.fontFamilyLabels.indexOf("--font-"+this.selectedSection)])},Typography.prototype.checkLhcChanged=function(t,e){var o=t.val().trim();"focusout"==e&&""==o&&(o="1",t.val(o));var i=this.fontFamilyLabels.indexOf("--font-"+this.selectedSection);o!=this.lhCropCapitalLetter[i]&&(this.lhCropCapitalLetter[i]=o,this.updateTypographyDemo(!0))},Typography.prototype.updatelhCrop=function(t){this.lhCropCapitalLetter.length>this.fontFamilies.length&&this.lhCropCapitalLetter.splice(t,1),this.lhCropCapitalLetter.length<this.fontFamilies.length&&this.lhCropCapitalLetter.push("1")},Typography.prototype.updateBodyHeadingFont=function(t,e){this.updateFontIndex(this.headingInfo,t,e),this.updateFontIndex(this.bodyInfo,t,e)},Typography.prototype.updateFontIndex=function(t,e,o){for(var i=0;i<5;i++)t[i][0]==e&&(t[i][0]=this.fontFamilyIds[o-1])},Typography.prototype.updateTypographyDemo=function(t){this.iframe.updateIframeTypography(this.fontCode,this.fontFamilies,this.fontFamilyLabels,this.fontFamilyIds,this.headingInfo,this.bodyInfo,this.baseSize,this.scaleRatio,this.lhCropCapitalLetter),"1"==IS_LOGGED&&t&&ae.yes()},Typography.prototype.updateTypographyDemoFontLabel=function(t,e){this.iframe.updateIframeTypographyLabel(t,e),"1"==IS_LOGGED&&ae.yes()},Typography.prototype.updateCopyCode=function(t,e,o){if("t-config"==e)return this.getConfigContent();var i=o||getFramework();if("tailwind"==i)return this.getTwCSS();var r=G(this.baseSize[0])[1];t=this.modifyFontFamily(t),t=this.modifyCSSVariables(t),"em"==r&&(t=this.modifyUnitVariable(t)),t=this.splitCodeToCustomize(t)+this.modifyBody()+this.modifyHeading(),t=this.modifyLHCrop(t),t+=this.getTypographyFontClasses().trimRight(),t+=this.getTypographyColorClasses().trimRight();var s=(t=(t+=this.getTypographyGradientClasses().trimRight()).replace("// --------------------------------\n\n// (START) Global editor code https://codyhouse.co/ds/globals/typography\n\n// --------------------------------\n\n","")).split(":root")[0];if(t=t.replace(s,""),"tailwind"==i){var n=document.querySelector("[data-t-css]");n&&n.setAttribute("data-t-css",t)}return t},Typography.prototype.modifyFontFamily=function(t){for(var e="",o=0;o<this.fontFamilies.length;o++)e=e+this.fontFamilyLabels[o]+": "+this.fontFamilies[o]+";",o<this.fontFamilies.length-1&&(e+="\n  ");return t.replace("--font-primary: system-ui, sans-serif;",e)},Typography.prototype.modifyCSSVariables=function(t){this.baseSize[0]&&(t=t.replace("--text-base-size: 1rem;","--text-base-size: "+this.baseSize[0]+";")),this.scaleRatio[0]&&(t=t.replace("--text-scale-ratio: 1.2;","--text-scale-ratio: "+this.scaleRatio[0]+";")),this.headingInfo[0][2]&&(t=t.replace("--heading-line-height: 1.2;","--heading-line-height: "+this.headingInfo[0][2]+";")),this.bodyInfo[0][2]&&(t=t.replace("--body-line-height: 1.4;","--body-line-height: "+this.bodyInfo[0][2]+";"));for(var e=["xs","sm","md","lg","xl"],o="",i=1;i<6;i++)(this.baseSize[i]||this.scaleRatio[i]||this.headingInfo[i][2]||this.bodyInfo[i][2])&&(""!=o&&(o+="\n"),o=o+"\n@include breakpoint("+e[i-1]+") {\n  :root {",this.baseSize[i]&&(o=o+"\n    --text-base-size: "+this.baseSize[i]+";"),this.scaleRatio[i]&&(o=o+"\n    --text-scale-ratio: "+this.scaleRatio[i]+";"),this.bodyInfo[i][2]&&(o=o+"\n    --body-line-height: "+this.bodyInfo[i][2]+";"),this.headingInfo[i][2]&&(o=o+"\n    --heading-line-height: "+this.headingInfo[i][2]+";"),o+="\n  }\n}");var r=this.getMQCodeToReplace(t);return t.replace(r,o)},Typography.prototype.modifyUnitVariable=function(t){return t.replace("--text-unit: var(--text-base-size);","--text-unit: 1em;")},Typography.prototype.getMQCodeToReplace=function(t){var e=t.split("@include breakpoint(md) {")[1].split("}"),o=e[1].split("}")[0];return central="@include breakpoint(md) {"+e[0]+"}"+o+"}",central},Typography.prototype.splitCodeToCustomize=function(t){return t.split("h1, h2, h3, h4")[0]},Typography.prototype.modifyHeading=function(t){return"h1, h2, h3, h4 {\n"+this.getmodifiedHBCode(this.headingInfo,"heading")+"}"},Typography.prototype.modifyBody=function(t){return"body {\n"+this.getmodifiedHBCode(this.bodyInfo,"body")+"}\n\n"},Typography.prototype.getmodifiedHBCode=function(t,e){var o=["xs","sm","md","lg","xl"],i="",r="body"==e?"--body-font-weight":"--heading-font-weight";t[0][0]&&0!=parseInt(t[0][0])&&(i=i+"  font-family: var("+this.fontFamilyLabels[this.fontFamilyIds.indexOf(parseInt(t[0][0]))]+");\n"),t[0][1]&&(i=i+"  "+r+": "+t[0][1]+";\n");for(var s=1;s<6;s++)(0!=t[s][0]||t[s][1])&&(i=i+"\n  @include breakpoint("+o[s-1]+") {",t[s][0]&&0!=parseInt(t[s][0])&&(i=i+"\n    font-family: var("+this.fontFamilyLabels[this.fontFamilyIds.indexOf(parseInt(t[s][0]))]+");"),t[s][1]&&(i=i+"\n    "+r+": "+t[s][1]+";"),i+="\n  }\n");return i},Typography.prototype.modifyLHCrop=function(t){for(var e="",o=0;o<this.lhCropCapitalLetter.length;o++)e=e+"\n  "+this.fontFamilyLabels[o]+"-capital-letter: "+this.lhCropCapitalLetter[o]+";";return t.replace("\n  --font-primary-capital-letter: 1;",e)},Typography.prototype.getArrayToSave=function(t){var e=[];return e.fontCode=this.fontCode,e.fontFamilies=this.fontFamilies,e.fontFamilyLabels=this.fontFamilyLabels,e.fontFamilyIds=this.fontFamilyIds,e.headingInfo=B(this.headingInfo),e.bodyInfo=B(this.bodyInfo),e.baseSize=B(this.baseSize),e.scaleRatio=B(this.scaleRatio),e.lhCropCapitalLetter=this.lhCropCapitalLetter,e},Typography.prototype.getTypographyColorClasses=function(){var t="",e=["-darker","-dark","","-light","-lighter"];if(this.iframe&&this.iframe.btnColorCustomNiceLabels&&0<this.iframe.btnColorCustomNiceLabels.length)for(var o=0;o<this.iframe.btnColorCustomNiceLabels.length;o++)for(var i=0;i<e.length;i++)t=t+".color-"+this.iframe.btnColorCustomNiceLabels[o].replace("--color-","")+e[i]+" { color: alpha(var("+this.iframe.btnColorCustomNiceLabels[o]+e[i]+"), var(--color-o, 1)); }\n";return""!=t&&(t="\n\n// color\n"+t),t},Typography.prototype.getTypographyGradientClasses=function(){var t="";if(this.iframe&&this.iframe.btnGradientsCustomNiceLabels&&0<this.iframe.btnGradientsCustomNiceLabels.length)for(var e=0;e<this.iframe.btnGradientsCustomNiceLabels.length;e++){var o=this.iframe.btnGradientsCustomNiceLabels[e];t=(t=(t=(t=t+".color-gradient-"+o+"-top { background-image: linear-gradient(0deg, var(--gradient-"+o+"-stop-1), var(--gradient-"+o+"-stop-2)); }\n")+".color-gradient-"+o+"-right { background-image: linear-gradient(90deg, var(--gradient-"+o+"-stop-1), var(--gradient-"+o+"-stop-2)); }\n")+".color-gradient-"+o+"-bottom { background-image: linear-gradient(180deg, var(--gradient-"+o+"-stop-1), var(--gradient-"+o+"-stop-2)); }\n")+".color-gradient-"+o+"-left { background-image: linear-gradient(270deg, var(--gradient-"+o+"-stop-1), var(--gradient-"+o+"-stop-2)); }\n"}return""!=t&&(t="\n\n// gradient\n"+t),t},Typography.prototype.getTypographyFontClasses=function(){for(var t="\n\n// font family\n",e=0;e<this.fontFamilies.length;e++)t=t+"."+this.fontFamilyLabels[e].replace("--","")+" { font-family: var("+this.fontFamilyLabels[e]+"); }",e<this.fontFamilies.length-1&&(t+="\n");return t},Typography.prototype.getTwCSS=function(){return w(this.bodyInfo,"body",this)+"\n\n"+w(this.headingInfo,"h1, h2, h3, h4",this)},Typography.prototype.getConfigContent=function(){for(var t="",e=0;e<this.fontFamilies.length;e++)t=t+"\t'"+this.fontFamilyLabels[e].replace("--font-","")+"': '"+this.fontFamilies[e].replaceAll("'","")+"',\n";return"fontFamily: {\n"+t+"},"};var _,k=document.getElementsByClassName("js-app-sidebar-editor--typography"),L=[];if(0<k.length)for(n=0;n<k.length;n++)_=n,L.push(new Typography(k[_]));function x(t){PROJECT&&PROJECT.colors&&""!==PROJECT.colors&&t.loadColorStyle(JSON.parse(PROJECT.colors))}function j(t){PROJECT&&PROJECT.typography&&""!==PROJECT.typography?t.loadTypographyForButtons(JSON.parse(se(PROJECT.typography)),!0):t.loadTypographyForButtons(!1,!0)}function T(t){PROJECT&&PROJECT.spacing&&""!==PROJECT.spacing?t.loadSpacingForButtons(JSON.parse(se(PROJECT.spacing)),!0):t.loadSpacingForButtons(!1,!0)}function B(t){for(var e=0;e<t.length;e++)1<t[e].length?t[e]=B(t[e]):""==t[e]&&(t[e]=!1);return t}function q(t){return t.siblings(".js-select__dropdown").find('[aria-selected="true"]').attr("data-value")}function I(t){for(var e=0;e<t.length;e++)o=e,new CustomSelect(t.eq(o)[0]);var o}this.Spacing=function(t,e){this.element=t,this.breakpointSpacing=0,this.breakpointPadding=0,this.breakpointList=["none","sm","md","lg","xl"],this.suSelect=$(this.element).find(".js-app-editor-property__su").find("input"),this.srSelect=$(this.element).find(".js-app-editor-property__sr").find("select"),this.paddingSelect=$(this.element).find(".js-app-editor-property__padding").find("select"),this.srCustomSection=$(this.element).find(".js-app-editor-property__custom-sr"),this.componentPadding=[],this.spaceUnit=[],this.spaceRatio=[],this.padding=[],this.customSpaceRatio=[],this.initCustomSpaceRatioArray(),this.mqTabs=$(this.element).find(".js-app-editor-tabs"),this.iframe=window.frames[0],this.spacingLoaded=!1,e||(this.initFrame(),this.loadPreset(),this.resetUi(!0),this.eventListeners())},Spacing.prototype.initCustomSpaceRatioArray=function(){for(var t=0;t<P.length;t++)this.customSpaceRatio[t]=[P[t],!1,!1,N[t],!1]},Spacing.prototype.initFrame=function(){var t=this;onIframeLoad(t.iframe,function(){t.frameIsLoaded()})},Spacing.prototype.frameIsLoaded=function(){var t,e=this;e.spacingLoaded?(e.updateSpacingDemo(!1),le(),x(this.iframe),t=this.iframe,PROJECT&&PROJECT.typography&&""!==PROJECT.typography?t.loadTypographyForSpacing(JSON.parse(se(PROJECT.typography)),!0):t.loadTypographyForSpacing(!1,!0)):setTimeout(function(){e.frameIsLoaded()},100)},Spacing.prototype.loadPreset=function(){PROJECT&&PROJECT.spacing?this.initSpacingFromProject(JSON.parse(se(PROJECT.spacing))):this.initSpacing(),this.spacingLoaded=!0},Spacing.prototype.initSpacing=function(){this.spaceUnit=["1rem",!1,!1,!1,!1,!1],this.spaceRatio=[1,!1,!1,6,!1,!1],this.padding=[6,!1,!1,!1,!1,!1]},Spacing.prototype.initSpacingFromProject=function(t){this.spaceUnit=Object.values(t.spaceUnit),this.spaceRatio=Object.values(t.spaceRatio),this.padding=Object.values(t.padding),this.customSpaceRatio=[];for(var e=0;e<11;e++)this.customSpaceRatio.push(Object.values(t.customSpaceRatio[e]))},Spacing.prototype.resetUi=function(t){var e=this.spaceUnit[this.breakpointSpacing],o=this.spaceRatio[this.breakpointSpacing],i=this.padding[this.breakpointPadding];this.suSelect.val(e||""),this.srSelect.val(o||0),this.paddingSelect.val(i||0),tt(this.srSelect),tt(this.paddingSelect),this.resetCustomSr(o),t&&(At(this.mqTabs.eq(0),[this.spaceUnit,this.spaceRatio]),At(this.mqTabs.eq(1),[this.padding]))},Spacing.prototype.resetCustomSr=function(t){if(6==t){this.srCustomSection.removeClass("hide");for(var e=this.srCustomSection.find("input"),o=0;o<e.length;o++)e.eq(o).val(this.customSpaceRatio[o][this.breakpointSpacing]||"")}else this.srCustomSection.addClass("hide")},Spacing.prototype.eventListeners=function(){var r=this;this.mqTabs.on("select-mq",function(t,e,o){var i=Vt(o);r["breakpoint"+i]=Number(e),r.resetUi(!1)}),this.mqTabs.on("reset-mq",function(t,e){var o=Vt(e);r["breakpoint"+o]=0,r.resetArrayValues(o),r.resetUi(!1),r.updateSpacingDemo(!0)}),it(this.suSelect,function(t){r.spaceUnitUpdated($(t.currentTarget).val(),$(t.currentTarget),t.type)}),this.srSelect.on("change",function(t){var e=Number($(t.currentTarget).val());0==r.breakpointSpacing&&0==e&&(e=1,$(t.currentTarget).val(1),$(t.currentTarget).attr("aria-invalid","true"),setTimeout(function(){$(t.currentTarget).removeAttr("aria-invalid")},1e3)),r.spaceRatio[r.breakpointSpacing]=e,0==r.spaceRatio[r.breakpointSpacing]&&(r.spaceRatio[r.breakpointSpacing]=!1),Jt(r.breakpointSpacing,r.mqTabs.eq(0),!r.spacingScaleIsUpdated()),r.resetCustomSr(r.spaceRatio[r.breakpointSpacing]),r.updateSpacingDemo(!0)}),rt(this.srCustomSection,function(t){var e=$(t.currentTarget).parents(".js-app-editor-property").index();if(r.customSpaceRatio[e][r.breakpointSpacing]=G($(t.currentTarget).val())[0],0==r.breakpointSpacing&&""==r.customSpaceRatio[e][r.breakpointSpacing]&&"focusout"==t.type){var o=P[e];r.customSpaceRatio[e][r.breakpointSpacing]=o,$(t.currentTarget).val(o)}r.updateSpacingDemo(!0)}),this.paddingSelect.on("change",function(t){r.padding[r.breakpointPadding]=Number($(t.currentTarget).val()),0==r.padding[r.breakpointPadding]&&(r.padding[r.breakpointPadding]=!1),0!=r.breakpointPadding||r.padding[r.breakpointPadding]||(r.padding[r.breakpointPadding]=5,$(t.currentTarget).val(5),$(t.currentTarget).attr("aria-invalid","true"),setTimeout(function(){$(t.currentTarget).removeAttr("aria-invalid")},1e3)),Jt(r.breakpointPadding,r.mqTabs.eq(1),!r.paddingIsUpdated()),r.updateSpacingDemo(!0)})},Spacing.prototype.spacingScaleIsUpdated=function(){return 0!=this.srSelect.val()||""!=this.suSelect.val()},Spacing.prototype.paddingIsUpdated=function(){return 0!=this.paddingSelect.val()},Spacing.prototype.spaceUnitUpdated=function(t,e,o){var i=!0;this.spaceUnit[this.breakpointSpacing]==t&&(i=!1),"focusout"==o&&""==t&&0==this.breakpointSpacing&&(t="1em",e.val(t)),""==t?this.spaceUnit[this.breakpointSpacing]=!1:(this.spaceUnit[this.breakpointSpacing]=function(t){if(""==t)return t;var e=G(t);return e[1]=e[1].replace(".",""),"px"==e[1]||"em"==e[1]||"rem"==e[1]||"ex"==e[1]?t:e[0]+"em"}(t),t!=this.spaceUnit[this.breakpointSpacing]&&e.val(this.spaceUnit[this.breakpointSpacing])),Jt(this.breakpointSpacing,this.mqTabs.eq(0),!this.spacingScaleIsUpdated()),i&&this.updateSpacingDemo(i)},Spacing.prototype.updateSpacingDemo=function(t){this.iframe.updateIframeSpacing(this.spaceUnit,this.spaceRatio,this.padding,this.customSpaceRatio),"1"==IS_LOGGED&&t&&ae.yes()},Spacing.prototype.resetArrayValues=function(t){if("Padding"==t)this.padding=Rt(this.padding),Mt(this.mqTabs.eq(1));else{this.spaceUnit=Rt(this.spaceUnit),this.spaceRatio=Rt(this.spaceRatio);for(var e=0;e<P.length;e++)this.customSpaceRatio[e]=Rt(this.customSpaceRatio[e]);Mt(this.mqTabs.eq(0))}},Spacing.prototype.updateCopyCode=function(t){var e=this.getSpaceUnitBasic(0),o=this.getSpacingVariables(0),i=this.getSpacingVariablesRes(),r=!1;return""!=e&&(e=":root {\n"+e+"}",r=!0),""!=o&&(o=":root, * {\n"+o+"}",r&&(o="\n\n"+o),r=!0),""!=i&&(i="\n\n@supports(--css: variables) {\n"+i+"}"),e+o+i},Spacing.prototype.getSpaceUnitBasic=function(t){var e=0==t?"  ":"      ",o="";return this.spaceUnit[t]&&""!=this.spaceUnit[t]&&(o=o+e+"--space-unit: "+this.spaceUnit[t]+";\n"),o},Spacing.prototype.getSpacingVariables=function(t){var e=0==t?"  ":"      ",o="";return this.spaceRatio[t]&&0!=this.spaceRatio[t]&&(o+=this.getSpacingScale(t)),this.padding[t]&&0!=this.padding[t]&&(o=o+e+"--component-padding: var("+F[this.padding[t]]+");\n"),o},Spacing.prototype.getSpacingVariablesRes=function(){for(var t=["xs","sm","md","lg","xl"],e="",o=0;o<t.length;o++){var i=this.getSpaceUnitBasic(o+1),r=this.getSpacingVariables(o+1);i&&""!=i&&(i="    :root {\n"+i+"    }\n"),r&&""!=r&&(r="    :root, * {\n"+r+"    }\n",i&&""!=i&&(r="\n"+r));var s=i+r;""!=s&&(s="  @include breakpoint("+t[o]+") {\n"+s+"  }\n"),""!=e&&""!=s&&(e+="\n"),e+=s}return e},Spacing.prototype.getSpacingScale=function(t){var e=V[this.spaceRatio[t]],o="",i=0==t?"  ":"      ";if(""==e){e=[];for(var r=0;r<this.customSpaceRatio.length;r++)this.customSpaceRatio[r][t]?e.push(this.customSpaceRatio[r][t]):e.push(this.customSpaceRatio[r][0])}for(r=0;r<e.length;r++)e[r]&&""!=e[r]&&(o=o+i+F[r+1]+": calc("+e[r]+" * var(--space-unit));\n");return o},Spacing.prototype.getArrayToSave=function(){var t=[];return t.spaceUnit=B(this.spaceUnit),t.spaceRatio=this.spaceRatio,t.padding=this.padding,t.customSpaceRatio=B(this.customSpaceRatio),t};var O,F=["not specified","--space-xxxxs","--space-xxxs","--space-xxs","--space-xs","--space-sm","--space-md","--space-lg","--space-xl","--space-xxl","--space-xxxl","--space-xxxxl"],P=[.125,.25,.375,.5,.75,1.25,2,3.25,5.25,8.5,13.75],N=[.1875,.375,.5625,.75,1.125,2,3.125,5.125,8.25,13.25,21.5],V=[!1,P,[.237,.316,.422,.563,.75,1,1.333,1.777,2.369,3.157,4.21],[.177,.25,.354,.5,.707,1,1.414,1.999,2.827,3.998,5.65],[.133,.2,.296,.444,.667,1,1.5,2.25,3.375,5.063,7.59],[.09,.146,.236,.382,.618,1,1.618,2.618,4.236,6.854,11.08],""],R=document.getElementsByClassName("js-app-sidebar-editor--spacing"),A=[];if(0<R.length)for(n=0;n<R.length;n++)O=n,A.push(new Spacing(R[O]));this.Buttons=function(t,e){this.element=t,this.globalType=$(this.element).attr("data-global"),this.statusSection=$(this.element).find(".js-app-editor-section--states"),this.appearanceSection=$(this.element).find(".js-app-editor-section--appearance"),this.paddingSection=$(this.element).find(".js-app-editor-section--padding"),this.borderSection=$(this.element).find(".js-app-editor-section--border"),this.outlineSection=$(this.element).find(".js-app-editor-section--outline"),this.typographySection=$(this.element).find(".js-app-editor-section--typography"),this.fontSelection=this.typographySection.find(".js-font-family-select").find("select"),this.shadowSection=$(this.element).find(".js-app-editor-section--shadow"),this.transitionSection=$(this.element).find(".js-app-editor-section--transition"),this.transformSection=$(this.element).find(".js-app-editor-section--transform"),this.placeholderSection=$(this.element).find(".js-app-editor-section--placeholder"),this.marginSection=$(this.element).find(".js-app-editor-section--margin"),this.buttonsSectionsList="buttons"==this.globalType?["appearance","padding","border","typography","textShadow","shadow","outline","transition","transform"]:["appearance","padding","border","typography","textShadow","shadow","outline","transition","transform","placeholder","margin"],this.statusList=["none",":active",":hover",":focus"],this.statusPriorityList=["none",":hover",":focus",":active"],this.statusTag=this.statusSection.find(".js-editor-tag"),this.statusTagWrapper=this.statusSection.find(".js-editor-tag-wrapper"),this.customBtns=[],this.fontFamilies=[],this.fontIds=[],this.fontCode="",this.selectedStatus=0,this.selectedButton="buttons"==this.globalType?"btn":"form-control",this.globalBase="buttons"==this.globalType?"btn":"form-control",this.paddingLocked=!1,this.marginLocked=!1,this.typing=!1,this.btnStyle=new Array,this.colorPreviewInteracted=!1,this.copyFromOrigin=$(".js-app-editor-section__copy-origin"),this.twHide=$(this.element).find(".js-tw-hide"),this.radiusPreset=$("#btnRadius-dropdown").find("ul").eq(0),this.fontPreset=$("#fontSize-dropdown").find("ul").eq(0),this.shadowPreset=$(".js-shadow-tw-hide").siblings(".js-select__dropdown").find("ul").eq(0),this.transitionPreset=$(".js-transition-tw-hide").siblings(".js-select__dropdown").find("ul").eq(0),this.iframe=window.frames[0],this.buttonsLoaded=!1,e||(this.initFrame(),this.loadPreset(),this.openToggleSections,this.resetUi("all",!0),this.eventListeners())},Buttons.prototype.initFrame=function(){var t=this;onIframeLoad(t.iframe,function(){t.frameIsLoaded()})},Buttons.prototype.frameIsLoaded=function(){var t,e=this;e.buttonsLoaded?(x(this.iframe),le(),j(this.iframe),T(this.iframe),t=this.iframe,PROJECT&&PROJECT.buttons&&""!==PROJECT.buttons?t.loadButtonsForForms(JSON.parse(se(PROJECT.buttons)),!0):t.loadButtonsForForms(!1,!0),e.updateButtonsDemo(!1)):setTimeout(function(){e.frameIsLoaded()},100),m&&m.defineBgVariables&&m.defineBgVariables(),this.resetFrameworkStyle()},Buttons.prototype.loadPreset=function(){"buttons"==this.globalType?this.initBtnStyleArray():this.initFormsStyleArray(),this.initListFonts(),"buttons"==this.globalType?this.initButtons():this.initForms(),this.buttonsLoaded=!0},Buttons.prototype.initBtnStyleArray=function(){for(var t=["btn","btn--primary","btn--subtle","btn--accent","btn--disabled","btn--sm","btn--md","btn--lg"],e=0;e<t.length;e++){this.btnStyle[t[e]]=new Array;for(var o=0;o<this.statusList.length;o++){this.btnStyle[t[e]][this.statusList[o]]=new Array;for(var i=0;i<this.buttonsSectionsList.length;i++)this.btnStyle[t[e]][this.statusList[o]][this.buttonsSectionsList[i]]=new Array}}},Buttons.prototype.initCustomBtnStyleArray=function(t){this.btnStyle[t]=new Array;for(var e=0;e<this.statusList.length;e++){this.btnStyle[t][this.statusList[e]]=new Array;for(var o=0;o<this.buttonsSectionsList.length;o++)this.btnStyle[t][this.statusList[e]][this.buttonsSectionsList[o]]=new Array}},Buttons.prototype.initFormsStyleArray=function(){for(var t=["form-control","[disabled]","[aria-invalid]","legend","form-label"],e=0;e<t.length;e++){this.btnStyle[t[e]]=new Array;for(var o=0;o<this.statusList.length;o++){this.btnStyle[t[e]][this.statusList[o]]=new Array;for(var i=0;i<this.buttonsSectionsList.length;i++)this.btnStyle[t[e]][this.statusList[o]][this.buttonsSectionsList[i]]=new Array}}},Buttons.prototype.initListFonts=function(){if(PROJECT&&PROJECT.typography){var t=JSON.parse(se(PROJECT.typography));this.fontCode=t.fontCode,this.fontFamilies=Object.values(t.fontFamilyLabels),this.fontIds=Object.values(t.fontFamilyIds),this.fontFamilies.unshift("not specified"),this.fontIds.unshift(0)}else this.fontFamilies=["not specified","--font-primary"],this.fontIds=[0,1];for(var e="",o=0;o<this.fontFamilies.length;o++)e=e+'<option value="'+this.fontIds[o]+'">'+this.fontFamilies[o]+"</option>";this.fontSelection.html(e),this.fontSelection[0].dispatchEvent(new Event("select-options-updated"))},Buttons.prototype.initButtons=function(){PROJECT&&PROJECT.buttons?this.initButtonsFromProject(JSON.parse(se(PROJECT.buttons))):this.initDefaultButtons()},Buttons.prototype.initDefaultButtons=function(){this.btnStyle.btn.none.appearance=["--color-bg-dark","--color-contrast-higher","",!1,2,!1,!1,2],this.btnStyle.btn.none.padding=[4,6,6,4,"1rem","1rem"],this.btnStyle.btn.none.typography=[!1,9,"1em",!1,!1,1,"1.2",!1,1],this.btnStyle.btn.none.transition=[[0,.2,0,!1]],this.btnStyle.btn[":focus"].shadow=[[0,"--color-bg","0px 0px 0px 2px",0],[0,"--color-contrast-higher-a15","0px 0px 0px 4px",0]],this.btnStyle.btn[":focus"].outline=[!1,8,!1,!1],this.btnStyle.btn[":active"].transform=[[3,"2px"]],this.btnStyle["btn--primary"].none.appearance=["--color-primary","--color-white",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--primary"].none.shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-primary-darker-a25","0px 1px 3px",0],[0,"--color-primary-darker-a10","0px 2px 6px",0],[0,"--color-primary-darker-a25","0px 6px 10px -2px",0]],this.btnStyle["btn--primary"][":hover"].appearance=["--color-primary-light",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--primary"][":hover"].shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-primary-darker-a25","0px 1px 2px",0],[0,"--color-primary-darker-a10","0px 1px 4px",0],[0,"--color-primary-darker-a25","0px 3px 6px -2px",0]],this.btnStyle["btn--primary"][":focus"].shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-primary-darker-a25","0px 1px 2px",0],[0,"--color-primary-darker-a10","0px 1px 4px",0],[0,"--color-primary-darker-a25","0px 3px 6px -2px",0],[0,"--color-bg","0px 0px 0px 2px",0],[0,"--color-primary","0px 0px 0px 4px",0]],this.btnStyle["btn--subtle"].none.appearance=["--color-bg-lighter","--color-contrast-higher",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--subtle"].none.shadow=[[0,"--color-white-a10","0px 1px 0px",1],[0,"--color-black-a02","0px 0px 0px 1px",0],[0,"--color-black-a20","0px 1px 3px -1px",0],[0,"--color-black-a20","0px 1px 3px",3]],this.btnStyle["btn--subtle"][":hover"].appearance=["--color-bg-light",!1,!1,!1,!1,!1,!1,!1],this.btnStyle["btn--subtle"][":hover"].shadow=[[0,"--color-white-a10","0px 1px 0px",1],[0,"--color-black-a02","0px 0px 0px 1px",0],[0,"--color-black-a20","0px 1px 3px -1px",0],[0,"--color-black-a20","0px 1px 3px",2]],this.btnStyle["btn--subtle"][":focus"].shadow=[[0,"--color-white-a10","0px 1px 0px",1],[0,"--color-black-a02","0px 0px 0px 1px",0],[0,"--color-black-a20","0px 1px 3px -1px",0],[0,"--color-black-a20","0px 1px 3px",2],[0,"--color-bg","0px 0px 0px 2px",0],[0,"--color-contrast-high","0px 0px 0px 4px",0]],this.btnStyle["btn--accent"].none.appearance=["--color-accent","--color-white",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--accent"].none.shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-accent-darker-a25","0px 1px 3px",0],[0,"--color-accent-darker-a10","0px 2px 6px",0],[0,"--color-accent-darker-a25","0px 6px 10px -2px",0]],this.btnStyle["btn--accent"][":hover"].appearance=["--color-accent-light",!1,!1,!1,!1,!1,!1,!1],this.btnStyle["btn--accent"][":hover"].shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-accent-darker-a25","0px 1px 2px",0],[0,"--color-accent-darker-a10","0px 1px 4px",0],[0,"--color-accent-darker-a10","0px 3px 6px -2px",0]],this.btnStyle["btn--accent"][":focus"].shadow=[[0,"--color-white-a15","0px 1px 0px",1],[0,"--color-accent-darker-a25","0px 1px 2px",0],[0,"--color-accent-darker-a10","0px 1px 4px",0],[0,"--color-accent-darker-a10","0px 3px 6px -2px",0],[0,"--color-bg","0px 0px 0px 2px",0],[0,"--color-accent","0px 0px 0px 4px",0]],this.btnStyle["btn--disabled"].none.appearance=[!1,!1,!1,"0.6",3,!1,!1,!1],this.btnStyle["btn--sm"].none.typography=[!1,9,"0.8em",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--md"].none.typography=[!1,9,"1.2em",!1,!1,!1,!1,!1,!1],this.btnStyle["btn--lg"].none.typography=[!1,9,"1.4em",!1,!1,!1,!1,!1,!1]},Buttons.prototype.initButtonsFromProject=function(t){for(var e in t.custom)t.custom.hasOwnProperty(e)&&this.customBtns.push(Object.values(t.custom[e]));this.initButtonsArrayFromProject(t.style)},Buttons.prototype.initButtonsArrayFromProject=function(t){for(var e in t)if(t.hasOwnProperty(e))for(var o in this.btnStyle[e]=[],t[e])if(t[e].hasOwnProperty(o))for(var i in this.btnStyle[e][o]=[],t[e][o])if(t[e][o].hasOwnProperty(i))if("border"==i||"textShadow"==i||"shadow"==i||"transform"==i||"transition"==i)for(var r in this.btnStyle[e][o][i]=[],t[e][o][i])t[e][o][i].hasOwnProperty(r)&&(this.btnStyle[e][o][i][r]=Object.values(t[e][o][i][r]));else if("appearance"==i){var s=this.resetAppearanceArray(t[e][o][i]);this.btnStyle[e][o][i]=Object.values(s)}else"padding"==i?(this.btnStyle[e][o][i]=Object.values(t[e][o][i]),4==this.btnStyle[e][o][i].length&&(this.btnStyle[e][o][i][4]="1em",this.btnStyle[e][o][i][5]="1em")):this.btnStyle[e][o][i]=Object.values(t[e][o][i])},Buttons.prototype.resetAppearanceArray=function(t){var e=!0;for(var o in t){e=!1;break}if(!e)for(var i=0;i<8;i++)t[i]||(t[i]=!1);return t},Buttons.prototype.initForms=function(){PROJECT&&PROJECT.form?this.initFormsFromProject(JSON.parse(se(PROJECT.form))):this.initDefaultForms()},Buttons.prototype.initDefaultForms=function(){this.btnStyle["form-control"].none.appearance=["--color-bg-dark",!1,!1,!1,!1,!1,!1,2],this.btnStyle["form-control"].none.padding=[4,5,5,4,"1rem","1rem"],this.btnStyle["form-control"].none.placeholder=["--color-contrast-low",!1],this.btnStyle["form-control"].none.typography=[!1,9,"1em",!1,!1,!1,"1.2",!1,!1],this.btnStyle["form-control"].none.shadow=[[0,"--color-contrast-lower","0px 0px 0px 1px",1]],this.btnStyle["form-control"].none.transition=[[0,.2,0,!1]],this.btnStyle["form-control"][":focus"].appearance=["--color-bg",!1,!1,!1,!1,!1,!1,!1],this.btnStyle["form-control"][":focus"].outline=[!1,8,!1,!1],this.btnStyle["form-control"][":focus"].shadow=[[0,"--color-contrast-lower-a00","0px 0px 0px 1px",1],[0,"--color-primary","0px 0px 0px 2px",0],[0,"--color-black-a20","0px 1px 3px",3]],this.btnStyle["[disabled]"].none.appearance=[!1,!1,!1,"0.5",3,!1,!1,!1],this.btnStyle["[aria-invalid]"].none.shadow=[[0,"--color-contrast-lower-a00","0px 0px 0px 1px",1],[0,"--color-error","0px 0px 0px 2px",0]],this.btnStyle["[aria-invalid]"][":focus"].shadow=[[0,"--color-contrast-lower-a00","0px 0px 0px 1px",1],[0,"--color-error","0px 0px 0px 2px",0],[0,"--color-error","0px 1px 3px",3]],this.btnStyle.legend.none.appearance=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.btnStyle.legend.none.typography=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.btnStyle["form-label"].none.typography=[!1,!1,!1,!1,!1,!1,!1,!1,!1]},Buttons.prototype.initFormsFromProject=function(t){this.initButtonsArrayFromProject(t.style)},Buttons.prototype.resetUi=function(t,e){"all"==t&&(this.openToggleSections=!0),("all"==t||"appearance"==t)&&this.resetAppearanceSection(e),("all"==t||"padding"==t)&&this.resetPaddingSection(e),("all"==t||"border"==t)&&this.resetBorderSection(e),("all"==t||"typography"==t)&&this.resetTypographySection(e),("all"==t||"shadow"==t)&&this.resetShadowSection("shadow",1,e),("all"==t||"textShadow"==t)&&this.resetShadowSection("textShadow",0,e),("all"==t||"outline"==t)&&this.resetOutlineSection(e),("all"==t||"transition"==t)&&this.resetTransitionSection(e),("all"==t||"transform"==t)&&this.resetTransformSection(e),("all"==t||"placeholder"==t)&&this.resetPlaceholderSection(e),("all"==t||"margin"==t)&&this.resetMarginSection(e),this.openToggleSections=!1},Buttons.prototype.resetStatusTag=function(){0==this.selectedStatus?this.statusTagWrapper.addClass("hide"):this.statusTagWrapper.removeClass("hide"),this.statusTag.text(this.statusList[this.selectedStatus])},Buttons.prototype.resetAppearanceSection=function(t){if(0!=this.appearanceSection.length){this.checkOpacityFieldSet("appearance",5,0),this.checkOpacityFieldSet("appearance",6,1);var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance,o=this.appearanceSection.find("select"),i=this.appearanceSection.find("input");(!e||e.length<1)&&(e=!1),o.eq(1).val(e[4]||0),o.eq(0).val(e[7]||0),i.eq(4).val(e[2]||"").end().eq(5).val(e[3]||""),e[5]||0===e[5]?i.eq(0).val(e[5]+"%"):i.eq(0).val("100%"),e[6]||0===e[6]?i.eq(2).val(e[6]+"%"):i.eq(2).val("100%"),this.setPreviewLabelColor(this.appearanceSection.find(".js-app-editor-color-preview").eq(0),e[0]),this.setPreviewLabelColor(this.appearanceSection.find(".js-app-editor-color-preview").eq(1),e[1]),this.checkSectionToReset("appearance");var r=this.appearanceSection.find(".js-app-editor-property--custom-value");e[7]&&0!=e[7]?r.removeClass("app-editor-property--custom-value--is-visible"):r.addClass("app-editor-property--custom-value--is-visible"),t&&tt(o)}},Buttons.prototype.setPreviewLabelColor=function(t,e){if(e&&-1<e.indexOf("--gradient-"))this.setPreviewLabelGradient(t,e);else{var o=m.colorValues[e]||this.getNotListedColorValue(e),i=(e=m.colorValues[e]?e:this.getNotListedColorLabel(e),this.getTitleColorLabel(H(e)));t.attr("style","background-color: "+o+";").attr("data-color-lb",e).attr("title",i),et(t);var r=t.parent().next().children(".js-opacity-field");r&&r.trigger("reset-slider")}},Buttons.prototype.setPreviewLabelGradient=function(t,e){var o=-1<e.indexOf("-right")?0:1,i=e.replace("-right","").replace("-bottom","").replace("--gradient-",""),r=0==o?"--gradient-"+i+" (right)":"--gradient-"+i+" (bottom)";t.attr("style",c(i,m.colorValues,o)).attr("data-color-lb",e).attr("title",r),et(t);var s=t.parent().next().children(".js-opacity-field");s&&s.trigger("reset-slider")},Buttons.prototype.getNotListedColorValue=function(t){return t&&""!=t&&4!=t.length?m.colorValues[t.slice(0,-4)].replace("1)",Number(t.slice(-2)/100).toFixed(2)+")"):""},Buttons.prototype.getNotListedColorLabel=function(t){return t&&0==t.indexOf("inherit")?"inherit":t&&0==t.indexOf("transparent")?"transparent":t&&""!=t&&4!=t.length?t:""},Buttons.prototype.getTitleColorLabel=function(t){return-1<t.indexOf("color-custom-")&&(t=m.customColorLabels[m.mainColorLabels.indexOf(t.replace("--color-",""))-5]),t},Buttons.prototype.resetPaddingSection=function(t){if(0!=this.paddingSection.length){for(var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].padding,o=[0,0,0,0,"",""],i=this.paddingSection.find("select"),r=this.paddingSection.find("input"),s=0;s<6;s++)e&&e[s]&&(o[s]=e[s]),i.length>s&&i.eq(s).val(o[s]),3<s&&r.eq(s-4).val(o[s]);this.checkSectionToReset("padding");var n=this.paddingSection.find(".js-app-editor-property--custom-value");n.eq(0).toggleClass("app-editor-property--custom-value--is-visible",13==o[0]),n.eq(1).toggleClass("app-editor-property--custom-value--is-visible",13==o[1]),t&&tt(i)}},Buttons.prototype.resetMarginSection=function(t){this.resetPadMarg("margin",t)},Buttons.prototype.resetPadMarg=function(t,e){if(0!=this[t+"Section"].length){for(var o=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t],i=[0,0,0,0],r=this[t+"Section"].find("select"),s=0;s<4;s++)o&&o[s]&&(i[s]=o[s]);3<r.length&&(r.eq(0).val(i[0]),r.eq(1).val(i[2]),r.eq(2).val(i[3]),r.eq(3).val(i[1])),this.checkSectionToReset(t),e&&tt(r)}},Buttons.prototype.resetBorderSection=function(t){if(0!=this.borderSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border;this.resetList(this.borderSection,e);var o=this.borderSection.find(".js-app-editor-section__grid"),i=0;if(e&&0<e.length)for(var r=0;r<e.length;r++){var s=o.eq(i).find("select");s.eq(1).val(e[r][1]),s.eq(0).val(e[r][3]),o.eq(i).find("input").val(e[r][2]),this.setPreviewLabelColor(o.eq(i).find(".js-app-editor-color-preview"),e[r][0]),i+=1,t&&tt(s),o.eq(r).toggleClass("app-editor-section__grid--property-off",0==e[r][3])}else o.eq(0).find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),ot(o.eq(0).find(".js-app-editor-color-preview"));this.checkSectionToReset("border")}},Buttons.prototype.resetOutlineSection=function(t){if(0!=this.outlineSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline;(!e||e.length<1)&&(e=!1);var o,i=this.outlineSection.find("input"),r=[];r[0]=e[2]?e[2]:"",r[1]=e[3]?e[3]:"",o=e[0]?e[0]:e?"":"--color-primary",this.outlineSection.find("select").val(e[1]||0),i.eq(0).val(r[0]).end().eq(1).val(r[1]),this.setPreviewLabelColor(this.outlineSection.find(".js-app-editor-color-preview"),o),this.checkSectionToReset("outline"),this.outlineSection.find(".js-app-editor-section__grid").toggleClass("app-editor-section__grid--property-off",8==e[1]),t&&tt(this.outlineSection.find("select"))}},Buttons.prototype.resetTypographySection=function(t){if(0!=this.typographySection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].typography;this.setTypographyValues(e,t),this.checkSectionToReset("typography")}},Buttons.prototype.resetPlaceholderSection=function(t){if(0!=this.placeholderSection.length){this.checkOpacityFieldSet("placeholder",1,0);var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder;(!e||e.length<1)&&(e=!1),e[1]||0===e[1]?this.placeholderSection.find("input").val(e[1]+"%"):this.placeholderSection.find("input").val("100%"),this.setPreviewLabelColor(this.placeholderSection.find(".js-app-editor-color-preview"),e[0]),this.checkSectionToReset("placeholder")}},Buttons.prototype.resetShadowSection=function(t,e,o){if(0!=this.shadowSection.length){var i=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t];this.resetList(this.shadowSection.eq(e),i);var r=this.shadowSection.eq(e).find(".js-app-editor-section__grid");if(i&&0<i.length)for(var s=0;s<i.length;s++){for(var n=i[s][2].replace(/px/g,"").split(" "),a=r.eq(s).find("input"),l=r.eq(s).find("select"),c=0;c<a.length;c++)n[c]?a.eq(c).val(n[c]):a.eq(c).val("");this.setPreviewLabelColor(r.eq(s).find(".js-app-editor-color-preview"),i[s][1]),l.eq(0).val(i[s][0]),"textShadow"!=t&&l.eq(1).val(i[s][3]),r.eq(s).toggleClass("app-editor-section__grid--property-off",1==i[s][0]),o&&tt(l),$t(l.eq(1))}else r.eq(0).find("input").val("").end().end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb").end().find("select").val(0),ot(r.eq(0).find(".js-app-editor-color-preview"));this.checkSectionToReset(t,e)}},Buttons.prototype.resetTransitionSection=function(t){if(0!=this.transitionSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].transition;this.resetList(this.transitionSection,e);var o=this.transitionSection.find(".js-app-editor-section__grid");if(e&&0<e.length)for(var i=0;i<e.length;i++){var r=o.eq(i).find("select"),s=o.eq(i).find("input");r.eq(0).val(e[i][0]||0).end().eq(1).val(e[i][2]||0),s.eq(0).val(e[i][1]||"").end().eq(1).val(e[i][3]||""),o.eq(i).toggleClass("app-editor-section__grid--property-off",1==e[i][0]),t&&tt(r)}else o.eq(0).find("select").val(0).end().find("input").val("");this.checkSectionToReset("transition")}},Buttons.prototype.resetTransformSection=function(t){if(0!=this.transformSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].transform;this.resetList(this.transformSection,e);var o=this.transformSection.find(".js-app-editor-section__grid");if(e&&0<e.length)for(var i=0;i<e.length;i++){var r=o.eq(i).find("select");r.val(e[i][0]||0),o.eq(i).find("input").val(e[i][1]||""),t&&tt(r),o.eq(i).toggleClass("app-editor-section__grid--property-off",0===e[i][0])}else o.eq(0).find("select").val(0).end().find("input").val("");this.checkSectionToReset("transform")}},Buttons.prototype.checkOpacityFieldSet=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][o]&&null==this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][e]&&(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][e]=U(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][o]))},Buttons.prototype.resetList=function(t,e){var o=0,i=t.find(".js-app-editor-section__grid");if(e&&(o=e.length),o<2||i.length>o){var r=o<2?0:o-1;i.eq(r).nextAll(".js-app-editor-section__grid").remove()}else if(o>i.length){var s=i.eq(0).clone().removeClass("app-editor-section__grid--is-hidden");s.find(".js-select__button").remove(),s.find(".js-select__dropdown").remove(),s.find("select").siblings("svg").attr("style","");for(var n=s[0].outerHTML,a="",l=i.length;l<o;l++)a+=n;i.last().after(a),I(i.last().nextAll().find(".js-select"))}0==o?(i.eq(0).addClass("app-editor-section__grid--is-hidden"),t.find(".app-editor-section__hint").removeClass("app-editor-section__hint--is-hidden")):(i.eq(0).removeClass("app-editor-section__grid--is-hidden"),t.find(".app-editor-section__hint").addClass("app-editor-section__hint--is-hidden")),t.find(".js-app-editor-section__grid").addClass("app-editor-section__grid--unlabeled").last().removeClass("app-editor-section__grid--unlabeled")},Buttons.prototype.checkSectionToReset=function(t,e){var o=this[t+"Section"];"shadow"==t&&(o=this.shadowSection.eq(1)),"textShadow"==t&&(o=this.shadowSection.eq(0));var i,r,s=(i=this.globalType,r=this.selectedButton,0==this.selectedStatus&&("buttons"==i&&"btn"==r||"forms"==i&&("form-control"==r||"legend"==r||"form-label"==r)));s&&o.removeClass("app-editor-section--content-edited"),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t]&&0<this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t].length?(this.openToggleSections&&o.children(".js-app-editor-section__title").removeClass("app-editor-section__title--hide-body"),s||o.addClass("app-editor-section--content-edited")):(this.openToggleSections&&o.children(".js-app-editor-section__title").addClass("app-editor-section__title--hide-body"),s||o.removeClass("app-editor-section--content-edited"))},Buttons.prototype.setTypographyValues=function(t,e){t||(t=!1);var o=this.typographySection.find("select"),i=this.typographySection.find("input"),r=this.typographySection.find(".js-app-editor-property--custom-value");o.eq(0).val(t[0]||0).end().eq(1).val(t[1]||0).end().eq(2).val(t[4]||0).end().eq(3).val(t[5]||0).end().eq(4).val(t[8]||0),i.eq(0).val(t[2]||"").end().eq(1).val(t[3]||"").end().eq(2).val(t[6]||"").end().eq(3).val(t[7]||""),t[1]&&9==t[1]?r.addClass("app-editor-property--custom-value--is-visible"):r.removeClass("app-editor-property--custom-value--is-visible"),e&&tt(o)},Buttons.prototype.eventListeners=function(){var n=this;this.statusSection.on("change","select",function(t){n.selectedStatus=$(t.target).val(),n.resetUi("all",!0),n.resetStatusTag(),n.toggleCopyFromOrigin()}),$(this.element).on("content-selected",function(t,e,o,i){"forms"==e&&n.resetSectionVisibility(o),i&&(o=n.customBtns[i-3][1]),n.selectNewButton(e,o),n.toggleCopyFromOrigin()}),$(this.element).on("reset-status",function(t,e){var o=Gt(e,"js-app-editor-section--").replace("js-app-editor-section--","");"shadow"==o&&(o=e.attr("data-shadow")),n.btnStyle[n.selectedButton][n.statusList[n.selectedStatus]][o]=[],n.resetUi(o),n.updateButtonsDemo(!0),n.toggleCopyFromOrigin(!1)}),rt($(this.element),function(t){var e=Gt($(t.target).parents(".js-app-editor-section").eq(0),"js-app-editor-section--").replace("js-app-editor-section--","");if("shadow"==e&&(e=$(t.target).parents(".js-app-editor-section").attr("data-shadow")),"focusout"==t.type)if("border"==e||"outline"==e||"typography"==e&&$(t.target).is("#letterSpacing")||"appearance"==e&&$(t.target).is("#btnRadius"))n.resetUnitValue($(t.target),"px");else if("typography"==e&&$(t.target).hasClass("js-app-editor-property__custom-size"))n.resetUnitValue($(t.target),"em");else if("transform"==e){var o=Number($(t.target).parent().prev().find("select").val());0<o&&o<5?n.resetUnitValue($(t.target),"px"):8<o&&n.resetUnitValue($(t.target),"deg")}else if("shadow"==e||"textShadow"==e)$(t.target).parent().hasClass("js-app-editor__input-group--spread")||""!=$(t.target).val().trim()||$(t.target).val("0");else if($(t.target).is(".js-opacity-field")){var i=y(r=$(t.target).val());r!=i&&$(t.target).val(i)}else if("appearance"==e&&$(t.target).is("#opacity")){var r;-1<(r=$(t.target).val()).indexOf("%")&&$(t.target).val((Number(r.replace("%",""))/100).toFixed(2))}if($(t.target).is(".js-opacity-field")){n.colorPreviewInteracted=$(t.target).parent().prev("li").find(".js-app-editor-color-preview");var s=n.getNewLabelColOpac($(t.target).val());$(n.element).trigger("new-color-selection",[s,!0])}else n.resetBtnStyle($(t.target),e,n.typing);n.typing=!1}),$(this.element).on("keydown","input",function(){n.typing=!0}),$(this.element).on("change","select",function(t){var e=Gt($(t.target).parents(".js-app-editor-section").eq(0),"js-app-editor-section--").replace("js-app-editor-section--","");if("shadow"==e&&(e=$(t.target).parents(".js-app-editor-section").attr("data-shadow")),"transform"==e){var o=q($(t.target)),i=$(t.target).parents(".app-editor__input-group").next().find("input");0<o&&o<5?n.resetUnitValue(i,"px"):8<o&&n.resetUnitValue(i,"deg")}n.resetBtnStyle($(t.target),e,!0),n.typing=!1}),$(this.element).on("click",".js-app-editor-btn-link",function(t){var e=0<$(t.currentTarget).parents(".js-app-editor-section--padding").length?"padding":"margin";n[e+"Locked"]=!n[e+"Locked"],$(t.currentTarget).toggleClass("is-selected")}),$(this.element).on("click",".js-btn-create",function(t){var e=$(t.target).parents(".js-app-editor-section").eq(0),o=Gt(e,"js-app-editor-section--").replace("js-app-editor-section--","");e.children().eq(0).removeClass("app-editor-section__title--hide-body"),n.addNewItem(e),"shadow"==o&&(o=e.attr("data-shadow")),n.resetBtnStyle("",o,!1)}),$(this.element).on("click",".js-btn-delete",function(t){var e=$(t.target).parents(".js-app-editor-section").eq(0),o=Gt(e,"js-app-editor-section--").replace("js-app-editor-section--","");n.removeItem(e,$(t.currentTarget)),"shadow"==o&&(o=e.attr("data-shadow")),n.resetBtnStyle("",o,!0)}),$(this.element).on("custom-content-added",function(t,e,o,i){if("buttons"==e){var r=0==n.customBtns.length?"btn--custom-0":"btn--custom-"+(Number(n.customBtns[n.customBtns.length-1][1].replace("btn--custom-",""))+1);n.customBtns.push([o,r]),n.initCustomBtnStyleArray(r),n.selectNewButton(e,r),n.updateButtonsDemoNewBtn(o,r),n.toggleCopyFromOrigin()}}),$(this.element).on("custom-content-edited",function(t,e,o,i,r){if("buttons"==e){var s=o-3;n.customBtns[s][0]=i,n.updateButtonsDemoEditBtn(o,i)}}),$(this.element).on("custom-content-removed",function(t,e,o,i){if("buttons"==e){var r=o-3,s=n.customBtns[r][1];n.btnStyle[s]=[],n.customBtns.splice(r,1),n.updateButtonsDemoRemoveBtn(o,s)}}),$(this.element).on("click",".js-app-editor-color-preview",function(t){n.colorPreviewInteracted=$(t.target)}),$(this.element).on("new-color-selection",function(t,e,o){e=W(e),n.colorPreviewInteracted&&(0<n.colorPreviewInteracted.parents(".js-app-editor-section--border").length?n.borderNewColorSelection(e,n.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<n.colorPreviewInteracted.parents(".js-app-editor-section--outline").length?n.outlineNewColorSelection(e,o):0<n.colorPreviewInteracted.parents('.js-app-editor-section--shadow[data-shadow="textShadow"]').length?n.shadowNewColorSelection(e,"textShadow",n.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<n.colorPreviewInteracted.parents('.js-app-editor-section--shadow[data-shadow="shadow"]').length?n.shadowNewColorSelection(e,"shadow",n.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<n.colorPreviewInteracted.parents(".js-app-editor-section--appearance").length?n.appearanceNewColorSelection(e,o,n.colorPreviewInteracted.attr("data-property")):0<n.colorPreviewInteracted.parents(".js-app-editor-section--placeholder").length&&n.placeholderNewColorSelection(e,o),n.updateButtonsDemo(!0))}),this.copyFromOrigin.on("click",function(){n.copyShadowFromOrigin()}),this.element.addEventListener("framework-selection",function(t){n.twHide.toggleClass("is-hidden","tailwind"==t.detail),n.resetFrameworkStyle()})},Buttons.prototype.getNewLabelColOpac=function(t){var e=this.colorPreviewInteracted.attr("data-color-lb");return 0==e.slice(-4).indexOf("-a")&&(e=e.slice(0,-4)),e+l(t)},Buttons.prototype.resetSectionVisibility=function(t){this.placeholderSection.toggleClass("app-editor-section--is-hidden",!("form-control"==t)),this.marginSection.toggleClass("app-editor-section--is-hidden",!("legend"==t||"form-label"==t))},Buttons.prototype.resetUnitValue=function(t,e){var o=G(t.val());o[0]&&""==o[1]&&t.val(t.val()+e)},Buttons.prototype.removeItem=function(t,e){var o=t.find(".js-app-editor-section__grid");if(1==o.length)return o.addClass("app-editor-section__grid--is-hidden"),o.find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),void ot(o.find(".js-app-editor-color-preview"));e.parents(".js-app-editor-section__grid").remove()},Buttons.prototype.addNewItem=function(t){var e=t.find(".js-app-editor-section__grid").eq(0);if(e.hasClass("app-editor-section__grid--is-hidden"))return e.removeClass("app-editor-section__grid--is-hidden app-editor-section__grid--unlabeled"),void this.resetInitialValues(t);var o=e.clone();o.find(".js-select__button").remove(),o.find(".js-select__dropdown").remove(),o.find("svg").attr("style",""),o.find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),ot(o.find(".js-app-editor-color-preview"));var i=t.find(".js-app-editor-section__grid");i.last().after(o[0].outerHTML),this.resetInitialValues(t),i.addClass("app-editor-section__grid--unlabeled").last().removeClass("app-editor-section__grid--unlabeled"),I(t.find(".js-app-editor-section__grid").last().find(".js-select"))},Buttons.prototype.resetInitialValues=function(t){if(t.hasClass("js-app-editor-section--transition")&&t.find(".js-app-editor-section__grid").last().find("input").eq(0).val("0.3"),t.attr("data-shadow")){var e="shadow"==t.attr("data-shadow")?["0","1","3","--color-black-a20"]:["0","1","2","--color-black-a25"];(i=t.find(".js-app-editor-section__grid").last()).find("input").eq(0).val(e[0]).end().eq(1).val(e[1]).end().eq(2).val(e[2]);var o=i.find(".js-app-editor-color-preview");o.attr("data-color-lb",e[3]),et(o),"shadow"==t.attr("data-shadow")&&i.find("select").eq(0).val(2)}if(t.hasClass("js-app-editor-section--border")){var i;(i=t.find(".js-app-editor-section__grid").last()).find("input").eq(0).val("1px"),i.find("select").eq(0).val(1);var r=i.find(".js-app-editor-color-preview");r.attr("data-color-lb","--color-contrast-low"),et(r)}},Buttons.prototype.copyShadowFromOrigin=function(){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].shadow=this.btnStyle[this.globalBase][this.statusList[this.selectedStatus]].shadow;var t=this.shadowSection.eq(1).find(".js-app-editor-section__grid"),e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].shadow.length;if(t.eq(0).removeClass("app-editor-section__grid--is-hidden").addClass("app-editor-section__grid--unlabeled"),e>t.length)for(var o=t.eq(0).clone(),i=t.length;i<e;i++)t.eq(0).after(o);else if(e<t.length)for(i=e;i<t.length;i++)t.eq(i).remove();this.shadowSection.find(".js-app-editor-section__grid").last().removeClass("app-editor-section__grid--unlabeled");var r=this.shadowSection.eq(1).find(".js-app-editor-section__grid"),s=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].shadow;for(i=0;i<e;i++){var n=s[i][2].replace(/px/g,"").split(" ");r.eq(i).find("input").eq(0).val(n[0]).end().eq(1).val(n[1]).end().eq(2).val(n[2]).end().eq(3).val(n[3]),r.eq(i).find(".js-app-editor-color-preview").attr("data-color-lb",s[i][1]),et(r.eq(i).find(".js-app-editor-color-preview")),r.eq(i).find("select").eq(0).val(s[i][0]).end().eq(1).val(s[i][3])}this.resetBtnStyle("","shadow",!1)},Buttons.prototype.toggleCopyFromOrigin=function(t){if(t)this.copyFromOrigin.toggleClass("is-hidden",t);else{var e=this.btnStyle[this.globalBase][this.statusList[this.selectedStatus]].shadow&&0<this.btnStyle[this.globalBase][this.statusList[this.selectedStatus]].shadow.length;this.globalBase==this.selectedButton&&(e=!1),this.copyFromOrigin.toggleClass("is-hidden",!e)}},Buttons.prototype.selectNewButton=function(t,e){"buttons"!=t&&"forms"!=t||(this.selectedButton=e,this.resetUi("all",!0))},Buttons.prototype.resetBtnStyle=function(t,e,o){if("states"!=e){var i=this.getNewBtnStyleSection(e,t),r=this.sectionChanged(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e],i[0]);i[1]?this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e]=i[0]:this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e]=[],this.checkSectionToReset(e),this.resetUi(e),(i[1]&&r||o)&&this.updateButtonsDemo(r)}},Buttons.prototype.sectionChanged=function(t,e){var o=!1;if(!t&&e||t.length!=e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!=e[i]){o=!0;break}return o},Buttons.prototype.getNewBtnStyleSection=function(t,e){var o=this[t+"Section"];"shadow"==t&&(o=this.shadowSection.eq(1)),"textShadow"==t&&(o=this.shadowSection.eq(0));var i=o.find("input"),r=o.find("select"),s=o.find(".js-app-editor-color-preview");return"appearance"==t?this.resetAppearanceBtnStyle(i,r,s):"padding"==t?this.resetPaddingBtnStyle(i,r,s,e):"border"==t?this.resetBorderBtnStyle(i,r,s):"typography"==t?this.resetTypographyBtnStyle(i,r,s):"shadow"==t?this.resetShadowBtnStyle(o,"shadow",1,i,r,s):"textShadow"==t?this.resetShadowBtnStyle(o,"textShadow",0,i,r,s):"outline"==t?this.resetOutlineBtnStyle(i,r,s):"transition"==t?this.resetTransitionBtnStyle(i,r,s):"transform"==t?this.resetTransformBtnStyle(i,r,s):"margin"==t?this.resetMarginBtnStyle(i,r,s,e):"placeholder"==t?this.resetPlaceholderBtnStyle(i,r,s):void 0},Buttons.prototype.resetAppearanceBtnStyle=function(t,e,o){var i=[o.eq(0).attr("data-color-lb"),o.eq(1).attr("data-color-lb"),t.eq(4).val(),t.eq(5).val(),Number(q(e.eq(1))),D(t.eq(0).val()),D(t.eq(2).val()),Number(q(e.eq(0)))],r=!1;return""==i[0]&&""==i[1]&&""==i[2].trim()&&0==i[4]&&""==i[3].trim()&&0==i[7]||(r=!0),[i,r]},Buttons.prototype.resetPaddingBtnStyle=function(t,e,o,i){var r=[Number(q(e.eq(0))),Number(q(e.eq(1))),Number(q(e.eq(2))),Number(q(e.eq(3))),t.eq(0).val(),t.eq(1).val()],s=!1;return 0==r[0]&&0==r[1]&&0==r[2]&&0==r[3]||(s=!0),[r,s]},Buttons.prototype.resetMarginBtnStyle=function(t,e,o,i){return this.resetPadMargBtnStyle("margin",t,e,o,i)},Buttons.prototype.resetPadMargBtnStyle=function(t,e,o,i,r){var s=[Number(q(o.eq(0))),Number(q(o.eq(3))),Number(q(o.eq(1))),Number(q(o.eq(2)))],n=!1;return this[t+"Locked"]&&(s=[Number(r.val()),Number(r.val()),Number(r.val()),Number(r.val())]),0==s[0]&&0==s[1]&&0==s[2]&&0==s[3]||(n=!0),[s,n]},Buttons.prototype.resetBorderBtnStyle=function(t,e,o){for(var i=this.borderSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++){var a=2*n;r[n]=[o.eq(n).attr("data-color-lb"),Number(q(e.eq(1+a))),t.eq(n).val(),Number(q(e.eq(a)))]}return 0<i.length&&(s=!0),[r,s]},Buttons.prototype.resetOutlineBtnStyle=function(t,e,o){var i=[o.eq(0).attr("data-color-lb"),Number(q(e.eq(0))),t.eq(0).val(),t.eq(1).val()],r=!1;return""==i[1]&&0==i[0]&&""==i[2].trim()||(r=!0),[i,r]},Buttons.prototype.resetTypographyBtnStyle=function(t,e,o){var i=[Number(e.eq(0).val()),Number(q(e.eq(1))),t.eq(0).val(),t.eq(1).val(),Number(q(e.eq(2))),Number(q(e.eq(3))),t.eq(2).val(),t.eq(3).val(),Number(q(e.eq(4)))],r=!1;0!=i[1]&&9==i[1]||(i[2]="");for(var s=0;s<i.length;s++)if(i[s]&&0!==i[s]&&""!==i[s].toString().trim()){r=!0;break}return[i,r]},Buttons.prototype.resetPlaceholderBtnStyle=function(t,e,o){var i=[o.eq(0).attr("data-color-lb"),D(t.eq(0).val())],r=!1;return""!=i[0]&&(r=!0),[i,r]},Buttons.prototype.resetShadowBtnStyle=function(t,e,o,i,r,s){for(var n=t.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),a=[],l=!1,c=0;c<n.length;c++){var d="textShadow"==e?3*c:4*c,p="textShadow"==e?c:2*c,h=J(i.eq(d).val())+" "+J(i.eq(d+1).val())+" "+J(i.eq(d+2).val());"textShadow"!=e&&(h=h+" "+J(i.eq(d+3).val())),a[c]=[Number(q(r.eq(p))),s.eq(c).attr("data-color-lb"),h],"textShadow"!=e&&(a[c][3]=Number(q(r.eq(p+1))))}return 0<n.length&&(l=!0),[a,l]},Buttons.prototype.resetTransitionBtnStyle=function(t,e,o){for(var i=this.transitionSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++){var a=2*n;r[n]=[Number(q(e.eq(a))),t.eq(a).val().replace("s",""),Number(q(e.eq(1+a))),t.eq(1+a).val().replace("s","")]}return 0<i.length&&(s=!0),[r,s]},Buttons.prototype.resetTransformBtnStyle=function(t,e,o){for(var i=this.transformSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++)r[n]=[Number(q(e.eq(n))),t.eq(n).val()];return 0<i.length&&(s=!0),[r,s]},Buttons.prototype.updateButtonsDemo=function(t){"buttons"==this.globalType?this.iframe.updateIframeButtons(this.btnStyle,this.selectedStatus,this.selectedButton,this.customBtns):this.iframe.updateIframeForms(this.btnStyle,this.selectedStatus,this.selectedButton),t&&"1"==IS_LOGGED&&ae.yes()},Buttons.prototype.updateButtonsDemoNewBtn=function(t,e){this.iframe.createIframeButtons(t,e),"1"==IS_LOGGED&&ae.yes()},Buttons.prototype.updateButtonsDemoEditBtn=function(t,e){this.iframe.editIframeButtons(t,e),"1"==IS_LOGGED&&ae.yes()},Buttons.prototype.updateButtonsDemoRemoveBtn=function(t,e){this.iframe.cancelIframeButtons(t,e),"1"==IS_LOGGED&&ae.yes()},Buttons.prototype.borderNewColorSelection=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e]&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e].length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e]=[!1,!1,!1,!1]),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e][0]=t,o&&this.resetBorderSection()},Buttons.prototype.outlineNewColorSelection=function(t,e){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline.length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline=[!1,!1,!1,!1]),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline[0]=t,e&&this.resetOutlineSection()},Buttons.prototype.shadowNewColorSelection=function(t,e,o,i){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o]&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o].length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o]=[!1,!1,!1],"shadow"==e&&(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o][3]=!1)),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o][1]=t,i&&("shadow"==e?this.resetShadowSection("shadow",1):this.resetShadowSection("textShadow",0))},Buttons.prototype.appearanceNewColorSelection=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance.length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance=[!1,!1,!1,!1,!1,!1,!1]);var i="bgColor"==o?0:1;this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance[i]=t,this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance[i+5]=U(t),e&&this.resetAppearanceSection()},Buttons.prototype.placeholderNewColorSelection=function(t,e){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder.length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder=[!1,!1]),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder[0]=t,this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].placeholder[1]=U(t),e&&this.resetPlaceholderSection()},Buttons.prototype.getButtonsArrayToSave=function(){var t=[];t.style=[],t.custom=this.customBtns;for(var e=["btn","btn--primary","btn--subtle","btn--accent","btn--disabled","btn--sm","btn--md","btn--lg"],o=0;o<this.customBtns.length;o++)e.push(this.customBtns[o][1]);for(o=0;o<e.length;o++)t.style[e[o]]=this.btnStyle[e[o]];return t},Buttons.prototype.getFormsArrayToSave=function(){var t=[];t.style=[];for(var e=["form-control","[disabled]","[aria-invalid]","legend","form-label"],o=0;o<e.length;o++)t.style[e[o]]=this.btnStyle[e[o]];return t},Buttons.prototype.updateButtonsCopyCode=function(t,e){var o=e||getFramework(),i="",r=["btn","btn--primary","btn--subtle","btn--accent","btn--disabled","btn--sm","btn--md","btn--lg"],s=this.getButtonsVarStyle();"tailwind"!=o&&(i=this.setRootVaraiables(s));for(var n=0;n<4;n++)1==n&&(i=i+"\n"+("tailwind"==o?"  /* themes */":"// themes")),0!=n&&(i+="\n"),i+=this.getButtonsCodeStyle(r[n],r[n],"",!0,o);if(this.customBtns&&0<this.customBtns.length)for(n=0;n<this.customBtns.length;n++)i=i+"\n"+this.getButtonsCodeStyle(this.customBtns[n][1],this.customBtns[n][0],!1,!0,o);for(n=4;n<r.length;n++)4==n&&(i="tailwind"==o?i+"\n  /* feedback */":i+"\n// feedback"),5==n&&(i="tailwind"==o?i+"\n  /* size */":i+"\n// size"),i=i+"\n"+this.getButtonsCodeStyle(r[n],r[n],!1,!0,o);return t=t.replace(t,i).trimRight(),"tailwind"==o&&(t="@layer components {\n"+t+"\n}"),t},Buttons.prototype.setRootVaraiables=function(t){return":root {"+t+"\n}\n\n"},Buttons.prototype.getButtonsCodeStyle=function(t,e,o,i,r){var s="";if(!this.btnStyle[t])return s;for(var n=i&&this.iframe.buttonsHasTransformStyle(this.btnStyle[t],this.statusPriorityList),a=0;a<this.statusPriorityList.length;a++){var l=0==a?"  ":"    ";if("tailwind"==r&&(l="    "),this.btnStyle[t][this.statusPriorityList[a]]&&M(this.btnStyle[t][this.statusPriorityList[a]])){var c=this.statusPriorityList[a];"form-control"!=t&&"[aria-invalid]"!=t||":focus"!=this.statusPriorityList[a]||(c="tailwind"==r&&"form-control"==t?":focus, ."+e+":focus-within":"tailwind"==r&&"[aria-invalid]"==t?":focus, .form-control"+e+":focus-within":":focus, &:focus-within"),0!=a&&(s="tailwind"==r?"[aria-invalid]"==t?s+"\n\n  .form-control"+e+c+" {":s+"\n\n  ."+e+c+" {":s+"\n\n  &"+c+" {"),s+=this.iframe.getButtonCode(this.btnStyle[t][this.statusPriorityList[a]],l,this.iframe,t,this.statusPriorityList[a],!1,n&&0==a,r),"tailwind"==r?s+="\n  }":0!=a&&(s+="\n  }")}}return"[disabled]"==t?e="form-control--disabled, .form-control[disabled], .form-control[readonly]":"[aria-invalid]"==t?e='form-control[aria-invalid="true"], .form-control.form-control--error':"legend"==t?e="form-legend":"btn--disabled"==t&&(e="btn--disabled, .btn[disabled], .btn[readonly]"),o&&(s=o+s),""!=s&&(s+="\n"),"tailwind"==r?("btn"==e?s=this.getDefaultBtnTw(l)+s:"form-control"==e?s=this.getDefaultFormTw(l)+s:"form-label"==e?s=this.getDefaultLabelTw(l)+s:"form-legend"==e&&(s=this.getDefaultLegendTw(l)+s),"  ."+e+" {"+s):"."+e+" {"+s+"}\n"},Buttons.prototype.getButtonsVarStyle=function(){var t="\n"+this.getCodeVariableFontSize("btn","--btn-font-size");return this.btnStyle.btn&&this.btnStyle.btn.none&&this.btnStyle.btn.none.padding&&this.btnStyle.btn.none.padding[1]&&(t=t+"  --btn-padding-x: "+this.iframe.getButtonsPaddingValue(this.btnStyle.btn.none.padding[1],this.btnStyle.btn.none.padding[5])+";\n"),this.btnStyle.btn&&this.btnStyle.btn.none&&this.btnStyle.btn.none.padding&&this.btnStyle.btn.none.padding[0]&&(t=t+"  --btn-padding-y: "+this.iframe.getButtonsPaddingValue(this.btnStyle.btn.none.padding[0],this.btnStyle.btn.none.padding[4])+";\n"),this.btnStyle.btn&&this.btnStyle.btn.none&&this.btnStyle.btn.none.appearance&&(this.btnStyle.btn.none.appearance[7]&&0<this.btnStyle.btn.none.appearance[7]?t=t+"  --btn-radius: "+E[this.btnStyle.btn.none.appearance[7]]+";":this.btnStyle.btn.none.appearance[2]?t=t+"  --btn-radius: "+this.btnStyle.btn.none.appearance[2]+";":t+="  --btn-radius: 0em;"),t},Buttons.prototype.getCodeVariableFontSize=function(t,e){var o="",i="";return this.btnStyle[t]&&this.btnStyle[t].none&&this.btnStyle[t].none.typography&&""!=(i=this.iframe.getButtonsFontSizeValue(this.btnStyle[t].none.typography))&&(o=o+"  "+e+": "+i+";\n"),o},Buttons.prototype.updateFormsCopyCode=function(t,e){var o=e||getFramework(),i="",r=["form-control","[disabled]","[aria-invalid]","legend","form-label"],s=this.getFormsVarStyle();"tailwind"!=o&&(i=this.setRootVaraiables(s));for(var n=0;n<r.length;n++)0!=n&&(i+="\n"),i+=this.getButtonsCodeStyle(r[n],r[n],"",!1,o);return t=i.trimEnd(),"tailwind"==o&&(t="@layer components {\n"+t+"\n}"),t},Buttons.prototype.getFormsVarStyle=function(){var t="\n"+this.getCodeVariableFontSize("form-control","--form-control-font-size");return this.btnStyle["form-control"]&&this.btnStyle["form-control"].none&&this.btnStyle["form-control"].none.padding&&this.btnStyle["form-control"].none.padding[1]&&(t=t+"  --form-control-padding-x: "+this.iframe.getButtonsPaddingValue(this.btnStyle["form-control"].none.padding[1],this.btnStyle["form-control"].none.padding[5])+";\n"),this.btnStyle["form-control"]&&this.btnStyle["form-control"].none&&this.btnStyle["form-control"].none.padding&&this.btnStyle["form-control"].none.padding[0]&&(t=t+"  --form-control-padding-y: "+this.iframe.getButtonsPaddingValue(this.btnStyle["form-control"].none.padding[0],this.btnStyle["form-control"].none.padding[4])+";\n"),this.btnStyle["form-control"]&&this.btnStyle["form-control"].none&&this.btnStyle["form-control"].none.appearance&&(this.btnStyle["form-control"].none.appearance[7]&&0<this.btnStyle["form-control"].none.appearance[7]?t=t+"  --form-control-radius: "+E[this.btnStyle["form-control"].none.appearance[7]]+";":this.btnStyle["form-control"].none.appearance[2]?t=t+"  --form-control-radius: "+this.btnStyle["form-control"].none.appearance[2]+";":t+="  --form-control-radius: 0em;"),t},Buttons.prototype.initFontList=function(){PROJECT&&PROJECT.typography&&this.iframe.initFontList(JSON.parse(se(PROJECT.typography)))},Buttons.prototype.resetFrameworkStyle=function(){var t=getFramework();if(this.radiusPreset.toggleClass("is-hidden","tailwind"==t),this.fontPreset.toggleClass("is-hidden","tailwind"==t),this.shadowPreset.toggleClass("is-hidden","tailwind"==t),this.transitionPreset.toggleClass("is-hidden","tailwind"==t),"tailwind"==t){for(var e in this.btnStyle)if(this.btnStyle.hasOwnProperty(e))for(var o in this.btnStyle[e])this.btnStyle[e].hasOwnProperty(o)&&this.resetForTw(e,o);this.updateButtonsDemo()}},Buttons.prototype.resetForTw=function(t,e){if(this.btnStyle[t][e].appearance[7]){this.btnStyle[t][e].appearance[7]=0;var o=this.appearanceSection.find("select").eq(0);o.val(0),o.closest(".js-app-editor-property--custom-value").addClass("app-editor-property--custom-value--is-visible"),tt(o)}if(this.btnStyle[t][e].shadow&&0<this.btnStyle[t][e].shadow.length)for(var i=0;i<this.btnStyle[t][e].shadow.length;i++)if(1<this.btnStyle[t][e].shadow[i][3]){this.btnStyle[t][e].shadow[i][3]=0;var r=this.shadowSection.find(".js-app-editor-section__grid").eq(i).find("select").eq(1);r.val(0),tt(r)}if(this.btnStyle[t][e].transition&&0<this.btnStyle[t][e].transition.length)for(i=0;i<this.btnStyle[t][e].transition.length;i++)if(3<this.btnStyle[t][e].transition[i][2]){this.btnStyle[t][e].transition[i][2]=0;var s=this.transitionSection.find(".js-app-editor-section__grid").eq(i).find("select").eq(1);s.val(0),tt(s)}},Buttons.prototype.getDefaultBtnTw=function(t){return"\n"+t+"position: relative;\n"+t+"display: inline-flex;\n"+t+"justify-content: center;\n"+t+"align-items: center;\n"+t+"white-space: nowrap;\n"+t+"@apply px-3 lg:px-5 py-1.5 lg:py-2;"},Buttons.prototype.getDefaultFormTw=function(t){return"\n"+t+"@apply px-2 lg:px-3 py-1.5 lg:py-2;"},Buttons.prototype.getDefaultLabelTw=function(t){return"\n"+t+"display: inline-block;"},Buttons.prototype.getDefaultLegendTw=function(t){return"\n"+t+"@apply mb-3 lg:mb-5;"};var E=["","var(--radius-sm)","var(--radius-md)","var(--radius-lg)"];function M(t){var e=!1;for(var o in t)if(t.hasOwnProperty(o)&&0<t[o].length){e=!0;break}return e}function J(t){return""==t.trim()?"":G(t)[0]+"px"}function G(t){if(""==t||!t)return[!1,!1];var e=parseFloat(t),o=t.replace(e,"");return isNaN(e)&&0==t.trim().indexOf("-")&&(e="-",o=""),[e,o]}function D(t){if("100%"==t||"100"==t)return!1;var e=parseInt(t);return!isNaN(e)&&e}function U(t){return 0!=t.indexOf("transparent")&&0!=t.indexOf("inherit")&&""!=t&&0!=t.indexOf("-a")&&0==(t=t.slice(-4)).indexOf("-a")&&(t=parseInt(t.replace("-a","")),!isNaN(t)&&t)}function H(t){return t&&""!=t?0!=t.slice(-4).indexOf("-a")?t:t.slice(0,-4):"not specified"}function W(t){return 0==t.indexOf("transparent")?"transparent":0==t.indexOf("inherit")?"inherit":0==t.indexOf("-a")?"":t}var z,Y=document.getElementsByClassName("js-app-sidebar-editor--buttons"),X=[];if(0<Y.length)for(n=0;n<Y.length;n++)z=n,X.push(new Buttons(Y[z]));this.SharedStyle=function(t,e){this.element=t,this.statusSection=$(this.element).find(".js-app-editor-section--states"),this.appearanceSection=$(this.element).find(".js-app-editor-section--appearance"),this.borderSection=$(this.element).find(".js-app-editor-section--border"),this.outlineSection=$(this.element).find(".js-app-editor-section--outline"),this.typographySection=$(this.element).find(".js-app-editor-section--typography"),this.fontSelection=this.typographySection.find(".js-font-family-select").find("select"),this.shadowSection=$(this.element).find(".js-app-editor-section--shadow"),this.transitionSection=$(this.element).find(".js-app-editor-section--transition"),this.transformSection=$(this.element).find(".js-app-editor-section--transform"),this.styleSectionsList=["appearance","border","typography","textShadow","shadow","outline","transition","transform"],this.apperanceTextNone=this.appearanceSection.find(".js-app-editor-property--text-style-none"),this.statusList=["none",":active",":hover",":focus"],this.statusPriorityList=["none",":hover",":focus",":active"],this.statusTag=this.statusSection.find(".js-editor-tag"),this.statusTagWrapper=this.statusSection.find(".js-editor-tag-wrapper"),this.customStyles=[],this.customTextStyles=[],this.fontFamilies=[],this.fontIds=[],this.fontCode="",this.selectedStatus=0,this.selectedStyle="style",this.typing=!1,this.customStyleArray=new Array,this.customTextStyleArray=new Array,this.btnStyle="style"==this.selectedStyle?this.customStyleArray:this.customTextStyleArray,this.selectedButton="style--custom-0",this.colorPreviewInteracted=!1,this.copyFromOrigin=$(".js-app-editor-section__copy-origin"),this.iframe=window.frames[0],this.stylesLoaded=!1,e||(this.initFrame(),this.loadPreset(),this.openToggleSections,this.resetUi("all",!0),this.resetSectionVisibility("style"),this.eventListeners())},SharedStyle.prototype.initFrame=function(){var t=this;onIframeLoad(t.iframe,function(){t.frameIsLoaded()})},SharedStyle.prototype.frameIsLoaded=function(){var t=this;t.stylesLoaded?(x(this.iframe),le(),j(this.iframe),T(this.iframe),t.updateSharedStyleDemo(!1)):setTimeout(function(){t.frameIsLoaded()},100),m&&m.defineBgVariables&&m.defineBgVariables()},SharedStyle.prototype.loadPreset=function(){this.initListFonts(),this.initStyles(),this.stylesLoaded=!0},SharedStyle.prototype.initCustomStyleArray=function(t,e){"text"==t?this.initItemStyleArray(this.customTextStyleArray,e):this.initItemStyleArray(this.customStyleArray,e)},SharedStyle.prototype.initItemStyleArray=function(t,e){t[e]=new Array;for(var o=0;o<this.statusList.length;o++){t[e][this.statusList[o]]=new Array;for(var i=0;i<this.styleSectionsList.length;i++)t[e][this.statusList[o]][this.styleSectionsList[i]]=new Array}},SharedStyle.prototype.initListFonts=function(){if(PROJECT&&PROJECT.typography){var t=JSON.parse(se(PROJECT.typography));this.fontCode=t.fontCode,this.fontFamilies=Object.values(t.fontFamilyLabels),this.fontIds=Object.values(t.fontFamilyIds),this.fontFamilies.unshift("not specified"),this.fontIds.unshift(0)}else this.fontFamilies=["not specified","--font-primary"],this.fontIds=[0,1];for(var e="",o=0;o<this.fontFamilies.length;o++)e=e+'<option value="'+this.fontIds[o]+'">'+this.fontFamilies[o]+"</option>";this.fontSelection.html(e)},SharedStyle.prototype.initStyles=function(){PROJECT&&PROJECT.shared_styles?this.initStyleFromProject(JSON.parse(se(PROJECT.shared_styles))):this.initDefaultStyle()},SharedStyle.prototype.initDefaultStyle=function(){this.initCustomStyleArray("style","style--custom-0"),this.initCustomStyleArray("style","style--custom-1"),this.initCustomStyleArray("style","style--custom-2"),this.initCustomStyleArray("text","text--custom-0"),this.customStyles.push(["hover:reduce-opacity","style--custom-0"]),this.customStyles.push(["hover:scale","style--custom-1"]),this.customStyles.push(["hover:elevate","style--custom-2"]),this.customTextStyles.push(["link-subtle","text--custom-0"]),this.customStyleArray["style--custom-0"].none.appearance=[!1,!1,!1,"1",!1,!1,!1],this.customStyleArray["style--custom-0"].none.transition=[[0,.3,0,!1]],this.customStyleArray["style--custom-0"][":hover"].appearance=[!1,!1,!1,"0.8",!1,!1,!1],this.customStyleArray["style--custom-1"].none.transition=[[7,.3,7,!1]],this.customStyleArray["style--custom-1"][":hover"].transform=[[5,"1.1"]],this.customStyleArray["style--custom-2"].none.shadow=[[0,!1,"",3]],this.customStyleArray["style--custom-2"].none.transition=[[0,.3,0,!1]],this.customStyleArray["style--custom-2"][":hover"].shadow=[[0,!1,"",4]],this.customTextStyleArray["text--custom-0"].none.appearance=[!1,"inherit",!1,!1,2,!1,!1],this.customTextStyleArray["text--custom-0"].none.typography=[!1,!1,!1,!1,!1,1,!1,!1,!1],this.customTextStyleArray["text--custom-0"].none.transition=[[0,.2,0,!1]],this.customTextStyleArray["text--custom-0"][":hover"].appearance=[!1,"--color-primary",!1,!1,!1,!1,!1]},SharedStyle.prototype.initStyleFromProject=function(t){for(var e=["customStyles","customTextStyles"],o=0;o<e.length;o++)for(var i in t[e[o]])t[e[o]].hasOwnProperty(i)&&this[e[o]].push(Object.values(t[e[o]][i]));var r=["customStyleArray","customTextStyleArray"];for(o=0;o<r.length;o++)for(var i in t[r[o]])if(t[r[o]].hasOwnProperty(i))for(var s in this[r[o]][i]=Object.values(t[r[o]][i]),this[r[o]][i]=[],t[r[o]][i])if(t[r[o]][i].hasOwnProperty(s))for(var n in this[r[o]][i][s]=[],t[r[o]][i][s])if(t[r[o]][i][s].hasOwnProperty(n))if("border"==n||"textShadow"==n||"shadow"==n||"transform"==n||"transition"==n)for(var a in this[r[o]][i][s][n]=[],t[r[o]][i][s][n])t[r[o]][i][s][n].hasOwnProperty(a)&&(this[r[o]][i][s][n][a]=Object.values(t[r[o]][i][s][n][a]));else if("appearance"==n){var l=this.resetAppearanceArray(t[r[o]][i][s][n]);this[r[o]][i][s][n]=Object.values(l)}else this[r[o]][i][s][n]=Object.values(t[r[o]][i][s][n])},SharedStyle.prototype.resetAppearanceArray=function(t){var e=!0;for(var o in t){e=!1;break}if(!e)for(var i=0;i<8;i++)t[i]||(t[i]=!1);return t},SharedStyle.prototype.resetUi=function(t,e){"all"==t&&(this.openToggleSections=!0),("all"==t||"appearance"==t)&&this.resetAppearanceSection(e),("all"==t||"border"==t)&&this.resetBorderSection(e),("all"==t||"typography"==t)&&this.resetTypographySection(e),("all"==t||"shadow"==t)&&this.resetShadowSection("shadow",1,e),("all"==t||"textShadow"==t)&&this.resetShadowSection("textShadow",0,e),("all"==t||"outline"==t)&&this.resetOutlineSection(e),("all"==t||"transition"==t)&&this.resetTransitionSection(e),("all"==t||"transform"==t)&&this.resetTransformSection(e),this.openToggleSections=!1},SharedStyle.prototype.resetStatusTag=function(){0==this.selectedStatus?this.statusTagWrapper.addClass("hide"):this.statusTagWrapper.removeClass("hide"),this.statusTag.text(this.statusList[this.selectedStatus])},SharedStyle.prototype.resetAppearanceSection=function(t){if(0!=this.appearanceSection.length){this.checkOpacityFieldSet("appearance",5,0),this.checkOpacityFieldSet("appearance",6,1);var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance,o=this.appearanceSection.find("select"),i=this.appearanceSection.find("input");(!e||e.length<1)&&(e=!1),o.eq(1).val(e[4]||0),o.eq(0).val(e[7]||0),i.eq(4).val(e[2]||"").end().eq(5).val(e[3]||""),e[5]||0===e[5]?i.eq(0).val(e[5]+"%"):i.eq(0).val("100%"),e[6]||0===e[6]?i.eq(2).val(e[6]+"%"):i.eq(2).val("100%"),this.setPreviewLabelColor(this.appearanceSection.find(".js-app-editor-color-preview").eq(0),e[0]),this.setPreviewLabelColor(this.appearanceSection.find(".js-app-editor-color-preview").eq(1),e[1]),this.checkSectionToReset("appearance");var r=this.appearanceSection.find(".js-app-editor-property--custom-value");e[7]&&0!=e[7]?r.removeClass("app-editor-property--custom-value--is-visible"):r.addClass("app-editor-property--custom-value--is-visible"),t&&tt(o)}},SharedStyle.prototype.setPreviewLabelColor=function(t,e){var o=m.colorValues[e]||this.getNotListedColorValue(e),i=(e=m.colorValues[e]?e:this.getNotListedColorLabel(e),this.getTitleColorLabel(H(e)));t.attr("style","background-color: "+o+";").attr("data-color-lb",e).attr("title",i),et(t);var r=t.parent().next().children(".js-opacity-field");r&&r.trigger("reset-slider")},SharedStyle.prototype.getNotListedColorValue=function(t){return t&&""!=t&&4!=t.length?m.colorValues[t.slice(0,-4)].replace("1)",Number(t.slice(-2)/100).toFixed(2)+")"):""},SharedStyle.prototype.getNotListedColorLabel=function(t){return t&&0==t.indexOf("inherit")?"inherit":t&&0==t.indexOf("transparent")?"transparent":t&&""!=t&&4!=t.length?t:""},SharedStyle.prototype.getTitleColorLabel=function(t){return-1<t.indexOf("color-custom-")&&(t=m.customColorLabels[m.mainColorLabels.indexOf(t.replace("--color-",""))-5]),t},SharedStyle.prototype.resetBorderSection=function(t){if(0!=this.borderSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border;this.resetList(this.borderSection,e);var o=this.borderSection.find(".js-app-editor-section__grid"),i=0;if(e&&0<e.length)for(var r=0;r<e.length;r++){var s=o.eq(i).find("select");s.eq(1).val(e[r][1]),s.eq(0).val(e[r][3]),o.eq(i).find("input").val(e[r][2]),this.setPreviewLabelColor(o.eq(i).find(".js-app-editor-color-preview"),e[r][0]),i+=1,t&&tt(s),o.eq(r).toggleClass("app-editor-section__grid--property-off",0==e[r][3])}else o.eq(0).find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),ot(o.eq(0).find(".js-app-editor-color-preview"));this.checkSectionToReset("border")}},SharedStyle.prototype.resetOutlineSection=function(t){if(0!=this.outlineSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline;(!e||e.length<1)&&(e=!1);var o,i=this.outlineSection.find("input"),r=[];r[0]=e[2]?e[2]:"",r[1]=e[3]?e[3]:"",o=e[0]?e[0]:e?"":"--color-primary",this.outlineSection.find("select").val(e[1]||0),i.eq(0).val(r[0]).end().eq(1).val(r[1]),this.setPreviewLabelColor(this.outlineSection.find(".js-app-editor-color-preview"),o),this.checkSectionToReset("outline"),this.outlineSection.find(".js-app-editor-section__grid").toggleClass("app-editor-section__grid--property-off",8==e[1]),t&&tt(this.outlineSection.find("select"))}},SharedStyle.prototype.resetTypographySection=function(t){if(0!=this.typographySection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].typography;this.setTypographyValues(e,t),this.checkSectionToReset("typography")}},SharedStyle.prototype.resetShadowSection=function(t,e,o){if(0!=this.shadowSection.length){var i=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t];this.resetList(this.shadowSection.eq(e),i);var r=this.shadowSection.eq(e).find(".js-app-editor-section__grid");if(i&&0<i.length)for(var s=0;s<i.length;s++){for(var n=i[s][2].replace(/px/g,"").split(" "),a=r.eq(s).find("input"),l=r.eq(s).find("select"),c=0;c<a.length;c++)n[c]?a.eq(c).val(n[c]):a.eq(c).val("");this.setPreviewLabelColor(r.eq(s).find(".js-app-editor-color-preview"),i[s][1]),l.eq(0).val(i[s][0]),"textShadow"!=t&&l.eq(1).val(i[s][3]),r.eq(s).toggleClass("app-editor-section__grid--property-off",1==i[s][0]),o&&tt(l),$t(l.eq(1))}else r.eq(0).find("input").val("").end().end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb").end().find("select").val(0),ot(r.eq(0).find(".js-app-editor-color-preview"));this.checkSectionToReset(t,e)}},SharedStyle.prototype.resetTransitionSection=function(t){if(0!=this.transitionSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].transition;this.resetList(this.transitionSection,e);var o=this.transitionSection.find(".js-app-editor-section__grid");if(e&&0<e.length)for(var i=0;i<e.length;i++){var r=o.eq(i).find("select"),s=o.eq(i).find("input");r.eq(0).val(e[i][0]||0).end().eq(1).val(e[i][2]||0),s.eq(0).val(e[i][1]||"").end().eq(1).val(e[i][3]||""),o.eq(i).toggleClass("app-editor-section__grid--property-off",1==e[i][0]),t&&tt(r)}else o.eq(0).find("select").val(0).end().find("input").val("");this.checkSectionToReset("transition")}},SharedStyle.prototype.resetTransformSection=function(t){if(0!=this.transformSection.length){var e=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].transform;this.resetList(this.transformSection,e);var o=this.transformSection.find(".js-app-editor-section__grid");if(e&&0<e.length)for(var i=0;i<e.length;i++){var r=o.eq(i).find("select");r.val(e[i][0]||0),o.eq(i).find("input").val(e[i][1]||""),t&&tt(r),o.eq(i).toggleClass("app-editor-section__grid--property-off",0===e[i][0])}else o.eq(0).find("select").val(0).end().find("input").val("");this.checkSectionToReset("transform")}},SharedStyle.prototype.checkOpacityFieldSet=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][o]&&null==this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][e]&&(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][e]=U(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t][o]))},SharedStyle.prototype.resetList=function(t,e){var o=0,i=t.find(".js-app-editor-section__grid");if(e&&(o=e.length),o<2||i.length>o){var r=o<2?0:i.length-o-1;i.eq(r).nextAll(".js-app-editor-section__grid").remove()}else if(o>i.length){var s=i.eq(0).clone().removeClass("app-editor-section__grid--is-hidden");s.find(".js-select__button").remove(),s.find(".js-select__dropdown").remove(),s.find("select").siblings("svg").attr("style","");for(var n=s[0].outerHTML,a="",l=i.length;l<o;l++)a+=n;i.last().after(a),I(i.last().nextAll().find(".js-select"))}0==o?(i.eq(0).addClass("app-editor-section__grid--is-hidden"),t.find(".app-editor-section__hint").removeClass("app-editor-section__hint--is-hidden")):(i.eq(0).removeClass("app-editor-section__grid--is-hidden"),t.find(".app-editor-section__hint").addClass("app-editor-section__hint--is-hidden")),t.find(".js-app-editor-section__grid").addClass("app-editor-section__grid--unlabeled").last().removeClass("app-editor-section__grid--unlabeled")},SharedStyle.prototype.checkSectionToReset=function(t,e){var o=this[t+"Section"];"shadow"==t&&(o=this.shadowSection.eq(1)),"textShadow"==t&&(o=this.shadowSection.eq(0)),o.removeClass("app-editor-section--content-edited"),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t]&&0<this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][t].length?this.openToggleSections&&(o.children(".js-app-editor-section__title").removeClass("app-editor-section__title--hide-body"),0<this.selectedStatus&&o.addClass("app-editor-section--content-edited")):this.openToggleSections&&o.children(".js-app-editor-section__title").addClass("app-editor-section__title--hide-body")},SharedStyle.prototype.setTypographyValues=function(t,e){t||(t=!1);var o=this.typographySection.find("select"),i=this.typographySection.find("input"),r=this.typographySection.find(".js-app-editor-property--custom-value");o.eq(0).val(t[0]||0).end().eq(1).val(t[1]||0).end().eq(2).val(t[4]||0).end().eq(3).val(t[5]||0).end().eq(4).val(t[8]||0),i.eq(0).val(t[2]||"").end().eq(1).val(t[3]||"").end().eq(2).val(t[6]||"").end().eq(3).val(t[7]||""),t[1]&&9==t[1]?r.addClass("app-editor-property--custom-value--is-visible"):r.removeClass("app-editor-property--custom-value--is-visible"),e&&tt(o)},SharedStyle.prototype.eventListeners=function(){var a=this;this.statusSection.on("change","select",function(t){a.selectedStatus=$(t.target).val(),a.resetUi("all"),a.resetStatusTag()}),$(this.element).on("content-selected",function(t,e,o,i,r){o="style"==r?i?a.customStyles[i][1]:a.customStyles[0][1]:i?a.customTextStyles[i][1]:a.customTextStyles[0][1],a.selectedStyle=r,a.btnStyle="style"==a.selectedStyle?a.customStyleArray:a.customTextStyleArray,a.resetSectionVisibility(r),a.selectNewButton(o)}),$(this.element).on("custom-content-added",function(t,e,o,i){if(a.selectedStyle=i,a.btnStyle="style"==a.selectedStyle?a.customStyleArray:a.customTextStyleArray,"style"==i){var r="style--custom-"+(Number(a.customStyles[a.customStyles.length-1][1].replace("style--custom-",""))+1);a.customStyles.push([o,r])}else r="text--custom-"+(Number(a.customTextStyles[a.customTextStyles.length-1][1].replace("text--custom-",""))+1),a.customTextStyles.push([o,r]);a.initCustomStyleArray(i,r),a.selectNewButton(r),a.updateSharedStylDemoNewStyle(o,r,i),a.resetSectionVisibility(a.selectedStyle)}),$(this.element).on("custom-content-edited",function(t,e,o,i,r,s){"style"==s?a.customStyles[o][0]=i:a.customTextStyles[o][0]=i,a.updateSharedStylDemoEditStyle(o,i,s)}),$(this.element).on("custom-content-removed",function(t,e,o,i,r){var s="style"==r?a.customStyles:a.customTextStyles,n=s[o][1];a.btnStyle="style"==r?a.customStyleArray:a.customTextStyleArray,a.btnStyle[n]=[],s.splice(o,1),a.updateSharedStylDemoRemoveStyle(o,n,r)}),rt($(this.element),function(t){var e=Gt($(t.target).parents(".js-app-editor-section").eq(0),"js-app-editor-section--").replace("js-app-editor-section--","");if("shadow"==e&&(e=$(t.target).parents(".js-app-editor-section").attr("data-shadow")),"focusout"==t.type)if("border"==e||"outline"==e||"typography"==e&&$(t.target).is("#letterSpacing")||"appearance"==e&&$(t.target).is("#btnRadius"))a.resetUnitValue($(t.target),"px");else if("typography"==e&&$(t.target).hasClass("js-app-editor-property__custom-size"))a.resetUnitValue($(t.target),"em");else if("transform"==e){var o=Number($(t.target).parent().prev().find("select").val());0<o&&o<5?a.resetUnitValue($(t.target),"px"):8<o&&a.resetUnitValue($(t.target),"deg")}else if("shadow"==e||"textShadow"==e)$(t.target).parent().hasClass("js-app-editor__input-group--spread")||""!=$(t.target).val().trim()||$(t.target).val("0");else if($(t.target).is(".js-opacity-field")){var i=y(r=$(t.target).val());r!=i&&$(t.target).val(i)}else if("appearance"==e&&$(t.target).is("#opacity")){var r;-1<(r=$(t.target).val()).indexOf("%")&&$(t.target).val((Number(r.replace("%",""))/100).toFixed(2))}if($(t.target).is(".js-opacity-field")){a.colorPreviewInteracted=$(t.target).prev(".js-app-editor-color-preview");var s=a.getNewLabelColOpac($(t.target).val());$(a.element).trigger("new-color-selection",[s,!0])}else a.resetBtnStyle($(t.target),e,a.typing);a.typing=!1}),$(this.element).on("keydown","input",function(){a.typing=!0}),$(this.element).on("change","select",function(t){var e=Gt($(t.target).parents(".js-app-editor-section").eq(0),"js-app-editor-section--").replace("js-app-editor-section--","");if("shadow"==e&&(e=$(t.target).parents(".js-app-editor-section").attr("data-shadow")),"transform"==e){var o=$(t.target).val(),i=$(t.target).parents(".app-editor__input-group").next().find("input");0<o&&o<5?a.resetUnitValue(i,"px"):8<o&&a.resetUnitValue(i,"deg")}a.resetBtnStyle($(t.target),e,!0),a.typing=!1}),$(this.element).on("click",".js-btn-create",function(t){var e=$(t.target).parents(".js-app-editor-section").eq(0),o=Gt(e,"js-app-editor-section--").replace("js-app-editor-section--","");e.children().eq(0).removeClass("app-editor-section__title--hide-body"),a.addNewItem(e),"shadow"==o&&(o=e.attr("data-shadow")),a.resetBtnStyle("",o,!1)}),$(this.element).on("click",".js-btn-delete",function(t){var e=$(t.target).parents(".js-app-editor-section").eq(0),o=Gt(e,"js-app-editor-section--").replace("js-app-editor-section--","");a.removeItem(e,$(t.currentTarget)),"shadow"==o&&(o=e.attr("data-shadow")),a.resetBtnStyle("",o,!0)}),$(this.element).on("click",".js-app-editor-color-preview",function(t){a.colorPreviewInteracted=$(t.target)}),$(this.element).on("new-color-selection",function(t,e,o){e=W(e),a.colorPreviewInteracted&&(0<a.colorPreviewInteracted.parents(".js-app-editor-section--border").length?a.borderNewColorSelection(e,a.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<a.colorPreviewInteracted.parents(".js-app-editor-section--outline").length?a.outlineNewColorSelection(e,o):0<a.colorPreviewInteracted.parents('.js-app-editor-section--shadow[data-shadow="textShadow"]').length?a.shadowNewColorSelection(e,"textShadow",a.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<a.colorPreviewInteracted.parents('.js-app-editor-section--shadow[data-shadow="shadow"]').length?a.shadowNewColorSelection(e,"shadow",a.colorPreviewInteracted.parents(".js-app-editor-section__grid").index(),o):0<a.colorPreviewInteracted.parents(".js-app-editor-section--appearance").length&&a.appearanceNewColorSelection(e,o,a.colorPreviewInteracted.attr("data-property")),a.updateSharedStyleDemo(!0))})},SharedStyle.prototype.resetSectionVisibility=function(t){this.typographySection.toggleClass("app-editor-section--is-hidden","style"==t),this.shadowSection.eq(0).toggleClass("app-editor-section--is-hidden","style"==t),this.borderSection.toggleClass("app-editor-section--is-hidden",!("style"==t)),this.shadowSection.eq(1).toggleClass("app-editor-section--is-hidden",!("style"==t)),this.apperanceTextNone.toggleClass("is-hidden",!("style"==t))},SharedStyle.prototype.resetUnitValue=function(t,e){var o=G(t.val());o[0]&&""==o[1]&&t.val(t.val()+e)},SharedStyle.prototype.getNewLabelColOpac=function(t){var e=this.colorPreviewInteracted.attr("data-color-lb");return 0==e.slice(-4).indexOf("-a")&&(e=e.slice(0,-4)),e+l(t)},SharedStyle.prototype.resetBtnStyle=function(t,e,o){if("states"!=e){var i=this.getNewBtnStyleSection(e,t),r=this.sectionChanged(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e],i[0]);i[1]?this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e]=i[0]:this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e]=[],this.checkSectionToReset(e),this.resetUi(e),(i[1]&&r||o)&&this.updateSharedStyleDemo(r)}},SharedStyle.prototype.sectionChanged=function(t,e){var o=!1;if(!t&&e||t.length!=e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!=e[i]){o=!0;break}return o},SharedStyle.prototype.getNewBtnStyleSection=function(t,e){var o=this[t+"Section"];"shadow"==t&&(o=this.shadowSection.eq(1)),"textShadow"==t&&(o=this.shadowSection.eq(0));var i=o.find("input"),r=o.find("select"),s=o.find(".js-app-editor-color-preview");return"appearance"==t?this.resetAppearanceBtnStyle(i,r,s):"border"==t?this.resetBorderBtnStyle(i,r,s):"typography"==t?this.resetTypographyBtnStyle(i,r,s):"shadow"==t?this.resetShadowBtnStyle(o,"shadow",1,i,r,s):"textShadow"==t?this.resetShadowBtnStyle(o,"textShadow",0,i,r,s):"outline"==t?this.resetOutlineBtnStyle(i,r,s):"transition"==t?this.resetTransitionBtnStyle(i,r,s):"transform"==t?this.resetTransformBtnStyle(i,r,s):void 0},SharedStyle.prototype.resetAppearanceBtnStyle=function(t,e,o){var i=[o.eq(0).attr("data-color-lb"),o.eq(1).attr("data-color-lb"),t.eq(4).val(),t.eq(5).val(),Number(e.eq(1).val()),D(t.eq(0).val()),D(t.eq(2).val()),Number(e.eq(0).val())],r=!1;return""==i[0]&&""==i[1]&&""==i[2].trim()&&0==i[4]&&""==i[3].trim()&&0==i[7]||(r=!0),[i,r]},SharedStyle.prototype.resetBorderBtnStyle=function(t,e,o){for(var i=this.borderSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++){var a=2*n;r[n]=[o.eq(n).attr("data-color-lb"),Number(e.eq(1+a).val()),t.eq(n).val(),Number(e.eq(a).val())]}return 0<i.length&&(s=!0),[r,s]},SharedStyle.prototype.resetOutlineBtnStyle=function(t,e,o){var i=[o.eq(0).attr("data-color-lb"),Number(e.eq(0).val()),t.eq(0).val(),t.eq(1).val()],r=!1;return""==i[1]&&0==i[0]&&""==i[2].trim()||(r=!0),[i,r]},SharedStyle.prototype.resetTypographyBtnStyle=function(t,e,o){var i=[Number(e.eq(0).val()),Number(e.eq(1).val()),t.eq(0).val(),t.eq(1).val(),Number(e.eq(2).val()),Number(e.eq(3).val()),t.eq(2).val(),t.eq(3).val(),Number(e.eq(4).val())],r=!1;0!=i[1]&&9==i[1]||(i[2]="");for(var s=0;s<i.length;s++)if(i[s]&&0!==i[s]&&""!==i[s].toString().trim()){r=!0;break}return[i,r]},SharedStyle.prototype.resetShadowBtnStyle=function(t,e,o,i,r,s){for(var n=t.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),a=[],l=!1,c=0;c<n.length;c++){var d="textShadow"==e?3*c:4*c,p="textShadow"==e?c:2*c,h=J(i.eq(d).val())+" "+J(i.eq(d+1).val())+" "+J(i.eq(d+2).val());"textShadow"!=e&&(h=h+" "+J(i.eq(d+3).val())),a[c]=[Number(r.eq(p).val()),s.eq(c).attr("data-color-lb"),h],"textShadow"!=e&&(a[c][3]=Number(r.eq(p+1).val()))}return 0<n.length&&(l=!0),[a,l]},SharedStyle.prototype.resetTransitionBtnStyle=function(t,e,o){for(var i=this.transitionSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++){var a=2*n;r[n]=[Number(e.eq(a).val()),t.eq(a).val().replace("s",""),Number(e.eq(1+a).val()),t.eq(1+a).val().replace("s","")]}return 0<i.length&&(s=!0),[r,s]},SharedStyle.prototype.resetTransformBtnStyle=function(t,e,o){for(var i=this.transformSection.find(".js-app-editor-section__grid").not(".app-editor-section__grid--is-hidden"),r=[],s=!1,n=0;n<i.length;n++)r[n]=[Number(e.eq(n).val()),t.eq(n).val()];return 0<i.length&&(s=!0),[r,s]},SharedStyle.prototype.updateSharedStyleDemo=function(t){this.iframe.updateIframeStyles(this.customStyleArray,this.customTextStyleArray,this.customStyles,this.customTextStyles),t&&"1"==IS_LOGGED&&ae.yes()},SharedStyle.prototype.updateSharedStylDemoNewStyle=function(t,e,o){this.iframe.createIframeStyles(t,e,o),"1"==IS_LOGGED&&ae.yes()},SharedStyle.prototype.updateSharedStylDemoEditStyle=function(t,e,o){this.iframe.editIframeStyles(t,e,o),"1"==IS_LOGGED&&ae.yes()},SharedStyle.prototype.updateSharedStylDemoRemoveStyle=function(t,e,o){this.iframe.cancelIframeStyle(t,e,o),"1"==IS_LOGGED&&ae.yes()},SharedStyle.prototype.selectNewButton=function(t){this.selectedButton=t,this.resetUi("all",!0)},SharedStyle.prototype.borderNewColorSelection=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e]&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e].length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e]=[!1,!1,!1,!1]),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].border[e][0]=t,o&&this.resetBorderSection()},SharedStyle.prototype.outlineNewColorSelection=function(t,e){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline.length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline=[!1,!1,!1,!1]),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].outline[0]=t,e&&this.resetOutlineSection()},SharedStyle.prototype.shadowNewColorSelection=function(t,e,o,i){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o]&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o].length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o]=[!1,!1,!1],"shadow"==e&&(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o][3]=!1)),this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]][e][o][1]=t,i&&("shadow"==e?this.resetShadowSection("shadow",1):this.resetShadowSection("textShadow",0))},SharedStyle.prototype.appearanceNewColorSelection=function(t,e,o){this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance&&0!=this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance.length||(this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance=[!1,!1,!1,!1,!1,!1,!1]);var i="bgColor"==o?0:1;this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance[i]=t,this.btnStyle[this.selectedButton][this.statusList[this.selectedStatus]].appearance[i+5]=U(t),e&&this.resetAppearanceSection()},SharedStyle.prototype.removeItem=function(t,e){var o=t.find(".js-app-editor-section__grid");if(1==o.length)return o.addClass("app-editor-section__grid--is-hidden"),o.find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),void ot(o.find(".js-app-editor-color-preview"));e.parents(".js-app-editor-section__grid").remove()},SharedStyle.prototype.addNewItem=function(t){var e=t.find(".js-app-editor-section__grid").eq(0);if(e.hasClass("app-editor-section__grid--is-hidden"))return e.removeClass("app-editor-section__grid--is-hidden app-editor-section__grid--unlabeled"),void this.resetInitialValues(t);var o=e.clone();o.find(".js-select__button").remove(),o.find(".js-select__dropdown").remove(),o.find("svg").attr("style",""),o.find("select").val(0).end().find("input").val("").end().find(".js-app-editor-color-preview").removeAttr("style").removeAttr("data-color-lb"),ot(o.find(".js-app-editor-color-preview"));var i=t.find(".js-app-editor-section__grid");i.last().after(o[0].outerHTML),this.resetInitialValues(t),i.addClass("app-editor-section__grid--unlabeled").last().removeClass("app-editor-section__grid--unlabeled"),I(t.find(".js-app-editor-section__grid").last().find(".js-select"))},SharedStyle.prototype.resetInitialValues=function(t){if(t.hasClass("js-app-editor-section--transition")&&t.find(".js-app-editor-section__grid").last().find("input").eq(0).val("0.3"),t.attr("data-shadow")){var e="shadow"==t.attr("data-shadow")?["0","4","8","--color-black-a20"]:["0","1","2","--color-black-a25"];(o=t.find(".js-app-editor-section__grid").last()).find("input").eq(0).val(e[0]).end().eq(1).val(e[1]).end().eq(2).val(e[2]),o.find(".js-app-editor-color-preview").attr("data-color-lb",e[3]),et(o.find(".js-app-editor-color-preview"))}var o;t.hasClass("js-app-editor-section--border")&&((o=t.find(".js-app-editor-section__grid").last()).find("input").eq(0).val("1px"),o.find("select").eq(0).val(1),o.find(".js-app-editor-color-preview").attr("data-color-lb","--color-contrast-low"),et(o.find(".js-app-editor-color-preview")))},SharedStyle.prototype.updateStyleCopyCode=function(t){for(var e="",o=0;o<this.customStyles.length;o++)0!=o&&(e+="\n"),e+=this.getStyleCodeStyle(this.customStyles[o][0],this.customStyles[o][1],this.customStyleArray[this.customStyles[o][1]],"style");for(o=0;o<this.customTextStyles.length;o++)0==o&&(e+="\n// text styles"),e=e+"\n"+this.getStyleCodeStyle(this.customTextStyles[o][0],this.customTextStyles[o][1],this.customTextStyleArray[this.customTextStyles[o][1]],"text");return t.replace(t,e).trimRight()},SharedStyle.prototype.getStyleCodeStyle=function(t,e,o,i){var r="";if(!o)return r;for(var s=0;s<this.statusPriorityList.length;s++){var n=0==s?"  ":"    ";o[this.statusPriorityList[s]]&&M(o[this.statusPriorityList[s]])&&(0!=s&&(r=r+"\n\n  &"+this.statusPriorityList[s]+" {"),r+=this.iframe.getButtonCode(o[this.statusPriorityList[s]],n,this.iframe,e,this.statusPriorityList[s],!1),0!=s&&(r+="\n  }"))}return"."+(t=this.escapeCSScharacters(t))+" {"+r+"\n}\n"},SharedStyle.prototype.getArrayToSave=function(){var t=[];return t.customStyleArray=this.customStyleArray,t.customTextStyleArray=this.customTextStyleArray,t.customStyles=this.customStyles,t.customTextStyles=this.customTextStyles,t},SharedStyle.prototype.initFontList=function(){PROJECT&&PROJECT.typography&&this.iframe.initFontList(JSON.parse(se(PROJECT.typography)))},SharedStyle.prototype.escapeCSScharacters=function(t){return this.iframe.escapeCSScharacters(t)};var K,Q=document.getElementsByClassName("js-app-sidebar-editor--shared-styles"),Z=[];if(0<Q.length)for(n=0;n<Q.length;n++)K=n,Z.push(new SharedStyle(Q[K]));function tt(t){for(var e=0;e<t.length;e++)t.eq(e).parent(".js-select")[0].dispatchEvent(new Event("select-updated"))}function et(t){var e=t.attr("data-color-lb");t.parents(".js-app-editor-property__color-group").toggleClass("app-editor-property__color-group--disable-opacity",""==e||"transparent"==e||"inherit"==e)}function ot(t){t.parents(".js-app-editor-property__color-group").removeClass("app-editor-property__color-group--disable-opacity")}function it(t,e){0<t.length&&t.on("focusout",function(t){e(t)}),t.on("keyup",function(t){(t.key&&"enter"===t.key.toLowerCase()||t.keyCode&&"13"===t.keyCode)&&e(t)})}function rt(t,e){t.on("focusout input","input",function(t){e(t)}),t.on("keyup","input",function(t){(t.key&&"enter"===t.key.toLowerCase()||t.keyCode&&"13"===t.keyCode)&&e(t)})}function st(t,e,o){t.on("focusout",e,function(t){o(t)}),t.on("keypress",e,function(t){(t.key&&"enter"===t.key.toLowerCase()||t.keyCode&&"13"===t.keyCode)&&(t.preventDefault(),o(t))})}var nt=$(".js-app-content-switch");if(0<nt.length){var at=nt.attr("data-global").toLowerCase(),lt=nt.find(".js-app-content-switch__group"),ct=$(".js-app-sidebar--globals");if(nt.on("click",".js-app-content-item",function(t){$(t.target).is(".js-add-content")||0!=$(t.target).parents(".js-add-content").length||nt.toggleClass("app-content-switch--is-open")}),nt.on("click",".js-add-content",function(t){nt.addClass("app-content-switch--is-open");var e="Untitled";lt.find(".app-content-item--is-selected").removeClass("app-content-item--is-selected app-content-item--is-editing").children("em").attr("contenteditable","false"),pt(e,lt),lt.find(".app-content-item--is-selected").children("em").attr("contenteditable","true").selectText(),ct.trigger("content-switch-added",[at,e])}),lt.on("click","li",function(t){!lt.children(".app-content-item--is-selected").is($(t.currentTarget))&&$(t.target).parents(".js-content-item__cta--remove").length<1&&!$(t.target).is(".js-content-item__cta--remove")&&(lt.children(".app-content-item--is-selected").removeClass("app-content-item--is-selected app-content-item--is-editing").children("em").attr("contenteditable","false"),$(t.currentTarget).addClass("app-content-item--is-selected"),ct.trigger("content-switch-selected",[at,$(t.currentTarget).index()]))}),lt.on("click",".js-content-item__cta--edit",function(t){$(t.currentTarget).parents("li").eq(0).trigger("dblclick")}),lt.on("click",".js-content-item__cta--remove",function(t){var e=$(t.currentTarget).parents("li").eq(0),o=e.hasClass("app-content-item--is-selected"),i=e.index();e.remove(),o&&lt.children("li").eq(0).addClass("app-content-item--is-selected"),ct.trigger("content-switch-deleted",[at,i,o])}),lt.on("dblclick","li",function(t){$(t.currentTarget).hasClass("js-app-content-item--default")||$(t.currentTarget).addClass("app-content-item--is-editing").children("em").eq(0).attr("contenteditable","true").focus().selectText()}),st(lt,"li",function(t){if(!$(t.originalEvent.target).is(".js-content-item__cta--edit")){var e=$(t.currentTarget),o=e.find("em");e.removeClass("app-content-item--is-editing"),o.attr("contenteditable","false"),dt(o.eq(0)[0]),ct.trigger("content-switch-edited",[at,$(t.currentTarget).index(),$(t.currentTarget).find("em").text()])}}),g&&g[0]&&0<g[0].themes.length)for(n=1;n<g[0].themes.length;n++)pt(g[0].themes[n],lt).removeClass("app-content-item--is-selected app-content-item--is-editing")}function dt(t){t.innerHTML=t.innerText}function pt(t,e){var o=e.children("li").eq(0).clone();return o.removeClass("js-app-content-item--default").addClass("app-content-item--is-editable app-content-item--is-editing app-content-item--is-selected").children("em").text(t),e.append(o),o}var ht=$(".js-app-content__group");if(0<ht.length){at=ht.attr("data-global").toLowerCase(),ct=$(".js-app-sidebar--globals");var ut=ht.children("li"),ft=ht.find(".js-tw-hide"),gt=!1;ht.on("click",".js-app-content-item--group",function(t){$(t.target).is(".js-btn-create")||0!=$(t.target).parents(".js-btn-create").length||$(t.currentTarget).toggleClass("app-content-item--show-children")}),ht.on("click",".js-app-content-item",function(t){var e=!1;if(!$(t.currentTarget).hasClass("app-content-item--is-selected")){if($(t.target).is(".js-content-item__cta--delete")||0<$(t.target).parents(".js-content-item__cta--delete").length)return;ht.find(".app-content-item--is-selected").removeClass("app-content-item--is-selected"),$(t.currentTarget).addClass("app-content-item--is-selected");var o=!!$(t.currentTarget).hasClass("js-app-content-item--is-editable")&&$(t.currentTarget).index(),i=$(t.currentTarget).children(".app-content-item__text").text();if("colors"==at&&-1<$(t.currentTarget).attr("data-section").indexOf("color-custom")&&(i=$(t.currentTarget).attr("data-section").replace("#color","--color")),"shared styles"==at&&(e=jt(t.currentTarget)),ct.trigger("content-selected",[at,i,o,e]),!gt){var r=$(t.currentTarget).attr("data-section");r&&""!=r&&triggerSectionSelection(r)}}gt=!1}),ht.on("click",".js-btn-create",function(t){var e,o=$(t.currentTarget).parents(".js-app-content-item--is-editable").eq(0).next(),i=o.children(".js-app-content-item"),r=i.eq(0).clone().removeClass("is-hidden");switch(at){case"buttons":e="btn--custom";break;case"colors":e="--color-"+Dt(i.length);break;default:e="Untitled"}var s=o.is(".js-app-content__feedback-colors"),n="colors"==at&&o.hasClass("js-app-content__gradient-colors");s?e="--color-custom":n&&(e="--gradient-"+Dt(i.length)),r.addClass("app-content-item--is-editable js-app-content-item--is-editable app-content-item--is-selected").children("span").eq(0).text(e).attr("contenteditable","true"),ht.find(".app-content-item--is-selected").removeClass("app-content-item--is-selected app-content-item--is-editing").find("span").attr("contenteditable","false");var a=!1;"colors"==at&&(a="#color-custom-"+function(t){if(t.attr("data-section").indexOf("#color-custom")<0)return"0";var e=t.attr("data-section");return e=-1<e.indexOf("#color-custom-fdb")?e.replace("#color-custom-fdb-",""):e.replace("#color-custom-",""),Number(e)+1}(i.last()),s?a=a.replace("#color-custom-","#color-custom-fdb-"):n&&(a="#gradient-custom-"+function(t){if(t.attr("data-section").indexOf("#gradient-custom")<0)return"0";var e=t.attr("data-section");return e=e.replace("#gradient-custom-",""),Number(e)+1}(i.last())),r.attr("data-section",a)),"buttons"==at&&r.attr("data-section",e),"shared styles"==at&&(a=jt(i.eq(0)[0]),r.attr("data-section",e)),o.append(r),o.prev().addClass("app-content-item--show-children"),ct.trigger("custom-content-added",[at,e,a]),o.find(".app-content-item--is-selected").addClass("app-content-item--is-editing").find("span").selectText(),9<=i.length&&"colors"==at&&o.prev().removeClass("app-content-item--is-editable")}),ht.on("dblclick","li.js-app-content-item--is-editable",function(t){$(t.currentTarget).addClass("app-content-item--is-editing").focus().find("span").eq(0).attr("contenteditable","true").selectText()}),ht.on("click",".js-content-item__cta--edit",function(t){$(t.currentTarget).parents("li").eq(0).trigger("dblclick")}),st(ht,"li.js-app-content-item--is-editable",function(t){if(!$(t.originalEvent.target).is(".js-content-item__cta--edit")&&$(t.currentTarget).hasClass("app-content-item--is-editing")){var e=$(t.currentTarget),o=e.find("span");if(e.removeClass("app-content-item--is-editing"),o.attr("contenteditable","false"),dt(o.eq(0)[0]),"colors"==at){var i=-1<$(t.currentTarget).attr("data-section").indexOf("#gradient"),r=$(t.currentTarget).find("span");i&&r.text().indexOf("--gradient-")<0?r.text("--gradient-"+r.text().replace("--","")):!i&&r.text().indexOf("--color-")<0&&r.text("--color-"+r.text().replace("--",""))}if("buttons"==at){var s=$(t.currentTarget).find("span");s.text().indexOf("btn--")<0&&s.text("btn--"+s.text()),d=!1,"btn--disabled"==(p=c=(l=s).text())?(p="btn--disabled-2",d=!0):"btn--primary"==c?(p="btn--primary-v2",d=!0):"btn--subtle"==c?(p="btn--subtle-v2",d=!0):"btn--accent"==c?(p="btn--accent-v2",d=!0):"btn--sm"==c?(p="btn--sm-v2",d=!0):"btn--md"==c?(p="btn--md-v2",d=!0):"btn--lg"==c?(p="btn--lg-v2",d=!0):"btn--icon"==c&&(p="btn--icon-v2",d=!0),d&&(p=function(t){for(var e=ht.find(".js-app-content__main-buttons")[0].children,o=0;o<e.length;o++)if(e[o].getElementsByClassName("app-content-item__text")[0].textContent==t){i=t.split("-v"),r=parseInt(i[1])+1,t=i[0]+"-v"+r;break}var i,r;return t}(p),l.text(p),$(".js-flash-message--button-label").trigger("showFlashMessage")),$(t.currentTarget).attr("data-section",s.text())}var n=!1;if("shared styles"==at){n=jt(t.currentTarget);var a=$(t.currentTarget).find("span");$(t.currentTarget).attr("data-section",a.text())}ct.trigger("custom-content-edited",[at,$(t.currentTarget).index(),$(t.currentTarget).find("span").text(),$(t.currentTarget).attr("data-section"),n])}var l,c,d,p}),ht.on("click",".js-content-item__cta--delete",function(t){var e=$(t.currentTarget).parents("li").eq(0),o=e.index(),i=e.attr("data-section"),r=e.parents(".js-app-content__main-colors").eq(0).prev();"shared styles"==at&&(Q=jt(e[0])),e.remove(),ht.find(".js-app-content-item").eq(0).trigger("click"),ct.trigger("custom-content-removed",[at,o,i,Q]),r.addClass("app-content-item--is-editable")}),ht.on("selectSection",function(t,e){var o=$('.js-app-content-item[data-section="'+e+'"]'),i=o.parent().siblings(".js-app-content-item--group");0<i.length&&i.addClass("app-content-item--show-children"),gt=!0,o.trigger("click")}),ht.on("content-tab-selected",function(t,e){ut.addClass("app-content-item--is-hidden");var o=ut.filter('[data-tab="'+e+'"]'),i=o.eq(0);o.removeClass("app-content-item--is-hidden").eq(0),i.hasClass("js-app-content-item")?i.trigger("click"):(i.find(".js-app-content-item--group").eq(0).addClass("app-content-item--show-children"),i.find(".js-app-content-item").eq(0).trigger("click")),triggerTabSelection(e)});var mt=ht.find('[data-tab="tab-lh-crop"]').find("ul");if(ht.on("reset-font-list",function(t,e){var o=mt.children("li");o.length!=e&&(o.length>e?o.eq(e-1).nextAll().remove():function(t,e){for(var o="",i=t.eq(0).clone().removeClass("app-content-item--is-selected"),r=t.length;r<e;r++)i.attr("data-section","--font-"+(n=r,L&&0<L.length?L[0].fontFamilyIds[n]:"--font-"+n)).find("span").eq(0).text((s=r,L&&0<L.length?L[0].fontFamilyLabels[s]:"--font-"+S(s))),o+=i[0].outerHTML;var s,n;mt.append(o)}(o,e))}),ht.on("reset-font-label",function(t,e,o){mt.children("li").eq(e).children("span").text(o)}),g&&g[0]){if(0<g[0].customColorLabels.length){var bt=ht.find("ul.js-app-content__main-colors"),yt=ht.find("ul.js-app-content__feedback-colors"),vt=bt.children("li").eq(0).clone();for(vt.addClass("app-content-item--is-editable js-app-content-item--is-editable").removeClass("app-content-item--is-selected"),n=0;n<g[0].customColorLabels.length;n++)(Ct=vt.clone()).attr("data-section","#color-"+g[0].mainColorLabels[n+5]).children("span").eq(0).text(g[0].customColorLabels[n]),-1<g[0].mainColorLabels[n+5].indexOf("custom-fdb")?yt.append(Ct):bt.append(Ct)}if(0<g[0].gradientColorLabels.length){var St=(bt=ht.find("ul.js-app-content__gradient-colors")).children("li").eq(0).clone();for(St.addClass("app-content-item--is-editable js-app-content-item--is-editable").removeClass("app-content-item--is-selected is-hidden"),n=0;n<g[0].gradientColorLabels.length;n++){var Ct;(Ct=St.clone()).attr("data-section","#gradient-"+g[0].gradientColorIds[n]).children("span").eq(0).text("--gradient-"+g[0].gradientColorLabels[n]),bt.append(Ct)}bt.prev().addClass("app-content-item--show-children")}}if(X&&X[0]&&X[0].customBtns&&0<X[0].customBtns.length){var wt=ht.find(".js-app-content__main-buttons"),_t=wt.children("li").eq(0).clone(),kt="";for(_t.addClass("app-content-item--is-editable js-app-content-item--is-editable"),n=0;n<X[0].customBtns.length;n++)_t.attr("data-section",X[0].customBtns[n][0]).children("span").eq(0).text(X[0].customBtns[n][0]),kt+=_t.get(0).outerHTML;wt.append(kt)}if(Z&&Z[0]){if(Z[0].customStyles&&1<Z[0].customStyles.length){var Lt=ht.find(".js-app-content__main-styles");xt(Z[0].customStyles,Lt)}Z[0].customTextStyles&&1<Z[0].customTextStyles.length&&(Lt=ht.find(".js-app-content__text-styles"),xt(Z[0].customTextStyles,Lt))}function xt(t,e){var o=e.children("li").eq(0).clone(),i="";o.addClass("app-content-item--is-editable js-app-content-item--is-editable"),o.removeClass("app-content-item--is-selected");for(var r=1;r<t.length;r++)o.attr("data-section",t[r][0]).children("span").eq(0).text(t[r][0]),i+=o.get(0).outerHTML;e.append(i)}function jt(t){var e="text";return t.closest(".js-app-content__main-styles")&&(e="style"),e}ht.eq(0)[0].addEventListener("framework-selection",function(t){ft.toggleClass("is-hidden","tailwind"==t.detail),0<ft.find(".app-content-item--is-selected").length&&ht.find(".js-app-content-item").eq(0).trigger("click")})}var Tt=$(".js-app--tabs");if(0<Tt.length){var Bt=Tt.find(".js-app-tabs__item");ft=Tt.find(".js-tw-hide"),Tt.on("click",".js-app-tabs__item",function(t){if(!$(t.currentTarget).is(".app-tabs__item--selected")){var e=$(t.currentTarget).attr("data-tab");Bt.removeClass("app-tabs__item--selected"),$(t.currentTarget).addClass("app-tabs__item--selected"),ht.trigger("content-tab-selected",[e])}}),Tt[0].addEventListener("framework-selection",function(t){ft.toggleClass("is-hidden","tailwind"==t.detail),"tailwind"!=t.detail||Bt.eq(0).hasClass("app-tabs__item--selected")||Bt.eq(0).trigger("click")})}var qt=$(".js-app-sidebar--globals");if(0<qt.length){var It=$(".js-app-menu--color");qt.on("click",".js-app-editor-section__title",function(t){$(t.target).is(".js-app-editor-section__title-cta")||0<$(t.target).parents(".js-app-editor-section__title-cta").length||$(t.currentTarget).toggleClass("app-editor-section__title--hide-body")}),qt.on("click",".js-btn-responsive-rules",function(t){Ft($(t.currentTarget))}),qt.on("click",".js-app-delete-mq",function(t){Pt($(t.currentTarget),!0)}),qt.on("click",".js-app-editor-tabs__item",function(t){Nt($(t.currentTarget),!0)}),qt.on("click",".js-app-editor-section__reset-link",function(t){var e=$(t.currentTarget).parents(".js-app-editor-section");e.find(".js-app-delete-mq"),e.removeClass("app-editor-section--content-edited"),qt.trigger("reset-status",[e])}),qt.on("click",".js-app-editor-color-preview",function(t){It.trigger("open-color-selector",[$(t.target)])}),0<It.length&&($(window).on("click",function(t){!$(t.target).is(".js-app-editor-color-preview")&&!$(t.target).is(".js-app-menu--color")&&$(t.target).parents(".js-app-menu--color").length<1&&It.trigger("close-color-selection")}),$(window).on("keyup",function(t){(t.key&&"backspace"===t.key.toLowerCase()||t.keyCode&&"8"===t.keyCode)&&It.trigger("delete-opacity")}));var Ot=$(".js-shadow-list");0<Ot.length&&Ot.on("change",function(t){$t($(t.target))})}function $t(t){t.parents(".js-shadow-list-wrapper").eq(0).siblings(".js-shadow-custom").toggleClass("is-hidden",1<t.val())}function Ft(t){t.addClass("is-hidden").parents(".js-app-editor-section__title").removeClass("app-editor-section__title--hide-body").next().removeClass("app-editor-tabs--is-hidden")}function Pt(t,e){var o=t.parents(".js-app-editor-tabs");o.addClass("app-editor-tabs--is-hidden").prev(".js-app-editor-section__title").find(".js-btn-responsive-rules").removeClass("is-hidden"),o.find(".js-app-editor-tabs__item").removeClass("app-editor-tabs__item--selected").eq(0).addClass("app-editor-tabs__item--selected"),e&&o.trigger("reset-mq",[o.attr("data-tab-section")])}function Nt(t,e){var o=t.parents(".js-app-editor-tabs");t.hasClass("app-editor-tabs__item--selected")||(t.addClass("app-editor-tabs__item--selected").siblings().removeClass("app-editor-tabs__item--selected"),e&&o.trigger("select-mq",[t.index(),o.attr("data-tab-section")]))}function Vt(t){var e=t.replace("section-","");return e[0].toUpperCase()+e.substring(1)}function Rt(t){for(var e=1;e<t.length;e++)t[e]=!1;return t}function At(t,e){for(var o=[],i=t.find(".js-app-editor-tabs__item"),r=!1,s=0;s<e.length;s++){var n=e[s].reduce(function(t,e,o){return Et(e)?t.concat(o):t},[]);o=o.concat(n)}for(s=1;s<5;s++)o.includes(s)?(i.eq(s).addClass("app-editor-tabs__item--is-edited"),r=!0):i.eq(s).removeClass("app-editor-tabs__item--is-edited");r?Ft(t.prev().find(".js-btn-responsive-rules")):Pt(t.find(".js-app-delete-mq"),!1)}function Et(t){if(1<t.length){for(var e=!1,o=0;o<t.length;o++)if(!1!==t[o]){e=!0;break}return e}return!1!==t}function Mt(t){t.find(".app-editor-tabs__item--is-edited").removeClass("app-editor-tabs__item--is-edited"),t.find(".js-app-editor-tabs__item").eq(0).addClass("app-editor-tabs__item--selected").nextAll().removeClass("app-editor-tabs__item--selected")}function Jt(t,e,o){0!=t&&e.find(".js-app-editor-tabs__item").eq(t).toggleClass("app-editor-tabs__item--is-edited",!o)}function Gt(t,o){return $.grep(t[0].className.split(" "),function(t,e){return 0===t.indexOf(o)}).join()}function Dt(t){switch(t){case 1:return"primary";case 2:return"secondary";case 3:return"tertiary";case 4:return"quaternary";case 5:return"quinary";case 6:return"senary";default:return"custom"}}var Ut=$(".js-app-sidebar-trigger"),Ht=$(".js-app-sidebar--toggle");if(0<Ut.length&&Ut.on("click","button",function(t){var e=$(t.target).index(),o=0==e?1:0;$(t.target).toggleClass("app-sidebar-trigger__btn--selected").siblings().removeClass("app-sidebar-trigger__btn--selected"),Ht.eq(e).toggleClass("app-sidebar--is-visible",$(t.target).hasClass("app-sidebar-trigger__btn--selected")),Ht.eq(o).removeClass("app-sidebar--is-visible")}),0<$(".js-copy-code").length&&(new ClipboardJS(".js-copy-code",{text:function(t){var e=$(t).attr("data-type");return $(t).parents(".js-code-action-wrapper").eq(0).attr("data-"+e)}}).on("success",function(t){zt(t,!1),$(t.trigger).hasClass("js-copy-code--dependencies")&&Yt(t.trigger)}),"css"==localStorage.getItem("cd-copy-css"))){var Wt=$(".js-btn-split__label");Wt&&Wt.text("CSS").parent().attr("data-type","css")}function zt(t,e){var o,i,r,s=$(t.trigger);if(s.hasClass("js-copy-code--split")){var n=s.parents(".js-popover"),a=s.attr("data-type"),l=$('[aria-controls="'+n.attr("id")+'"]');s=l.siblings(".js-copy-code"),i=a,r=l,(o=s).find(".js-btn-split__label").text(i.toUpperCase()),o.attr("data-type",i),r.trigger("click"),localStorage.setItem("cd-copy-css",i)}s.addClass("btn-states--state-b"),setTimeout(function(){s.removeClass("btn-states--state-b")},3e3)}function Yt(t){var e=$("#notice-dependencies");e&&e.removeClass("notice--hide")}0<$(".js-modal__copy").length&&new ClipboardJS(".js-modal__copy",{text:function(t){return $(t).attr("data-copy")&&$(t).attr("data-copy"),$(t).prev().find(".js-modal__code").text()}}).on("success",function(t){zt(t)}),0<$(".js-globals-copy-code").length&&new ClipboardJS(".js-globals-copy-code",{text:function(t){var e=$(t).attr("data-type"),o=$(t).parents(".js-code-action-wrapper").eq(0);return Kt(o.attr("data-"+e),o.attr("data-demo"),o,e)}}).on("success",function(t){zt(t)});var Xt=$(".js-code-action-wrapper");function Kt(t,e,o,i){switch(e.toLowerCase()){case"colors":d=t,p=i,g&&0<g.length&&(d=g[0].updateCopyCode(d,p)),t=d;break;case"buttons":c=t,X&&0<X.length&&(c=X[0].updateButtonsCopyCode(c)),t=c;break;case"forms":l=t,X&&0<X.length&&(l=X[0].updateFormsCopyCode(l)),t=l;break;case"spacing":a=t,A&&0<A.length&&(a=A[0].updateCopyCode(a)),t=a;break;case"typography":s=t,n=i,L&&0<L.length&&(s=L[0].updateCopyCode(s,n)),t=s;break;case"shared styles":r=t,Z&&0<Z.length&&(r=Z[0].updateStyleCopyCode(r)),t=r;break;default:t=t}var r,s,n,a,l,c,d,p;return t}0<Xt.length&&Xt.on("click",".js-view-code",function(t){!function(t,e){var o,i,r,s,n,a,l,c,d,p=$("#"+$(t.currentTarget).attr("aria-controls"));if($(t.currentTarget).hasClass("js-view-code--global")){var h="codyframe"==getFramework()?"scss":"css";o=e,i=function(t){var e=new CustomEvent("updateGlobalCode",{detail:{content:t,type:h}});p[0].dispatchEvent(e)},scss_code=Kt(o.attr("data-scss"),o.attr("data-demo")),i(scss_code)}else r=e,s=$(t.currentTarget).attr("data-dep-url"),n=function(t){Yt(),p.trigger("showCode")},d=[],r.attr("data-html")||r.attr("data-scss")||r.attr("data-js")?(d[0]=r.attr("data-html"),d[1]=r.attr("data-scss"),d[2]=r.attr("data-js"),d[3]=r.attr("data-css"),n()):(a=r.attr("data-demo"),l=s,c=function(t){var e=JSON.parse(t);r.attr("data-html",e.response.html),r.attr("data-scss",e.response.scss),r.attr("data-css",e.response.css),r.attr("data-js",e.response.js),n()},$.ajax({url:"post/getComponentCode",data:"component="+a+"&dependencies="+l,type:"POST",cache:"false",beforeSend:function(){},success:function(t){c(t)},error:function(t,e,o){c("")}}))}(t,$(t.delegateTarget))});var Qt=$(".js-app-info-banner__close");0<Qt.length&&Qt.on("click",function(t){t.preventDefault(),Qt.parents(".js-app-info-banner").removeClass("app-info-banner--is-visible")});var Zt=$(".js-globals-save-code");0<Zt.length&&(Zt.on("click",function(){Zt.addClass("btn-states--state-b"),ee(Zt.attr("data-global").toLowerCase(),function(){ae.no(),Zt.removeClass("btn-states--state-b").addClass("btn-states--state-c"),setTimeout(function(){Zt.removeClass("btn-states--state-c")},2e3)})}),Zt.on("logInSuccess",function(){resetLoggedInAppearance(),logInModalClose()}));var te=document.getElementsByClassName("js-reset-global");function ee(t,e){switch(t.toLowerCase()){case"colors":!function(t){g&&0!=g.length||t();var e=g[0].getArrayToSave(),o=JSON.stringify(re(e));0==IS_LOGGED?ne(o,"colors",t):ie("project_id="+PROJECT.id+"&colors="+o,t)}(e);break;case"buttons":oe(e,"buttons");break;case"forms":oe(e,"forms");break;case"spacing":!function(t){A&&0!=A.length||t();var e=A[0].getArrayToSave(),o=encodeURIComponent(JSON.stringify(re(e)));0==IS_LOGGED?ne(o,"spacing",t):ie("project_id="+PROJECT.id+"&spacing="+o,t)}(e);break;case"typography":!function(t){L&&0!=L.length||t();var e=L[0].getArrayToSave(),o=encodeURIComponent(JSON.stringify(re(e)));0==IS_LOGGED?ne(o,"typography",t):ie("project_id="+PROJECT.id+"&typography="+o,t)}(e);break;case"shared styles":!function(t){Z&&0!=Z.length||t();var e=Z[0].getArrayToSave(),o=encodeURIComponent(JSON.stringify(re(e)));0==IS_LOGGED?ne(o,"sharedstyles",t):ie("project_id="+PROJECT.id+"&shared_styles="+o,t)}(e)}}function oe(t,e){if(X&&0!=X.length||t(),"buttons"==e){var o=encodeURIComponent(JSON.stringify(re(X[0].getButtonsArrayToSave())));saveString="&buttons="+o;var i="buttons"}else o=encodeURIComponent(JSON.stringify(re(X[0].getFormsArrayToSave()))),saveString="&form="+o,i="form";0==IS_LOGGED?ne(o,i,t):ie("project_id="+PROJECT.id+saveString,t)}function ie(t,e,o){0!=IS_LOGGED&&$.ajax({url:"post/updateGlobalsProject",data:t,type:"POST",dataType:"json",cache:"false"}).done(function(t){o||(1==t.status?($(".js-flash-message--project-update").trigger("showFlashMessage"),Zt.removeClass("btn-states--state-b")):e())}).fail(function(t){o||($(".js-flash-message--project-update").trigger("showFlashMessage"),Zt.removeClass("btn-states--state-b"))}).always(function(t){})}function re(t){var e=new Object;if("object"==typeof t)for(var o in t){var i=re(t[o]);e[o]=i}else e=t;return e}function se(t){return decodeURIComponent(t.replace(/%"/g,'%25"'))}function ne(t,e,o){localStorage.setItem("cdprj"+e,t),o()}0<te.length&&te[0].addEventListener("click",function(t){var e=te[0].getAttribute("data-global");t.preventDefault(),window.confirm("Are you sure you want to reset the global "+e+"? All your custom changes will be removed.")&&(console.log(e.toLowerCase()),function(t,e){if(0!=IS_LOGGED)switch(t){case"colors":ie("project_id="+PROJECT.id+"&colors=",e);break;case"buttons":ie("project_id="+PROJECT.id+"&buttons=",e);break;case"forms":ie("project_id="+PROJECT.id+"&form=",e);break;case"spacing":ie("project_id="+PROJECT.id+"&spacing=",e);break;case"typography":ie("project_id="+PROJECT.id+"&typography=",e);break;case"shared styles":ie("project_id="+PROJECT.id+"&shared_styles=",e)}}(e.toLowerCase(),function(){location.reload()}))});var ae={yes:function(){window.onbeforeunload=function(){return!0}},no:function(){window.onbeforeunload=null}};function le(){$(".js-app-canvas").find("iframe").addClass("app-canvas__iframe--content-is-loaded").end().find(".js-app-canvas__loader").remove()}}(),jQuery.fn.selectText=function(){var t=document,e=this[0];if(t.body.createTextRange)(o=document.body.createTextRange()).moveToElementText(e),o.select();else if(window.getSelection){var o,i=window.getSelection();(o=document.createRange()).selectNodeContents(e),i.removeAllRanges(),i.addRange(o)}};